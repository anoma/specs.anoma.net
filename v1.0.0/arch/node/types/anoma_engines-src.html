<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"><meta charset="UTF-8"><link href="https://specs.anoma.net/v1.0.0/assets/css/juvix-catppuchin.css" rel="stylesheet" type="text/css"><link href="https://specs.anoma.net/v1.0.0/assets/css/latte-light.css" rel="stylesheet" type="text/css"><link href="https://specs.anoma.net/v1.0.0/assets/css/juvix-source.css" rel="stylesheet" type="text/css"><script src="https://specs.anoma.net/v1.0.0/assets/js/highlight.js" type="text/javascript"></script><div id="package-header"><span class="caption"></span></div><pre id="src-content"><span class="ju-keyword">module</span> <span id="arch.node.types.anoma_engines"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.anoma_engines</span></span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="prelude"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#prelude" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#prelude" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.anoma_message"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_message-src.html#arch.node.types.anoma_message" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_message-src.html#arch.node.types.anoma_message" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.anoma_message</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.anoma_config"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#arch.node.types.anoma_config" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#arch.node.types.anoma_config" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.anoma_config</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.anoma_environment"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#arch.node.types.anoma_environment" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#arch.node.types.anoma_environment" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.anoma_environment</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.engine"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#arch.node.types.engine" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#arch.node.types.engine" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.engine</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.identities"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/identities-src.html#arch.node.types.identities" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/identities-src.html#arch.node.types.identities" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.identities</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.messages"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/messages-src.html#arch.node.types.messages" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/messages-src.html#arch.node.types.messages" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.messages</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.engine_behaviour"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_behaviour-src.html#arch.node.types.engine_behaviour" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_behaviour-src.html#arch.node.types.engine_behaviour" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.engine_behaviour</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.router"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/router-src.html#arch.node.types.router" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/router-src.html#arch.node.types.router" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.router</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.router_config"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/router_config-src.html#arch.node.engines.router_config" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/router_config-src.html#arch.node.engines.router_config" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.router_config</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.router_environment"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/router_environment-src.html#arch.node.engines.router_environment" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/router_environment-src.html#arch.node.engines.router_environment" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.router_environment</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.transport_protocol_config"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_protocol_config-src.html#arch.node.engines.transport_protocol_config" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_protocol_config-src.html#arch.node.engines.transport_protocol_config" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.transport_protocol_config</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.transport_protocol_environment"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_protocol_environment-src.html#arch.node.engines.transport_protocol_environment" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_protocol_environment-src.html#arch.node.engines.transport_protocol_environment" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.transport_protocol_environment</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.transport_connection_config"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_connection_config-src.html#arch.node.engines.transport_connection_config" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_connection_config-src.html#arch.node.engines.transport_connection_config" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.transport_connection_config</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.transport_connection_environment"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_connection_environment-src.html#arch.node.engines.transport_connection_environment" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_connection_environment-src.html#arch.node.engines.transport_connection_environment" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.transport_connection_environment</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.pub_sub_topic_config"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/pub_sub_topic_config-src.html#arch.node.engines.pub_sub_topic_config" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/pub_sub_topic_config-src.html#arch.node.engines.pub_sub_topic_config" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.pub_sub_topic_config</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.pub_sub_topic_environment"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/pub_sub_topic_environment-src.html#arch.node.engines.pub_sub_topic_environment" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/pub_sub_topic_environment-src.html#arch.node.engines.pub_sub_topic_environment" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.pub_sub_topic_environment</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.storage_config"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/storage_config-src.html#arch.node.engines.storage_config" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/storage_config-src.html#arch.node.engines.storage_config" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.storage_config</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.storage_environment"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/storage_environment-src.html#arch.node.engines.storage_environment" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/storage_environment-src.html#arch.node.engines.storage_environment" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.storage_environment</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.system.state.resource_machine.notes.nockma"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/system/state/resource_machine/notes/nockma-src.html#arch.system.state.resource_machine.notes.nockma" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/system/state/resource_machine/notes/nockma-src.html#arch.system.state.resource_machine.notes.nockma" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.state.resource_machine.notes.nockma</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-comment">{- Identity -}</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.identity_management"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/identity_management-src.html#arch.node.engines.identity_management" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/identity_management-src.html#arch.node.engines.identity_management" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.identity_management</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.decryption"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/decryption-src.html#arch.node.engines.decryption" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/decryption-src.html#arch.node.engines.decryption" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.decryption</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.encryption"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/encryption-src.html#arch.node.engines.encryption" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/encryption-src.html#arch.node.engines.encryption" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.encryption</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.commitment"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/commitment-src.html#arch.node.engines.commitment" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/commitment-src.html#arch.node.engines.commitment" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.commitment</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.verification"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/verification-src.html#arch.node.engines.verification" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/verification-src.html#arch.node.engines.verification" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.verification</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.reads_for"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/reads_for-src.html#arch.node.engines.reads_for" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/reads_for-src.html#arch.node.engines.reads_for" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.reads_for</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.signs_for"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/signs_for-src.html#arch.node.engines.signs_for" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/signs_for-src.html#arch.node.engines.signs_for" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.signs_for</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.naming"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/naming-src.html#arch.node.engines.naming" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/naming-src.html#arch.node.engines.naming" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.naming</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-comment">{- Hardware -}</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.local_key_value_storage"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/local_key_value_storage-src.html#arch.node.engines.local_key_value_storage" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/local_key_value_storage-src.html#arch.node.engines.local_key_value_storage" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.local_key_value_storage</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.logging"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/logging-src.html#arch.node.engines.logging" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/logging-src.html#arch.node.engines.logging" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.logging</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.wall_clock"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/wall_clock-src.html#arch.node.engines.wall_clock" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/wall_clock-src.html#arch.node.engines.wall_clock" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.wall_clock</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.local_time_series_storage"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/local_time_series_storage-src.html#arch.node.engines.local_time_series_storage" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/local_time_series_storage-src.html#arch.node.engines.local_time_series_storage" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.local_time_series_storage</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-comment">{- Network -}</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.router"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/router-src.html#arch.node.engines.router" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/router-src.html#arch.node.engines.router" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.router</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.transport_protocol"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_protocol-src.html#arch.node.engines.transport_protocol" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_protocol-src.html#arch.node.engines.transport_protocol" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.transport_protocol</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.transport_connection"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_connection-src.html#arch.node.engines.transport_connection" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_connection-src.html#arch.node.engines.transport_connection" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.transport_connection</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.pub_sub_topic"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/pub_sub_topic-src.html#arch.node.engines.pub_sub_topic" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/pub_sub_topic-src.html#arch.node.engines.pub_sub_topic" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.pub_sub_topic</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.storage"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/storage-src.html#arch.node.engines.storage" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/storage-src.html#arch.node.engines.storage" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.storage</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-comment">{- Ordering -}</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.mempool_worker"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/mempool_worker-src.html#arch.node.engines.mempool_worker" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/mempool_worker-src.html#arch.node.engines.mempool_worker" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.mempool_worker</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.executor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/executor-src.html#arch.node.engines.executor" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/executor-src.html#arch.node.engines.executor" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.executor</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.shard"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/shard-src.html#arch.node.engines.shard" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/shard-src.html#arch.node.engines.shard" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.shard</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-comment">{- Misc -}</span>
<span class="ju-keyword">import</span> <span id="arch.node.engines.ticker"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/ticker-src.html#arch.node.engines.ticker" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/ticker-src.html#arch.node.engines.ticker" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.engines.ticker</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-comment">{- Templates -}</span>
<span class="ju-keyword">import</span> <span id="tutorial.engines.template"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/tutorial/engines/template-src.html#tutorial.engines.template" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/tutorial/engines/template-src.html#tutorial.engines.template" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">tutorial.engines.template</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="tutorial.engines.template_minimum"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/tutorial/engines/template_minimum-src.html#tutorial.engines.template_minimum" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/tutorial/engines/template_minimum-src.html#tutorial.engines.template_minimum" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">tutorial.engines.template_minimum</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="arch.node.types.crypto"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/crypto-src.html#arch.node.types.crypto" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/crypto-src.html#arch.node.types.crypto" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.crypto</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng" class="ju-code-link ju-inductive"><span class="ju-inductive">Eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span class="ju-comment">{- Identity -}</span>
  <span class="ju-keyword">|</span> <span id="Eng.IdentityManagement"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.IdentityManagement" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.IdentityManagement" class="ju-code-link ju-constructor"><span class="ju-constructor">IdentityManagement</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/identity_management-src.html#IdentityManagementEngine" class="ju-code-link ju-function"><span class="ju-function">IdentityManagementEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.Decryption"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Decryption" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Decryption" class="ju-code-link ju-constructor"><span class="ju-constructor">Decryption</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/decryption-src.html#DecryptionEngine" class="ju-code-link ju-function"><span class="ju-function">DecryptionEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.Encryption"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Encryption" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Encryption" class="ju-code-link ju-constructor"><span class="ju-constructor">Encryption</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/encryption-src.html#EncryptionEngine" class="ju-code-link ju-function"><span class="ju-function">EncryptionEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.Commitment"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Commitment" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Commitment" class="ju-code-link ju-constructor"><span class="ju-constructor">Commitment</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/commitment-src.html#CommitmentEngine" class="ju-code-link ju-function"><span class="ju-function">CommitmentEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.Verification"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Verification" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Verification" class="ju-code-link ju-constructor"><span class="ju-constructor">Verification</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/verification-src.html#VerificationEngine" class="ju-code-link ju-function"><span class="ju-function">VerificationEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.ReadsFor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.ReadsFor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.ReadsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">ReadsFor</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/reads_for-src.html#ReadsForEngine" class="ju-code-link ju-function"><span class="ju-function">ReadsForEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.SignsFor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.SignsFor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.SignsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">SignsFor</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/signs_for-src.html#SignsForEngine" class="ju-code-link ju-function"><span class="ju-function">SignsForEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.Naming"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Naming" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Naming" class="ju-code-link ju-constructor"><span class="ju-constructor">Naming</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/naming-src.html#NamingEngine" class="ju-code-link ju-function"><span class="ju-function">NamingEngine</span></a></span>

  <span class="ju-comment">{- Hardware -}</span>
  <span class="ju-keyword">|</span> <span id="Eng.LocalKeyValueStorage"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.LocalKeyValueStorage" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.LocalKeyValueStorage" class="ju-code-link ju-constructor"><span class="ju-constructor">LocalKeyValueStorage</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/local_key_value_storage-src.html#LocalKVStorageEngine" class="ju-code-link ju-function"><span class="ju-function">LocalKVStorageEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.Logging"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Logging" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Logging" class="ju-code-link ju-constructor"><span class="ju-constructor">Logging</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/logging-src.html#LoggingEngine" class="ju-code-link ju-function"><span class="ju-function">LoggingEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.WallClock"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.WallClock" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.WallClock" class="ju-code-link ju-constructor"><span class="ju-constructor">WallClock</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/wall_clock-src.html#WallClockEngine" class="ju-code-link ju-function"><span class="ju-function">WallClockEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.LocalTSeries"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.LocalTSeries" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.LocalTSeries" class="ju-code-link ju-constructor"><span class="ju-constructor">LocalTSeries</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/local_time_series_storage-src.html#LocalTSStorageEngine" class="ju-code-link ju-function"><span class="ju-function">LocalTSStorageEngine</span></a></span>

  <span class="ju-comment">{- Network -}</span>
  <span class="ju-keyword">|</span> <span id="Eng.Router"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Router" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Router" class="ju-code-link ju-constructor"><span class="ju-constructor">Router</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/router-src.html#RouterEngine" class="ju-code-link ju-function"><span class="ju-function">RouterEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.TransportProtocol"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.TransportProtocol" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.TransportProtocol" class="ju-code-link ju-constructor"><span class="ju-constructor">TransportProtocol</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_protocol-src.html#TransportProtocolEngine" class="ju-code-link ju-function"><span class="ju-function">TransportProtocolEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.TransportConnection"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.TransportConnection" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.TransportConnection" class="ju-code-link ju-constructor"><span class="ju-constructor">TransportConnection</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/transport_connection-src.html#TransportConnectionEngine" class="ju-code-link ju-function"><span class="ju-function">TransportConnectionEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.PubSubTopic"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.PubSubTopic" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.PubSubTopic" class="ju-code-link ju-constructor"><span class="ju-constructor">PubSubTopic</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/pub_sub_topic-src.html#PubSubTopicEngine" class="ju-code-link ju-function"><span class="ju-function">PubSubTopicEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.Storage"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Storage" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Storage" class="ju-code-link ju-constructor"><span class="ju-constructor">Storage</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/storage-src.html#StorageEngine" class="ju-code-link ju-function"><span class="ju-function">StorageEngine</span></a></span>

  <span class="ju-comment">{- Ordering -}</span>
  <span class="ju-keyword">|</span> <span id="Eng.MempoolWorker"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.MempoolWorker" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.MempoolWorker" class="ju-code-link ju-constructor"><span class="ju-constructor">MempoolWorker</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/mempool_worker-src.html#MempoolWorkerEngine" class="ju-code-link ju-function"><span class="ju-function">MempoolWorkerEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.Executor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Executor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Executor" class="ju-code-link ju-constructor"><span class="ju-constructor">Executor</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/executor-src.html#ExecutorEngine" class="ju-code-link ju-function"><span class="ju-function">ExecutorEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.Shard"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Shard" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Shard" class="ju-code-link ju-constructor"><span class="ju-constructor">Shard</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/shard-src.html#ShardEngine" class="ju-code-link ju-function"><span class="ju-function">ShardEngine</span></a></span>

  <span class="ju-comment">{- Misc -}</span>
  <span class="ju-keyword">|</span> <span id="Eng.Ticker"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Ticker" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Ticker" class="ju-code-link ju-constructor"><span class="ju-constructor">Ticker</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/ticker-src.html#TickerEngine" class="ju-code-link ju-function"><span class="ju-function">TickerEngine</span></a></span>

  <span class="ju-comment">{- Templates -}</span>
  <span class="ju-keyword">|</span> <span id="Eng.Template"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Template" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Template" class="ju-code-link ju-constructor"><span class="ju-constructor">Template</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/tutorial/engines/template-src.html#TemplateEngine" class="ju-code-link ju-function"><span class="ju-function">TemplateEngine</span></a></span>
  <span class="ju-keyword">|</span> <span id="Eng.TemplateMinimum"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.TemplateMinimum" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.TemplateMinimum" class="ju-code-link ju-constructor"><span class="ju-constructor">TemplateMinimum</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/tutorial/engines/template_minimum-src.html#TemplateMinimumEngine" class="ju-code-link ju-function"><span class="ju-function">TemplateMinimumEngine</span></a></span><span class="ju-delimiter">;</span>
<span id="mkEng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#mkEng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#mkEng" class="ju-code-link ju-function"><span class="ju-function">
mkEng</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/identities-src.html#NodeID" class="ju-code-link ju-var"><span class="ju-inductive">NodeID</span></a></span><span class="ju-delimiter">)</span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:28" class="ju-code-link ju-var"><span class="ju-var">p</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg" class="ju-code-link ju-inductive"><span class="ju-inductive">Cfg</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env" class="ju-code-link ju-inductive"><span class="ju-inductive">Env</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#Option" class="ju-code-link ju-var"><span class="ju-inductive">Option</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng" class="ju-code-link ju-inductive"><span class="ju-inductive">Eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/identities-src.html#EngineID" class="ju-code-link ju-function"><span class="ju-function">EngineID</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">case</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:28" class="ju-code-link ju-var"><span class="ju-var">p</span></a></span> <span class="ju-keyword">of</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgIdentityManagement" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgIdentityManagement</span></a></span> <span id="arch.node.types.anoma_engines:29"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:29" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:29" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvIdentityManagement" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvIdentityManagement</span></a></span> <span id="arch.node.types.anoma_engines:30"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:30" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:30" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.IdentityManagement" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>IdentityManagement</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:34"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:34" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:34" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:29" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:35"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:35" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:35" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:30" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:36"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:36" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:36" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/identity_management_behaviour-src.html#identityManagementBehaviour" class="ju-code-link ju-function"><span class="ju-function">identityManagementBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:29" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgDecryption" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgDecryption</span></a></span> <span id="arch.node.types.anoma_engines:39"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:39" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:39" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvDecryption" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvDecryption</span></a></span> <span id="arch.node.types.anoma_engines:40"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:40" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:40" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Decryption" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Decryption</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:44"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:44" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:44" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:39" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:45"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:45" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:45" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:40" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:46"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:46" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:46" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/decryption_behaviour-src.html#decryptionBehaviour" class="ju-code-link ju-function"><span class="ju-function">decryptionBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:39" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgEncryption" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgEncryption</span></a></span> <span id="arch.node.types.anoma_engines:49"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:49" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:49" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvEncryption" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvEncryption</span></a></span> <span id="arch.node.types.anoma_engines:50"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:50" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:50" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Encryption" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Encryption</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:54"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:54" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:54" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:49" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:55"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:55" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:55" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:50" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:56"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:56" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:56" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/encryption_behaviour-src.html#encryptionBehaviour" class="ju-code-link ju-function"><span class="ju-function">encryptionBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:49" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgCommitment" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgCommitment</span></a></span> <span id="arch.node.types.anoma_engines:59"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:59" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:59" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvCommitment" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvCommitment</span></a></span> <span id="arch.node.types.anoma_engines:60"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:60" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:60" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Commitment" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Commitment</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:64"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:64" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:64" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:59" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:65"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:65" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:65" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:60" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:66"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:66" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:66" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/commitment_behaviour-src.html#commitmentBehaviour" class="ju-code-link ju-function"><span class="ju-function">commitmentBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:59" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgVerification" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgVerification</span></a></span> <span id="arch.node.types.anoma_engines:69"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:69" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:69" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvVerification" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvVerification</span></a></span> <span id="arch.node.types.anoma_engines:70"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:70" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:70" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Verification" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Verification</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:74"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:74" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:74" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:69" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:75"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:75" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:75" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:70" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:76"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:76" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:76" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/verification_behaviour-src.html#verificationBehaviour" class="ju-code-link ju-function"><span class="ju-function">verificationBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:69" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgReadsFor" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgReadsFor</span></a></span> <span id="arch.node.types.anoma_engines:79"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:79" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:79" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvReadsFor" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvReadsFor</span></a></span> <span id="arch.node.types.anoma_engines:80"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:80" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:80" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.ReadsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>ReadsFor</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:84"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:84" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:84" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:79" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:85"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:85" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:85" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:80" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:86"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:86" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:86" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/reads_for_behaviour-src.html#readsForBehaviour" class="ju-code-link ju-function"><span class="ju-function">readsForBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:79" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgSignsFor" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgSignsFor</span></a></span> <span id="arch.node.types.anoma_engines:89"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:89" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:89" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvSignsFor" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvSignsFor</span></a></span> <span id="arch.node.types.anoma_engines:90"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:90" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:90" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.SignsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>SignsFor</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:94"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:94" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:94" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:89" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:95"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:95" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:95" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:90" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:96"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:96" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:96" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/signs_for_behaviour-src.html#signsForBehaviour" class="ju-code-link ju-function"><span class="ju-function">signsForBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:89" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgNaming" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgNaming</span></a></span> <span id="arch.node.types.anoma_engines:99"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:99" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:99" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvNaming" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvNaming</span></a></span> <span id="arch.node.types.anoma_engines:100"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:100" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:100" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Naming" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Naming</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:104"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:104" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:104" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:99" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:105"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:105" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:105" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:100" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:106"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:106" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:106" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/naming_behaviour-src.html#namingBehaviour" class="ju-code-link ju-function"><span class="ju-function">namingBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:99" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgLocalKeyValueStorage" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgLocalKeyValueStorage</span></a></span> <span id="arch.node.types.anoma_engines:109"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:109" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:109" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvLocalKeyValueStorage" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvLocalKeyValueStorage</span></a></span> <span id="arch.node.types.anoma_engines:110"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:110" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:110" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.LocalKeyValueStorage" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>LocalKeyValueStorage</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:114"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:114" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:114" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:109" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:115"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:115" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:115" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:110" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:116"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:116" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:116" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/local_key_value_storage_behaviour-src.html#localKVStorageBehaviour" class="ju-code-link ju-function"><span class="ju-function">localKVStorageBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:109" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgLogging" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgLogging</span></a></span> <span id="arch.node.types.anoma_engines:119"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:119" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:119" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvLogging" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvLogging</span></a></span> <span id="arch.node.types.anoma_engines:120"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:120" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:120" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Logging" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Logging</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:124"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:124" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:124" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:119" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:125"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:125" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:125" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:120" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:126"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:126" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:126" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/logging_behaviour-src.html#loggingBehaviour" class="ju-code-link ju-function"><span class="ju-function">loggingBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:119" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgWallClock" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgWallClock</span></a></span> <span id="arch.node.types.anoma_engines:129"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:129" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:129" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvWallClock" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvWallClock</span></a></span> <span id="arch.node.types.anoma_engines:130"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:130" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:130" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.WallClock" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>WallClock</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:134"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:134" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:134" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:129" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:135"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:135" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:135" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:130" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:136"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:136" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:136" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/wall_clock_behaviour-src.html#wallClockBehaviour" class="ju-code-link ju-function"><span class="ju-function">wallClockBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:129" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgLocalTSeries" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgLocalTSeries</span></a></span> <span id="arch.node.types.anoma_engines:139"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:139" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:139" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvLocalTSeries" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvLocalTSeries</span></a></span> <span id="arch.node.types.anoma_engines:140"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:140" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:140" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.LocalTSeries" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>LocalTSeries</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:144"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:144" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:144" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:139" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:145"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:145" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:145" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:140" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:146"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:146" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:146" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/local_time_series_storage_behaviour-src.html#localTSStorageBehaviour" class="ju-code-link ju-function"><span class="ju-function">localTSStorageBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:139" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgRouter" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgRouter</span></a></span> <span id="arch.node.types.anoma_engines:149"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:149" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:149" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvRouter" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvRouter</span></a></span> <span id="arch.node.types.anoma_engines:150"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:150" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:150" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Router" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Router</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:154"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:154" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:154" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:149" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:155"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:155" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:155" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:150" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:156"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:156" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:156" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#TODO" class="ju-code-link ju-axiom"><span class="ju-axiom">TODO</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:149" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgTransportProtocol" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgTransportProtocol</span></a></span> <span id="arch.node.types.anoma_engines:159"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:159" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:159" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvTransportProtocol" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvTransportProtocol</span></a></span> <span id="arch.node.types.anoma_engines:160"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:160" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:160" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.TransportProtocol" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>TransportProtocol</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:164"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:164" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:164" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:159" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:165"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:165" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:165" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:160" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:166"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:166" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:166" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#TODO" class="ju-code-link ju-axiom"><span class="ju-axiom">TODO</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:159" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgTransportConnection" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgTransportConnection</span></a></span> <span id="arch.node.types.anoma_engines:169"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:169" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:169" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvTransportConnection" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvTransportConnection</span></a></span> <span id="arch.node.types.anoma_engines:170"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:170" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:170" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.TransportConnection" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>TransportConnection</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:174"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:174" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:174" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:169" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:175"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:175" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:175" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:170" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:176"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:176" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:176" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#TODO" class="ju-code-link ju-axiom"><span class="ju-axiom">TODO</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:169" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgPubSubTopic" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgPubSubTopic</span></a></span> <span id="arch.node.types.anoma_engines:179"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:179" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:179" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvPubSubTopic" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvPubSubTopic</span></a></span> <span id="arch.node.types.anoma_engines:180"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:180" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:180" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.PubSubTopic" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>PubSubTopic</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:184"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:184" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:184" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:179" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:185"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:185" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:185" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:180" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:186"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:186" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:186" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#TODO" class="ju-code-link ju-axiom"><span class="ju-axiom">TODO</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:179" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgStorage" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgStorage</span></a></span> <span id="arch.node.types.anoma_engines:189"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:189" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:189" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvStorage" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvStorage</span></a></span> <span id="arch.node.types.anoma_engines:190"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:190" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:190" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Storage" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Storage</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:194"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:194" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:194" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:189" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:195"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:195" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:195" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:190" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:196"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:196" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:196" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#TODO" class="ju-code-link ju-axiom"><span class="ju-axiom">TODO</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:189" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgMempoolWorker" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgMempoolWorker</span></a></span> <span id="arch.node.types.anoma_engines:199"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:199" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:199" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvMempoolWorker" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvMempoolWorker</span></a></span> <span id="arch.node.types.anoma_engines:200"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:200" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:200" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.MempoolWorker" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>MempoolWorker</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:204"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:204" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:204" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:199" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:205"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:205" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:205" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:200" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:206"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:206" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:206" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/mempool_worker_behaviour-src.html#mempoolWorkerBehaviour" class="ju-code-link ju-function"><span class="ju-function">mempoolWorkerBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:199" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgExecutor" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgExecutor</span></a></span> <span id="arch.node.types.anoma_engines:209"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:209" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:209" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvExecutor" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvExecutor</span></a></span> <span id="arch.node.types.anoma_engines:210"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:210" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:210" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Executor" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Executor</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:214"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:214" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:214" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:209" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:215"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:215" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:215" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:210" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:216"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:216" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:216" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/executor_behaviour-src.html#executorBehaviour" class="ju-code-link ju-function"><span class="ju-function">executorBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:209" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgShard" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgShard</span></a></span> <span id="arch.node.types.anoma_engines:219"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:219" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:219" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvShard" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvShard</span></a></span> <span id="arch.node.types.anoma_engines:220"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:220" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:220" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Shard" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Shard</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:224"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:224" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:224" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:219" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:225"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:225" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:225" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:220" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:226"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:226" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:226" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/shard_behaviour-src.html#shardBehaviour" class="ju-code-link ju-function"><span class="ju-function">shardBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:219" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgTicker" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgTicker</span></a></span> <span id="arch.node.types.anoma_engines:229"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:229" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:229" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvTicker" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvTicker</span></a></span> <span id="arch.node.types.anoma_engines:230"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:230" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:230" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Ticker" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Ticker</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:234"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:234" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:234" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:229" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:235"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:235" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:235" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:230" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:236"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:236" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:236" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/engines/ticker_behaviour-src.html#tickerBehaviour" class="ju-code-link ju-function"><span class="ju-function">tickerBehaviour</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:229" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgTemplate" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgTemplate</span></a></span> <span id="arch.node.types.anoma_engines:239"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:239" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:239" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvTemplate" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvTemplate</span></a></span> <span id="arch.node.types.anoma_engines:240"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:240" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:240" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.Template" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>Template</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:244"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:244" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:244" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:239" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:245"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:245" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:245" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:240" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:246"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:246" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:246" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#TODO" class="ju-code-link ju-axiom"><span class="ju-axiom">TODO</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:239" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_config-src.html#Cfg.CfgTemplateMinimum" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Cfg<span class="ju-delimiter">.</span>CfgTemplateMinimum</span></a></span> <span id="arch.node.types.anoma_engines:249"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:249" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:249" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_environment-src.html#Env.EnvTemplateMinimum" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>Env<span class="ju-delimiter">.</span>EnvTemplateMinimum</span></a></span> <span id="arch.node.types.anoma_engines:250"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:250" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:250" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">let</span>
        <span id="eng"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
          <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#Eng.TemplateMinimum" class="ju-code-link ju-constructor"><span class="ju-constructor">Eng<span class="ju-delimiter">.</span>TemplateMinimum</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine-src.html#Engine.mk" class="ju-code-link ju-constructor"><span class="ju-constructor">Engine<span class="ju-delimiter">.</span>mk</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
              <span id="arch.node.types.anoma_engines:254"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:254" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:254" class="ju-code-link ju-function"><span class="ju-function">cfg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:249" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-keyword">@</span><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg" class="ju-code-link ju-inductive"><span class="ju-inductive">EngineCfg</span></a></span><span class="ju-delimiter">{</span>node <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:255"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:255" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:255" class="ju-code-link ju-function"><span class="ju-function">env</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:250" class="ju-code-link ju-var"><span class="ju-var">env</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.node.types.anoma_engines:256"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:256" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:256" class="ju-code-link ju-function"><span class="ju-function">behaviour</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#TODO" class="ju-code-link ju-axiom"><span class="ju-axiom">TODO</span></a></span><span class="ju-delimiter">;</span>
            <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
        <span id="engineId"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:27" class="ju-code-link ju-var"><span class="ju-var">nodeId</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/engine_config-src.html#EngineCfg.name" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>EngineCfg<span class="ju-delimiter">.</span>name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#arch.node.types.anoma_engines:249" class="ju-code-link ju-var"><span class="ju-var">cfg</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
      <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#some" class="ju-code-link ju-var"><span class="ju-constructor">some</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#eng" class="ju-code-link ju-function"><span class="ju-function">eng</span></a></span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/arch/node/types/anoma_engines-src.html#engineId" class="ju-code-link ju-function"><span class="ju-function">engineId</span></a></span><span class="ju-delimiter">)</span>
    <span class="ju-keyword">|</span> <span class="ju-keyword">_</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/v1.0.0/prelude-src.html#none" class="ju-code-link ju-var"><span class="ju-constructor">none</span></a></span><span class="ju-delimiter">;</span>
</pre><footer><pre>Powered by <a href="https://juvix.org">Juvix </a><a href="https://github.com/anoma/juvix/commit/b935467">0.6.10-b935467</a></pre></footer><footer><pre>Last modified on 2025-06-07 12:15 UTC</pre></footer></html>