
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The Anoma Specification is a collection of documents that describe the architecture, design, and implementation of the Anoma Network.">
      
      
        <meta name="author" content="Anoma Foundation">
      
      
        <link rel="canonical" href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/index.html">
      
      
        <link rel="prev" href="../consensus_v1.html">
      
      
        <link rel="next" href="shard/index.html">
      
      
      <link rel="icon" href="../../../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.37">
    
    
      
        <title>Execution - Anoma Specification</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../assets/css/style.css">
    
      <link rel="stylesheet" href="../../../assets/css/juvix-highlighting.css">
    
      <link rel="stylesheet" href="../../../assets/css/juvix_codeblock_footer.css">
    
      <link rel="stylesheet" href="../../../assets/css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Execution - Anoma Specification" >
      
        <meta  property="og:description"  content="The Anoma Specification is a collection of documents that describe the architecture, design, and implementation of the Anoma Network." >
      
        <meta  property="og:image"  content="https://anoma.github.io/nspec/v2/assets/images/social/node_architecture/ordering/execution/index.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/index.html" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Execution - Anoma Specification" >
      
        <meta  name="twitter:description"  content="The Anoma Specification is a collection of documents that describe the architecture, design, and implementation of the Anoma Network." >
      
        <meta  name="twitter:image"  content="https://anoma.github.io/nspec/v2/assets/images/social/node_architecture/ordering/execution/index.png" >
      
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#execution" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
  For updates follow <strong>@anoma</strong> on
  <a rel="me" href="https://x.com/anoma">
    <span class="twemoji x-twitter">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </span>
    <strong></strong>
  </a>
  and discuss on our
  <a href="https://research.anoma.net">
    <span class="twemoji discourse">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg>
    </span>
    <strong>forum</strong>
  </a>

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest official version.
  <a href="../../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../index.html" title="Anoma Specification" class="md-header__button md-logo" aria-label="Anoma Specification" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Anoma Specification
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Execution
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="red"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Navigation tabs -->
<nav
  class="md-tabs"
  aria-label="Tabs"
  data-md-component="tabs"
>
  <div class="md-grid">
    <ul class="md-tabs__list">
      
      
            
  
  
  
    <li class="md-tabs__item">
      <a href="../../../index.html" class="md-tabs__link">
        
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    
  
  Home

      </a>
    </li>
  

        
      
      
            
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../scope/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm10.78 2H19v12.18c-.26-.8-1.31-1.39-2.2-1.39h-1v-3a1 1 0 0 0-1-1h-6v-2h2a1 1 0 0 0 1-1v-2h2c1.03 0 1.87-.79 1.98-1.79M5 10.29l4.8 4.5v1a2 2 0 0 0 2 2V19H5z"/></svg>
    
  
  Scope

        </a>
      </li>
    
  

        
      
      
            
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../basic_abstractions/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
    
  
  Basic Abstractions

        </a>
      </li>
    
  

        
      
      
            
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../architecture/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 18.714v4.8c0 .288-.192.48-.48.48h-4.8c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48h1.92v-1.92h-8.16v1.92h1.92c.288 0 .48.192.48.48v4.8c0 .288-.192.48-.48.48H9.6c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48h1.92v-1.92H3.36v1.92h1.92c.288 0 .48.192.48.48v4.8c0 .288-.192.48-.48.48H.48c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48H2.4v-2.4c0-.288.192-.48.48-.48h8.64v-1.44h.96v1.44h8.64c.288 0 .48.192.48.48v2.4h1.92c.288 0 .48.192.48.48m-13.92 4.32h3.84v-3.84h-3.84zm-9.12 0H4.8v-3.84H.96Zm18.24 0h3.84v-3.84H19.2ZM6.24 9.642V3.546c0-.192.096-.336.24-.432L11.76.042a.8.8 0 0 1 .48 0l5.28 3.072c.144.096.24.24.24.432v6.096c0 .144-.096.288-.24.384l-5.28 3.072q-.096.048-.24.048t-.24-.048l-5.28-3.072c-.144-.096-.24-.24-.24-.384m10.56-.288V4.362l-4.32 2.496v4.992zm-9.6 0 4.32 2.496V6.858L7.2 4.362Zm.48-5.808L12 5.994l4.32-2.448L12 1.05Z"/></svg>
    
  
  Protocol Architecture

        </a>
      </li>
    
  

        
      
      
            
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../application_architecture/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 20h4v-4h-4m0-2h4v-4h-4m-6-2h4V4h-4m6 4h4V4h-4m-6 10h4v-4h-4m-6 4h4v-4H4m0 10h4v-4H4m6 4h4v-4h-4M4 8h4V4H4z"/></svg>
    
  
  Application Architecture

        </a>
      </li>
    
  

        
      
      
            
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../implementation/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.793 16.575c0 3.752-2.927 7.426-7.743 7.426-5.249 0-7.843-3.71-7.843-8.29 0-5.21 3.892-12.952 8-15.647a.397.397 0 0 1 .61.371 9.72 9.72 0 0 0 1.694 6.518c.522.795 1.092 1.478 1.763 2.352.94 1.227 1.637 1.906 2.644 3.842l.015.028a7.1 7.1 0 0 1 .86 3.4"/></svg>
    
  
  Implementation

        </a>
      </li>
    
  

        
      
      
      
      
      
      
      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../index.html" title="Anoma Specification" class="md-nav__button md-logo" aria-label="Anoma Specification" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    Anoma Specification
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../index.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../scope/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Scope
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../basic_abstractions/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Basic Abstractions
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../architecture/index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 18.714v4.8c0 .288-.192.48-.48.48h-4.8c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48h1.92v-1.92h-8.16v1.92h1.92c.288 0 .48.192.48.48v4.8c0 .288-.192.48-.48.48H9.6c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48h1.92v-1.92H3.36v1.92h1.92c.288 0 .48.192.48.48v4.8c0 .288-.192.48-.48.48H.48c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48H2.4v-2.4c0-.288.192-.48.48-.48h8.64v-1.44h.96v1.44h8.64c.288 0 .48.192.48.48v2.4h1.92c.288 0 .48.192.48.48m-13.92 4.32h3.84v-3.84h-3.84zm-9.12 0H4.8v-3.84H.96Zm18.24 0h3.84v-3.84H19.2ZM6.24 9.642V3.546c0-.192.096-.336.24-.432L11.76.042a.8.8 0 0 1 .48 0l5.28 3.072c.144.096.24.24.24.432v6.096c0 .144-.096.288-.24.384l-5.28 3.072q-.096.048-.24.048t-.24-.048l-5.28-3.072c-.144-.096-.24-.24-.24-.384m10.56-.288V4.362l-4.32 2.496v4.992zm-9.6 0 4.32 2.496V6.858L7.2 4.362Zm.48-5.808L12 5.994l4.32-2.448L12 1.05Z"/></svg>
  
  <span class="md-ellipsis">
    Protocol Architecture
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Protocol Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../system_architecture/index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 5h12a1 1 0 0 1 1 1 1 1 0 0 1-1 1H6a1 1 0 0 1-1-1 1 1 0 0 1 1-1m15-3v2H3V2zm-6 6h2v14h-2zM7 8h2v14H7zm4 0h2v14h-2z"/></svg>
  
  <span class="md-ellipsis">
    System Architecture
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            System Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../system_architecture/concepts/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Basic Concepts
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../system_architecture/identity/identity.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    Identity Architecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../system_architecture/network/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Network Architecture
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../system_architecture/service/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Service Architecture
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../system_architecture/state/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    State Architecture
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 17c-.13 0-.26 0-.39.04l-1.61-3.25a2.5 2.5 0 0 0-1.75-4.29c-.13 0-.25 0-.39.04l-1.63-3.25c.48-.45.77-1.08.77-1.79a2.5 2.5 0 0 0-5 0c0 .71.29 1.34.76 1.79L8.64 9.54c-.14-.04-.26-.04-.39-.04a2.5 2.5 0 0 0-1.75 4.29l-1.61 3.25C4.76 17 4.63 17 4.5 17a2.5 2.5 0 0 0 0 5A2.5 2.5 0 0 0 7 19.5c0-.7-.29-1.34-.76-1.79l1.62-3.25c.14.04.26.04.39.04s.25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0A2.5 2.5 0 0 0 12 17c-.13 0-.26 0-.39.04L10 13.79c.46-.45.75-1.08.75-1.79s-.29-1.34-.75-1.79l1.61-3.25c.13.04.26.04.39.04s.26 0 .39-.04L14 10.21c-.45.45-.75 1.09-.75 1.79a2.5 2.5 0 0 0 2.5 2.5c.13 0 .25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0 2.5 2.5 0 0 0-2.5-2.5"/></svg>
  
  <span class="md-ellipsis">
    Node Architecture
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Node Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modules/index.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../types/basics.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Basic Types
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../engines/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Engine Types
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../hardware_abstraction/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Hardware Abstraction Machine
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../engines/configuration/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Control Machine
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../identity/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Identity Machine
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../networking/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Networking Machine
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_9" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    Ordering Machine
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3_9" id="__nav_4_3_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3_9">
            <span class="md-nav__icon md-icon"></span>
            Ordering Machine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../types/allofthem/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Common types
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../mempool/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Mempool engines
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../consensus_v1.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Consensus Engine
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_9_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link md-nav__link--active">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    Execution engines
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_4_3_9_5" id="__nav_4_3_9_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_3_9_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3_9_5">
            <span class="md-nav__icon md-icon"></span>
            Execution engines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="shard/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Shard
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="executor/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Executor
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../application_architecture/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Application Architecture
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../implementation/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Implementation
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../indexes/links.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
  
  <span class="md-ellipsis">
    Quick links
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../indexes/juvix_modules.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 10h-2V8h2m0 5h-2v-2h2m-3-1h-2V8h2m0 5h-2v-2h2m0 6H8v-2h8m-9-5H5V8h2m0 5H5v-2h2m1 0h2v2H8m0-5h2v2H8m3 1h2v2h-2m0-5h2v2h-2m9-5H4c-1.11 0-2 .89-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2"/></svg>
  
  <span class="md-ellipsis">
    Juvix modules
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../tutorial/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Tutorials for contributors
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functionality" class="md-nav__link">
    <span class="md-ellipsis">
      Functionality
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functionality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-level-protocols" class="md-nav__link">
    <span class="md-ellipsis">
      High Level Protocols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responsibilities" class="md-nav__link">
    <span class="md-ellipsis">
      Responsibilities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Responsibilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#state" class="md-nav__link">
    <span class="md-ellipsis">
      State
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transaction-candidate-labels" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction Candidate Labels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executor-function" class="md-nav__link">
    <span class="md-ellipsis">
      Executor Function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timestamps" class="md-nav__link">
    <span class="md-ellipsis">
      Timestamps
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#engines-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Engines Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Engines Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shards" class="md-nav__link">
    <span class="md-ellipsis">
      Shards
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#executors-aka-executor-processes" class="md-nav__link">
    <span class="md-ellipsis">
      Executors aka Executor Processes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-backend" class="md-nav__link">
    <span class="md-ellipsis">
      Read Backend
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="execution">Execution<a class="headerlink" href="#execution" title="Permanent link">&para;</a></h1>
<p><strong>Purpose</strong></p>
<p>Given a total order of <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">transaction candidates</a> (from the
mempool),<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> the execution engine
updates "the" state of the <a href="https://en.wikipedia.org/wiki/State_machine_replication">replicated state machine</a> by executing them. The
execution engine uses state dependency
<a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_label.html">labels</a> to calculate updates concurrently when possible.
Furthermore, partial order information can suffice to start concurrent
computation, even before mempool and consensus determine a total order.
 <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">Transaction candidates</a> that include side effects (such
 as sending messages to a user or solver) perform those effects from the
<a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html">Executor</a> process within the Execution Engines.</p>
<p>In V1, following each state update, the mempool's [[Worker</p>
<p>results.</p>
<!-- Tobias: mention update of learner graph, here or elsewhere? -->

<p><strong>Background</strong></p>
<p>The <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/index.html">ordering machine</a> maintains a
<a href="https://en.wikipedia.org/wiki/State_machine_replication">replicated state machine</a>, which is a core
concept of <a href="https://en.wikipedia.org/wiki/Distributed_computing">distributed systems</a>. The architecture of the
ordering machine is an adaptation of <a href="http://cs.yale.edu/homes/thomson/publications/calvin-sigmod12.pdf"><em>Calvin: Fast Distributed Transactions for
Partitioned Database Systems</em></a>, to
<a href="https://arxiv.org/abs/2105.11827">Narwhal's</a> scale-out architecture. The
execution engine exploits concurrency of transactions, using the idea of
<a href="https://en.wikipedia.org/wiki/Serializability">serializability</a> (a key concept
of <a href="https://en.wikipedia.org/wiki/Transaction_processing">Transaction processing systems</a> and databases). Given that
we follow a pre-determined total order of transactions, we have what has been
called <a href="https://www.cs.umd.edu/~abadi/papers/determinism-vldb10.pdf">deterministic execution scheduling</a>. In V1, the mempool
alone suffices to determine the total order (without the need for any
<a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/consensus_v1.html">Consensus Engine</a>).</p>
<p><strong>Scope</strong></p>
<p>The Execution Engine group is responsible for updating and maintaining the state
of the state machine. It relies on the mempool to store and
order <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">transaction candidates</a>.<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup></p>
<!--
All state reads outside of Transaction Candidates (including for backups,
[merkleization](https://en.wikipedia.org/wiki/Merkle_tree), etc.) can be done through the Read Backend, which does not exist in V1.
-->

<p>In specifying the Execution Engines, we abstract over the contents of the
state machine, or exactly what has to be done to update it given a
<a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>. The state of Anoma's state machine will contain
<a href="https://anoma.github.io/nspec/v2/basic_types/resource.html">Resources</a>, <a href="https://anoma.github.io/nspec/v2/system_architecture/state/resource_machine/resource/computable_components/nullifier.html">Nullifiers</a>, and
<a href="https://anoma.github.io/nspec/v2/system_architecture/state/resource_machine/resource/computable_components/commitment.html">Commitments</a>, and executing each
<a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">Transaction Candidate</a> will require, among other things,
checking the respective <a href="https://anoma.github.io/nspec/v2/system_architecture/state/resource_machine/function_formats/resource_logic.html">Resource Logic</a>s of the involved resources. Roughly,
the state and precise "code" of transactions are essentially a type
parameter.<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup></p>
<p>For V1, we assume that there is a single validator that is maintaining a single
state machine. V1 does not include any kind of garbage collection or deletion of
old state.</p>
<p>Each Validator maintains its own Execution Engine group.
These are complete replicas of the state machine, with complete replication of Transaction Candidate execution.
Future optimizations may allow for distributed proofs of various kinds allowing some validators to skip some of the execution.</p>
<p>We do, however, allow for checkpointing:
By performing a full-state read from a weak quorum of validators, a validator can learn the complete state of the state machine at a particular timestamp, and then compute all the Transaction Candidates thereafter.
It should not have to compute from genesis.
No one should need to store a complete history of all Transaction Candidates or past state values.</p>
<h2 id="functionality">Functionality<a class="headerlink" href="#functionality" title="Permanent link">&para;</a></h2>
<h3 id="high-level-protocols">High Level Protocols<a class="headerlink" href="#high-level-protocols" title="Permanent link">&para;</a></h3>
<p>The main functionality of the Execution engine is serializable
 <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a> execution. We want to <em>execute</em> each
<a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>, i.e., read the necessary values from storage, evaluate
the executor function, and write the computed results to state, concurrently but
<a href="https://en.wikipedia.org/wiki/Serializability">serializably</a>: each Transaction
Candidate's reads and writes should be <em>as if</em> the <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>s
were executed in the total order chosen by the mempool.<sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup>
As this order is fixed, we can use <a href="https://www.cs.umd.edu/~abadi/papers/determinism-vldb10.pdf">deterministic execution
scheduling</a>.</p>
<p>We can imagine the simplest system as executing each <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>,
 after they are ordered, sequentially in the fixed order. However, we want to
 exploit concurrency of transactions as much as possible to minimize latency.
Several optimizations improve over sequential execution. We can increase
 concurrency of transaction by partitioning state as key/value pairs: we can
execute <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>s that only access disjoint sets of keys
<em>concurrently</em> (or even in parallel).</p>
<h3 id="responsibilities">Responsibilities<a class="headerlink" href="#responsibilities" title="Permanent link">&para;</a></h3>
<h4 id="state">State<a class="headerlink" href="#state" title="Permanent link">&para;</a></h4>
<p>The core purpose of the Execution Engine group is updating and maintaining the
 state of the RSM. As an abstraction, we assume state is stored as mutable
<em>Data</em> (unlimited size blobs of binary), each of which is accessed using an
 immutable <em>Key</em>. If we want to mutate a Key associated with specific Data, that
 means that we have to delete the Data associated with the old Key, and write a
copy of the data to the new Key. Keys that have never had Data written to them
 are mapped to an empty value. Thus, we can <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">create, read, update, and
 delete</a> Keys.
These are the only primitives we use.<sup id="fnref:6"><a class="footnote-ref" href="#fn:6">6</a></sup></p>
<p>For V2, we do not assume any key structure, so <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_label.html">TransactionLabel</a>s
 will have an explicit list of Keys they can use, rather than
 something more clever.<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup></p>
<h4 id="transaction-candidate-labels">Transaction Candidate Labels<a class="headerlink" href="#transaction-candidate-labels" title="Permanent link">&para;</a></h4>
<p><a class="glightbox" href="https://anoma.github.io/nspec/v2/images/state_machine_API_web.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="State Machine API" src="https://anoma.github.io/nspec/v2/images/state_machine_API_web.svg" /></a></p>
<p><a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>s are <em><a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_label.html">labeled</a></em> with a
 set of keys they can read, and a set of keys they can write. Writing
<span class="arithmatex">\(\wp\mathit{Keys}\)</span> for the powerset of all keys, we have the following:</p>
<!--{v2 only} For Chimera Chains, there is a label for each base chain.-->

<p><span class="arithmatex">\(\mathsf{readkeys}:   \mathit{Tx\_Candidates} \rightarrow \wp\mathit{Keys}\)</span></p>
<p><span class="arithmatex">\(\mathsf{writekeys}: \mathit{Tx\_Candidates} \rightarrow \wp\mathit{Keys}\)</span></p>
<p>The Execution Engines must not allow a <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a> to affect any
 key outside of its write set, aborting the transaction with an error message.
 Moreover, each <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>'s effects must be a deterministic
function of the <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a> and the values
 of the keys in its read set in RSM state.</p>
<h4 id="executor-function">Executor Function<a class="headerlink" href="#executor-function" title="Permanent link">&para;</a></h4>
<p>In order to define a state machine, we assume a fixed
 <em>Executor Function</em>:</p>
<p><span class="arithmatex">\(\mathsf{executor\_function}\colon
\left(\mathit{Data}^{\mathit{Keys}} \times \mathit{Tx\_Candidates}\right)
\to \left(  \wp(\mathit{Keys}\times \mathit{Data})\times \mathit{IOcommands} \right)\)</span></p>
<p>Inputs:</p>
<ul>
<li>the previous state, represented as a function from Keys to Data</li>
<li>the <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a> itself</li>
</ul>
<p>Outputs:</p>
<ul>
<li>The new <span class="arithmatex">\(\left\langle \mathit{key}, \mathit{data}\right\rangle\)</span>
   pairs to be written to state.</li>
<li>Naively, these must include all the Keys in <span class="arithmatex">\(\mathsf{write}(T)\)</span>,
     but we have an optimization for cases where <span class="arithmatex">\(T\)</span> does not actually
     update this Key.</li>
<li>This new state must be a deterministic result of the inputs.</li>
<li>IO side-effects <em>are allowed</em>, including sending messages to users
   or other Identities in the Anoma network.
  The <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html">Executor</a> may run these IO effects,
  but running IO effects is orthogonal to
  reading and writing to state,
  i.e., running IO effects must not affect the key value store.
  Whether or not the executor runs IO effects will (in V2) depend on
  additional information provided in
  <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/mempool/worker/transaction_request.html">transaction requests</a> that
  the worker can pass to the executor (in the <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/execute_transaction.html">ExecuteTransaction</a> message).</li>
</ul>
<p>When the execution engine group <em>executes</em> a <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>,
 it read the keys from the state that would be reached by executing
 all preceding <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>s<sup id="fnref:7"><a class="footnote-ref" href="#fn:7">7</a></sup>
  to compute the <span class="arithmatex">\(\mathsf{executor\_function}\)</span>, and then updates its state.
After executing a <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>, the state of the write
 keys must reflect the result of the <span class="arithmatex">\(\mathsf{executor\_function}\)</span> as
 applied to the read keys.</p>
<h4 id="timestamps">Timestamps<a class="headerlink" href="#timestamps" title="Permanent link">&para;</a></h4>
<p>Each Transaction Candidate has a logical <em>Timestamp</em>
 which conveys ordering information relative to other
 <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">transaction candidates</a>.
Timestamps, and thus <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>s, are
 partially ordered.
As shards learn more information from consensus or the mempool, they are able to refine this partial order into a total order.
Logical timestamps should include:</p>
<ul>
<li>a mempool worker id</li>
<li>a <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/tx_fingerprint.html">TxFingerprint</a></li>
<li>a hash of the transaction candidate</li>
</ul>
<p>For each mempool worker, timestamp ordering should be consistent with
 the lexicographic order of <em>batch number</em> and <em>transaction number</em>
 (where the latter is unique w.r.t. each batch).</p>
<p>!!! todo make proper logical timestamp type description file. I think we have one somewhere, and I'm not sure where.</p>
<p>The state stored at each Timestamp must be the one
 that would result from applying the <span class="arithmatex">\(\mathsf{executor\_function}\)</span> to
 each <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a> in the total order of their
 Timestamps.</p>
<h2 id="engines-overview">Engines Overview<a class="headerlink" href="#engines-overview" title="Permanent link">&para;</a></h2>
<div class="admonition todo">
<p class="admonition-title">Todo</p>
<p>adapt</p>
<p><a class="glightbox" href="https://anoma.github.io/nspec/v2/images/rough_execution_engine_message_passing_web.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Execution Architecture" src="https://anoma.github.io/nspec/v2/images/rough_execution_engine_message_passing_web.svg" /></a></p>
</div>
<h3 id="shards">Shards<a class="headerlink" href="#shards" title="Permanent link">&para;</a></h3>
<p><a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a> store and update the state of the RSM.
Different shards may be on different machines.<sup id="fnref:8"><a class="footnote-ref" href="#fn:8">8</a></sup>
Within a Validator, Keys are partitioned across the
 <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a> for load-balancing.
Redistributing state between <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a> is called <em>re-sharding</em>.
For V2, we assume there will be no re-sharding.</p>
<!-- NOT RELEVANT TO V2
Each Shard is specific to a blockchain, and each shard in a chimera chain is specific to 1 base chain.
However, as an optimization, an implementation could conceivably use 1 process to do the work of multiple shards with different base chains so long as those shards are identical, and fork that process if / when the base chains diverge.
-->

<p>For each Key, each <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shard</a> maintains a (partially-ordered) timeline
 of Timestamps of <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>s that
 read or write to that Key.<sup id="fnref:9"><a class="footnote-ref" href="#fn:9">9</a></sup></p>
<p>This requires <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a> to receive and process ordering information
 from mempool and <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/consensus_v1.html">consensus</a>.
<a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a> also store the data written by each
 <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a> that writes to that Key.
This is <a href="https://en.wikipedia.org/wiki/Multiversion_concurrency_control">multi-version concurrent storage</a>.</p>
<p><a class="glightbox" href="https://anoma.github.io/nspec/v2/images/keys_animated.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Per-key ordering (see web version for animation)" src="https://anoma.github.io/nspec/v2/images/keys_animated.svg" /></a></p>
<p>When a <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shard</a> has determined the value a <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>
 reads from a key, it sends that value to the corresponding
 <em><a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html">Executor</a></em>.
In the <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shard</a> page, we detail optimizations for getting read values
 to <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html">Executor</a>s as quickly as possible.</p>
<h3 id="executors-aka-executor-processes">Executors aka Executor Processes<a class="headerlink" href="#executors-aka-executor-processes" title="Permanent link">&para;</a></h3>
<p><a href="executor/index.html">Executors</a> are processes that compute the
 Executor Function and communicate results to the <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a>.
Each <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a> is assigned its own <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html">Executor</a>
 process, which receives the full <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_executable.html">TransactionExecutable</a> from the
 mempool <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/mempool/worker/index.html">workers</a>.
The Execution Engines might keep a pool of <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html">Executors</a>, or spin a
 new one up with each <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>.</p>
<p><a class="glightbox" href="https://anoma.github.io/nspec/v2/images/execution_architecture_web.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Execution Architecture" src="https://anoma.github.io/nspec/v2/images/execution_architecture_web.svg" /></a></p>
<p>The <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html">Executor</a> sends <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/kvs_read_request.html">read requests</a> to the
 relevant <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a> to obtain values the <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html">TransactionCandidate</a>
 needs to read at runtime;
 then the <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html">Executor</a> computes the Executor Function on the values
 received from the <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a>, and finally sends any values to be
 written to the relevant <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a>.
To save on communication costs,
 <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html">Executors</a>
 can be co-located with
 <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html">Shards</a>,
 <a href="https://anoma.github.io/nspec/v2/node_architecture/ordering/mempool/worker/index.html">Worker Engine</a>s,
 or both.</p>
<h3 id="read-backend">Read Backend<a class="headerlink" href="#read-backend" title="Permanent link">&para;</a></h3>
<p><a href="../../engines/execution.html#optimization-client-reads-as-read-only-transactions">Read-only Transaction Candidates</a> generalize state reads: any time someone wants to read (or compute something from) the official state on the validator (without changing it), it's a read-only transaction.
We need a public-facing process that communicates with the shards and executors much like the mempool.
The primary difference between the <a href="read_backend.html#read-backend">Read Backend</a> and the mempool in terms of interface is just that its transactions cannot write to state.</p>
<p>We detail the Read Backend engine <a href="read_backend.html#read-backend">here</a>.</p>
<!--
## Life of a Transaction

![Execution Architecture](execution_architecture_web.svg)

- When the [[Mempool Engines|mempool engine]] stores a transaction candidate,
  the mempool worker informs the relevant shards about
  the read and write requests that it should prepare for
  such that the executor's read and write requests will be served correctly
  and "immediate" inputs are provided as soon as possible.

- The worker requests a handle to a new [[Executor Process]]
  from the [[Execution Supervisor]]
  or the worker may spawn a new [[Executor Process]].[^10]
  Once the executor process is up and running,
  the transaction candidate's "code", Label and Timestamp
  are sent to the [[Executor Process]] in an [[ExecuteTransaction]] message.
  The Timestamp amounts to the [[TxFingerprint|transaction fingerprint]]
  i.e., a batch number and transaction number.

- For each key to be read _immediately_,
  when the relevant Shard learns the precise data to be read at that time,[^11]
  it communicates that data to the Executor;
  [[KVSReadRequest]]s are served in the same way,
  i.e.,
  the Executor communicates with the relevant shards
  performing the missing optional [[KVSReadRequest|read requests]].

- When the Executor Process receives all the data it uses as input,
  the executor computes the result of executor function in order
  to produce the data to be written.
  It then sends the data to the relevant shards
  using KVSWriteRequest.
- As an optimization, we allow executors to start computing before all reads are available, if possible.

- For each key to which the Executor Process has to write,
  the shard has (implicitly) granted write locks,
  i.e., the shards will  wait until it  receives data
  to be written from the executor process;
  it does  store the data (and potentially serves pending read requests).
- As an optimization, we allow optional writes, which allow the executor to inform the shard that it doesn't want to update the data, without having to re-transmit it.

- The shard informs the mempool worker about finished executor processes,
  in the form of state updates,
  once it has receive writes on all keys
  or lock releases
  or abort signals from the curator of a transaction.
-->

<!-- think a bit more about IO ... -->

<!-- NOT USED IN V1
[^10]: In principle,
    this may be a set of executor processes in general
    if we are able to split up executor processes into
    a set of processes or threads that are collocated with shards.

[^11]: This value may either be a genesis value or
    the value of the previous write to that key.
-->

<details class='quote'><summary>(Wiki) links on this page</summary><ul><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_label.html' alt='node_architecture/ordering/types/transaction_label.md'>TransactionLabel</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html' alt='node_architecture/ordering/execution/executor/index.md'>Executor</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/index.html' alt='node_architecture/ordering/index.md'>Ordering Machine</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/consensus_v1.html' alt='node_architecture/ordering/consensus_v1.md'>Consensus Engine</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/system_architecture/state/resource_machine/resource/computable_components/nullifier.html' alt='system_architecture/state/resource_machine/resource/computable_components/nullifier.md'>Nullifier</a></li><li><a href='https://anoma.github.io/nspec/v2/system_architecture/state/resource_machine/resource/computable_components/commitment.html' alt='system_architecture/state/resource_machine/resource/computable_components/commitment.md'>Commitment</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_label.html' alt='node_architecture/ordering/types/transaction_label.md'>TransactionLabel</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_label.html' alt='node_architecture/ordering/types/transaction_label.md'>TransactionLabel</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html' alt='node_architecture/ordering/execution/executor/index.md'>Executor</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/mempool/worker/transaction_request.html' alt='node_architecture/ordering/mempool/worker/transaction_request.md'>TransactionRequest</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/execute_transaction.html' alt='node_architecture/ordering/execution/executor/execute_transaction.md'>ExecuteTransaction</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/tx_fingerprint.html' alt='node_architecture/ordering/types/tx_fingerprint.md'>TxFingerprint</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/consensus_v1.html' alt='node_architecture/ordering/consensus_v1.md'>Consensus Engine</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html' alt='node_architecture/ordering/execution/executor/index.md'>Executor</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html' alt='node_architecture/ordering/execution/executor/index.md'>Executor</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html' alt='node_architecture/ordering/execution/executor/index.md'>Executor</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_executable.html' alt='node_architecture/ordering/types/transaction_executable.md'>TransactionExecutable</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/mempool/worker/index.html' alt='node_architecture/ordering/mempool/worker/index.md'>Worker Engine</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html' alt='node_architecture/ordering/execution/executor/index.md'>Executor</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html' alt='node_architecture/ordering/execution/executor/index.md'>Executor</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/kvs_read_request.html' alt='node_architecture/ordering/execution/shard/kvs_read_request.md'>KVSReadRequest</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/types/transaction_candidate.html' alt='node_architecture/ordering/types/transaction_candidate.md'>TransactionCandidate</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html' alt='node_architecture/ordering/execution/executor/index.md'>Executor</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/executor/index.html' alt='node_architecture/ordering/execution/executor/index.md'>Executor</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/execution/shard/index.html' alt='node_architecture/ordering/execution/shard/index.md'>Shard</a></li><li><a href='https://anoma.github.io/nspec/v2/node_architecture/ordering/mempool/worker/index.html' alt='node_architecture/ordering/mempool/worker/index.md'>Worker Engine</a></li></ul></details>

<!-- mermaid_wikilinks -->

<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>For V1, the mempool was already determining a total order,
because we only had a single unique worker
and transaction fingerprints already provide all information of a total order.
This is no longer true in V2.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>In fact, this could be made precise using abstract data types.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>In V2,
we make the additional assumption that Keys can have structure.
For example,
we can arrange them in a forest,
to allow us to easily express sub-trees using prefixes.
    This would allow labels to express
potentially infinite sets of keys in a compact way.
This will also require that we address the challenge of re-sharding state,
i.e., re-partitioning the state,
e.g., due to migration of validators around the globe.&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>From V2 onwards, mempool interacts with consensus to establish
a total order.&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>Again, note that from V2 onwards,
this will be in collaboration with consensus.&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:6">
<p>However, we also assume <a href="https://en.wikipedia.org/wiki/Concurrency_control">mulit-version storage</a>.&#160;<a class="footnote-backref" href="#fnref:6" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:7">
<p>Recall that we may known what this state is as soon as
all <em>relevant</em> previous transactions are executed,
i.e., those that may have an effect on the keys read.&#160;<a class="footnote-backref" href="#fnref:7" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn:8">
<p>For V2, the number of shards may be variable
and the challenge of re-sharding needs to be addressed.&#160;<a class="footnote-backref" href="#fnref:8" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
<li id="fn:9">
<p>The timeline is based on a shard-specific view of the mempool DAG.&#160;<a class="footnote-backref" href="#fnref:9" title="Jump back to footnote 9 in the text">&#8617;</a></p>
</li>
</ol>
</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-08-06T20:14:36+02:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-08-06</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-03-24T00:41:13+01:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-03-24</span>
  </span>

    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5zM16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! We'll try to improve this page in the future.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../consensus_v1.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Consensus Engine">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Consensus Engine
              </div>
            </div>
          </a>
        
        
          
          <a href="shard/index.html" class="md-footer__link md-footer__link--next" aria-label="Next: Shard">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Shard
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  <div class="md-copyright__highlight">
    &copy; 2024 <a href="https://anoma.net">Anoma Foundation</a> - Last updated: October 31, 2024 at 04:27 PM UTC
  </div>
  

  <ul>
    <li><a href="https://anoma.net/" target="_blank">Anoma Official Website</a> </li>
    <li><a href="https://art.anoma.net" target="_blank">Anoma Research Topics (ART)</a></li>
    <li><a href="https://anoma.net/blog" target="_blank">Anoma Blog</a></li>
    <li><a href="https://anoma.net/talks" target="_blank">Anoma Talks</a></li>
  </ul>
  <ul>
    <span class="md-copyright__highlight">Extra resources for Anoma
      Specification collaborators</span>
      
      <li><a href="https://anoma.github.io/nspec/v2/indexes/links.html">Quick links</a></li>
      <li><a href="https://anoma.github.io/nspec/v2/indexes/juvix_modules.html">Juvix modules</a></li>
      <li><a href="https://anoma.github.io/nspec/v2/tutorial/index.html">Markdown tutorials for writing Anoma
          Specification</a></li>
      <li><a href="https://anoma.github.io/nspec/v2/tutorial/engines/index.html">On engines in Anoma</a></li>
  </ul>
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://x.com/anoma" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/anoma" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://anoma.net/blog" target="_blank" rel="noopener" title="anoma.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M192 32c0 17.7 14.3 32 32 32 123.7 0 224 100.3 224 224 0 17.7 14.3 32 32 32s32-14.3 32-32C512 128.9 383.1 0 224 0c-17.7 0-32 14.3-32 32m0 96c0 17.7 14.3 32 32 32 70.7 0 128 57.3 128 128 0 17.7 14.3 32 32 32s32-14.3 32-32c0-106-86-192-192-192-17.7 0-32 14.3-32 32m-96 16c0-26.5-21.5-48-48-48S0 117.5 0 144v224c0 79.5 64.5 144 144 144s144-64.5 144-144-64.5-144-144-144h-16v96h16c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://research.anoma.net" target="_blank" rel="noopener" title="research.anoma.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://youtube.com/anoma" target="_blank" rel="noopener" title="youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:arts@heliax.dev" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.path", "navigation.prune", "navigation.tabs", "navigation.sections", "navigation.indexes", "search.highlight", "search.suggest", "search.sharing", "toc.follow"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d6f25eb3.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../../assets/js/extra.js"></script>
      
        <script src="../../../assets/js/highlight.js"></script>
      
        <script src="../../../assets/js/mathjax.js"></script>
      
        <script src="../../../assets/js/tex-svg-full.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>