
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The Anoma Specification is a collection of documents that describe the architecture, design, and implementation of the Anoma Network.">
      
      
        <meta name="author" content="Anoma Foundation">
      
      
        <link rel="canonical" href="https://anoma.github.io/nspec/main/arch/node/networking/index.html">
      
      
        <link rel="prev" href="../engines/naming_behaviour.html">
      
      
        <link rel="next" href="node/index.html">
      
      
      <link rel="icon" href="../../../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.37">
    
    
      
        <title>Networking Machine - Anoma Specification</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="../../../assets/css/style.css">
    
      <link rel="stylesheet" href="../../../assets/css/juvix-highlighting.css">
    
      <link rel="stylesheet" href="../../../assets/css/juvix_codeblock_footer.css">
    
      <link rel="stylesheet" href="../../../assets/css/juvix_codeblock_footer.css">
    
      <link rel="stylesheet" href="../../../assets/css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Networking Machine - Anoma Specification" >
      
        <meta  property="og:description"  content="The Anoma Specification is a collection of documents that describe the architecture, design, and implementation of the Anoma Network." >
      
        <meta  property="og:image"  content="https://anoma.github.io/nspec/main/assets/images/social/arch/node/networking/index.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://anoma.github.io/nspec/main/arch/node/networking/index.html" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Networking Machine - Anoma Specification" >
      
        <meta  name="twitter:description"  content="The Anoma Specification is a collection of documents that describe the architecture, design, and implementation of the Anoma Network." >
      
        <meta  name="twitter:image"  content="https://anoma.github.io/nspec/main/assets/images/social/arch/node/networking/index.png" >
      
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#networking-machine" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
  For updates follow <strong>@anoma</strong> on
  <a rel="me" href="https://x.com/anoma">
    <span class="twemoji x-twitter">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </span>
    <strong></strong>
  </a>
  and discuss on our
  <a href="https://research.anoma.net">
    <span class="twemoji discourse">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg>
    </span>
    <strong>forum</strong>
  </a>

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest official version.
  <a href="../../../..">
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
        
  
    
  
  <header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
    <nav class="md-header__inner md-grid" aria-label="Header">
      <a href="../../../index.html" title="Anoma Specification" class="md-header__button md-logo" aria-label="Anoma Specification" data-md-component="logo">
        
  <img src="../../../assets/logo.svg" alt="logo">

      </a>
      <label class="md-header__button md-icon" for="__drawer">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
      </label>
      <div class="md-header__title" data-md-component="header-title">
        <div class="md-header__ellipsis">
          <div class="md-header__topic">
            <span class="md-ellipsis">
                
                <span class="first-letter">A</span>noma 
              
                <span class="first-letter">S</span>pecification
              
              
                <span class="md-header__topic-version">v0.1.1-e062c8019</span>
              
            </span>
          </div>
          <div class="md-header__topic" data-md-component="header-topic">
            <span class="md-ellipsis">
              
                Networking Machine
              
            </span>
          </div>
        </div>
      </div>
      
        
          <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="red"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
        
      
      
        <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
      
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
      
    </nav>
    
      
        <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Navigation tabs -->
<nav
  class="md-tabs"
  aria-label="Tabs"
  data-md-component="tabs"
>
  <div class="md-grid">
    <ul class="md-tabs__list">
      
      
            
  
  
  
    <li class="md-tabs__item">
      <a href="../../../index.html" class="md-tabs__link">
        
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    
  
  Home

      </a>
    </li>
  

        
      
      
            
  
  
  
    <li class="md-tabs__item">
      <a href="../../../changelog.html" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

        
      
      
            
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../scope/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm10.78 2H19v12.18c-.26-.8-1.31-1.39-2.2-1.39h-1v-3a1 1 0 0 0-1-1h-6v-2h2a1 1 0 0 0 1-1v-2h2c1.03 0 1.87-.79 1.98-1.79M5 10.29l4.8 4.5v1a2 2 0 0 0 2 2V19H5z"/></svg>
    
  
  Scope

        </a>
      </li>
    
  

        
      
      
            
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../basic_abstractions/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
    
  
  Basic Abstractions

        </a>
      </li>
    
  

        
      
      
            
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 18.714v4.8c0 .288-.192.48-.48.48h-4.8c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48h1.92v-1.92h-8.16v1.92h1.92c.288 0 .48.192.48.48v4.8c0 .288-.192.48-.48.48H9.6c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48h1.92v-1.92H3.36v1.92h1.92c.288 0 .48.192.48.48v4.8c0 .288-.192.48-.48.48H.48c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48H2.4v-2.4c0-.288.192-.48.48-.48h8.64v-1.44h.96v1.44h8.64c.288 0 .48.192.48.48v2.4h1.92c.288 0 .48.192.48.48m-13.92 4.32h3.84v-3.84h-3.84zm-9.12 0H4.8v-3.84H.96Zm18.24 0h3.84v-3.84H19.2ZM6.24 9.642V3.546c0-.192.096-.336.24-.432L11.76.042a.8.8 0 0 1 .48 0l5.28 3.072c.144.096.24.24.24.432v6.096c0 .144-.096.288-.24.384l-5.28 3.072q-.096.048-.24.048t-.24-.048l-5.28-3.072c-.144-.096-.24-.24-.24-.384m10.56-.288V4.362l-4.32 2.496v4.992zm-9.6 0 4.32 2.496V6.858L7.2 4.362Zm.48-5.808L12 5.994l4.32-2.448L12 1.05Z"/></svg>
    
  
  Protocol Architecture

        </a>
      </li>
    
  

        
      
      
            
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../application_architecture/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 20h4v-4h-4m0-2h4v-4h-4m-6-2h4V4h-4m6 4h4V4h-4m-6 10h4v-4h-4m-6 4h4v-4H4m0 10h4v-4H4m6 4h4v-4h-4M4 8h4V4H4z"/></svg>
    
  
  Application Architecture

        </a>
      </li>
    
  

        
      
      
            
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../implementation/index.html" class="md-tabs__link">
          
  
    
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.793 16.575c0 3.752-2.927 7.426-7.743 7.426-5.249 0-7.843-3.71-7.843-8.29 0-5.21 3.892-12.952 8-15.647a.397.397 0 0 1 .61.371 9.72 9.72 0 0 0 1.694 6.518c.522.795 1.092 1.478 1.763 2.352.94 1.227 1.637 1.906 2.644 3.842l.015.028a7.1 7.1 0 0 1 .86 3.4"/></svg>
    
  
  Implementation

        </a>
      </li>
    
  

        
      
      
      
      
      
      
      
    </ul>
  </div>
</nav>
      
    
  </header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../index.html" title="Anoma Specification" class="md-nav__button md-logo" aria-label="Anoma Specification" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    Anoma Specification
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../index.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 8.25a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4A.75.75 0 0 1 5 8.25M4 10.5A.75.75 0 0 0 4 12h4a.75.75 0 0 0 0-1.5z"/><path d="M13-.005c1.654 0 3 1.328 3 3 0 .982-.338 1.933-.783 2.818-.443.879-1.028 1.758-1.582 2.588l-.011.017c-.568.853-1.104 1.659-1.501 2.446-.398.789-.623 1.494-.623 2.136a1.5 1.5 0 1 0 2.333-1.248.75.75 0 0 1 .834-1.246A3 3 0 0 1 13 16H3a3 3 0 0 1-3-3c0-1.582.891-3.135 1.777-4.506q.315-.483.623-.946c.473-.709.923-1.386 1.287-2.048H2.51c-.576 0-1.381-.133-1.907-.783A2.68 2.68 0 0 1 0 2.995a3 3 0 0 1 3-3Zm0 1.5a1.5 1.5 0 0 0-1.5 1.5c0 .476.223.834.667 1.132A.75.75 0 0 1 11.75 5.5H5.368c-.467 1.003-1.141 2.015-1.773 2.963-.192.289-.381.571-.558.845C2.13 10.711 1.5 11.916 1.5 13A1.5 1.5 0 0 0 3 14.5h7.401A3 3 0 0 1 10 13c0-.979.338-1.928.784-2.812.441-.874 1.023-1.748 1.575-2.576l.017-.026c.568-.853 1.103-1.658 1.501-2.448s.623-1.497.623-2.143c0-.838-.669-1.5-1.5-1.5m-10 0a1.5 1.5 0 0 0-1.5 1.5c0 .321.1.569.27.778.097.12.325.227.74.227h7.674A2.7 2.7 0 0 1 10 2.995c0-.546.146-1.059.401-1.5Z"/></svg>
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../scope/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Scope
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../basic_abstractions/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Basic Abstractions
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 18.714v4.8c0 .288-.192.48-.48.48h-4.8c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48h1.92v-1.92h-8.16v1.92h1.92c.288 0 .48.192.48.48v4.8c0 .288-.192.48-.48.48H9.6c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48h1.92v-1.92H3.36v1.92h1.92c.288 0 .48.192.48.48v4.8c0 .288-.192.48-.48.48H.48c-.288 0-.48-.192-.48-.48v-4.8c0-.288.192-.48.48-.48H2.4v-2.4c0-.288.192-.48.48-.48h8.64v-1.44h.96v1.44h8.64c.288 0 .48.192.48.48v2.4h1.92c.288 0 .48.192.48.48m-13.92 4.32h3.84v-3.84h-3.84zm-9.12 0H4.8v-3.84H.96Zm18.24 0h3.84v-3.84H19.2ZM6.24 9.642V3.546c0-.192.096-.336.24-.432L11.76.042a.8.8 0 0 1 .48 0l5.28 3.072c.144.096.24.24.24.432v6.096c0 .144-.096.288-.24.384l-5.28 3.072q-.096.048-.24.048t-.24-.048l-5.28-3.072c-.144-.096-.24-.24-.24-.384m10.56-.288V4.362l-4.32 2.496v4.992zm-9.6 0 4.32 2.496V6.858L7.2 4.362Zm.48-5.808L12 5.994l4.32-2.448L12 1.05Z"/></svg>
  
  <span class="md-ellipsis">
    Protocol Architecture
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Protocol Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../system/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    System Architecture
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 17c-.13 0-.26 0-.39.04l-1.61-3.25a2.5 2.5 0 0 0-1.75-4.29c-.13 0-.25 0-.39.04l-1.63-3.25c.48-.45.77-1.08.77-1.79a2.5 2.5 0 0 0-5 0c0 .71.29 1.34.76 1.79L8.64 9.54c-.14-.04-.26-.04-.39-.04a2.5 2.5 0 0 0-1.75 4.29l-1.61 3.25C4.76 17 4.63 17 4.5 17a2.5 2.5 0 0 0 0 5A2.5 2.5 0 0 0 7 19.5c0-.7-.29-1.34-.76-1.79l1.62-3.25c.14.04.26.04.39.04s.25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0A2.5 2.5 0 0 0 12 17c-.13 0-.26 0-.39.04L10 13.79c.46-.45.75-1.08.75-1.79s-.29-1.34-.75-1.79l1.61-3.25c.13.04.26.04.39.04s.26 0 .39-.04L14 10.21c-.45.45-.75 1.09-.75 1.79a2.5 2.5 0 0 0 2.5 2.5c.13 0 .25 0 .39-.04l1.63 3.25c-.47.45-.77 1.09-.77 1.79a2.5 2.5 0 0 0 5 0 2.5 2.5 0 0 0-2.5-2.5"/></svg>
  
  <span class="md-ellipsis">
    Node Architecture
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Node Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../types/basics.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Basic Types
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../engines/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Engine Types
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../hardware/index.html" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    Hardware Abstraction Machine
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3_5" id="__nav_5_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_3_5">
            <span class="md-nav__icon md-icon"></span>
            Hardware Abstraction Machine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../hardware/local_storage_engines/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Local Storage Engines
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../engines/identity_management.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Identity Machine
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3_5_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link md-nav__link--active">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    Networking Machine
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_5_3_5_4" id="__nav_5_3_5_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_3_5_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_3_5_4">
            <span class="md-nav__icon md-icon"></span>
            Networking Machine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="node/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Intra node & inter node protocols
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="intra_domain/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Intra domain protocols
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../ordering/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Ordering Machine
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../application_architecture/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Application Architecture
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../implementation/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Implementation
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../indexes/links.html" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
  
  <span class="md-ellipsis">
    Quick links
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../prelude.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Juvix modules
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../tutorial/index.html" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Tutorials for contributors
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="networking-machine">Networking Machine<a class="headerlink" href="#networking-machine" title="Permanent link">&para;</a></h1>
<h2 id="purpose">Purpose<a class="headerlink" href="#purpose" title="Permanent link">&para;</a></h2>
<p>The Networking Machine is responsible for message passing between engine instances,
both locally (intra-node), and over the network (inter-node).
The core functionality includes message routing and transport,
upon which more complex peer-to-peer (P2P) protocols are built.</p>
<div class="v1">
<h2 id="scope">Scope<a class="headerlink" href="#scope" title="Permanent link">&para;</a></h2>
<p>The Anoma v1 network is limited to the following.</p>
<ul>
<li>The network consists of multiple nodes that can establish direct connections with each other over QUIC/TLS transport protocols.</li>
</ul>
<ul>
<li>Nodes know about each other's addresses by explicitly adding <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_advert_v1.html#nodeadvert">NodeAdvert</a>s to their configuration.</li>
</ul>
<ul>
<li>Engines can send unicast and multicast (pub/sub) messages to both local and remote engines.</li>
</ul>
<ul>
<li>Pub/sub is limited to a single publisher with directly connected subscribers.</li>
</ul>
<p>The Anoma v2 network is going to support domains, dynamic P2P overlays, and P2P routing protocols.
This is described in more detail in <em><a href="https://arxiv.org/abs/2306.16153">P2P Overlay Domains with Sovereignty</a> (PODS)</em>.
In PODS, the network architecture consists of a collection of <em>nodes</em> that are part of one or multiple heterogeneous <em>domains</em>.
Each domain has its own overlay topology, and a distinct set of P2P <em>intra-domain protocols</em>, tailored to the characteristics and needs of the nodes in that domain.</p>
</div>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<h3 id="terminology">Terminology<a class="headerlink" href="#terminology" title="Permanent link">&para;</a></h3>
<!-- --8<-- [start:node] -->
<p>A <em>node</em> is the set of running <em>engine instances</em> that collectively participate in the network as a single entity.
Each node has a <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/index.html#router">Router</a> engine instance responsible for intra- and inter-node message routing,
and a <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/transport/index.html#transport">Transport</a> engine instance responsible for inter-node connectivity.</p>
<p>A <em>peer</em> is a connected neighbor of a <em>node</em> in the network.</p>
<!-- --8<-- [end:node] -->
<!-- --8<-- [start:node-id] -->
<p>The <em><a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_identity.html#nodeidentity">node identity</a></em> in the networking context is the <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/engine_identity.html#engineidentity">engine identity</a> of the <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/index.html#router">Router</a> engine instance.</p>
<!-- --8<-- [end:node-id] -->

<h3 id="message-passing">Message passing<a class="headerlink" href="#message-passing" title="Permanent link">&para;</a></h3>
<p>Communication between engines follows the actor model
with asynchronous message passing between engines.</p>
<p>Communicating engines can reside either on the same node
or on different nodes connected over the network.</p>
<p>A message received by an engine may trigger reactions
in the form of one or more messages sent by the receiver.
A typical reaction is a response to a request
in the often used request-response pattern,
or a forwarding decision in a network protocol.</p>
<h3 id="message-transmission-addressing-routing">Message transmission, addressing, routing<a class="headerlink" href="#message-transmission-addressing-routing" title="Permanent link">&para;</a></h3>
<p>Message transmission in the network is either
one-to-one (unicast), few-to-many (multicast), or one-to-any (anycast).</p>
<p>A unicast message is sent between two engines by a single sender to a single recipient,
and routed over the network either directly to the destination or over multiple hops,
depending on the transport protocol used.</p>
<p>Multicast messaging follows the topic-based publish-subscribe (pub/sub) pattern,
where a message (a.k.a. event) is sent by an authorized publisher to all subscribers of the topic,
and routed over the network along multi-hop paths from a publisher towards subscribers.</p>
<p>Anycast messages are used when sending a request to any known member of a domain.</p>
<p>An <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/engine_message.html#enginemessage">EngineMessage</a> is addressed from a <em>source</em> <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/engine_identity.html#engineidentity">engine identity</a> to a <em>destination</em> external identity,
and the content of the message is authenticated by a signature of the source engine.
The destination identity is either
a <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_identity.html#nodeidentity">NodeIdentity</a> or <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/engine_identity.html#engineidentity">EngineIdentity</a> (for unicast messages),
a pub/sub <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/topic_identity.html#topicidentity">TopicIdentity</a> (for multicast messages),
or a <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/domain_identity.html#domainidentity">DomainIdentity</a> (for anycast messages).</p>
<p>The <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/index.html#router">Router</a> engine of each node is responsible for message routing
between local engines, local and remote engines,
and in some cases relaying between two remote engines.
It makes routing decisions based on the destination identity in the message.</p>
<h3 id="message-flow">Message flow<a class="headerlink" href="#message-flow" title="Permanent link">&para;</a></h3>
<h4 id="intra-node-unicast-multicast-messages">Intra-node unicast &amp; multicast messages<a class="headerlink" href="#intra-node-unicast-multicast-messages" title="Permanent link">&para;</a></h4>
<figure>

<a class="glightbox" href="https://anoma.github.io/nspec/main/images/node.dot.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Inter-node messages" src="https://anoma.github.io/nspec/main/images/node.dot.svg" width="450" /></a>
<figcaption>

<strong>Unicast message</strong> from engine <em>A_X</em> to engine <em>A_Y</em>, along edges labeled <em>Y</em>.
<strong>Multicast message</strong> from publisher engine <em>A_Z</em> to topic <em>T</em>, delivered to subscribed engines <em>A_X</em> and <em>A_Y</em> by the router <em>A_R</em>, along edges labeled <em>T</em>.

</figcaption>
</figure>
<h4 id="inter-node-unicast-messages">Inter-node unicast messages<a class="headerlink" href="#inter-node-unicast-messages" title="Permanent link">&para;</a></h4>
<figure class="invertable wide">

<a class="glightbox" href="https://anoma.github.io/nspec/main/images/unicast.dot.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Unicast message" src="https://anoma.github.io/nspec/main/images/unicast.dot.svg" width="450" /></a>
<figcaption>

<strong>Unicast message</strong> between engine <em>A_X</em> of node <em>A</em> and engine <em>B_X</em> of node <em>B</em>,
via router engines <em>A_R</em> &amp; <em>B_R</em> and transport engines <em>A_T</em> &amp; <em>B_T</em>.

</figcaption>
</figure>
<h4 id="inter-node-multicast-messages">Inter-node multicast messages<a class="headerlink" href="#inter-node-multicast-messages" title="Permanent link">&para;</a></h4>
<figure class="invertable wide img-max">

<a class="glightbox" href="https://anoma.github.io/nspec/main/images/multicast.dot.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Multicast message" src="https://anoma.github.io/nspec/main/images/multicast.dot.svg" width="450" /></a>
<figcaption>

<strong>Multicast (pub/sub) message</strong> with publisher <em>A_X</em> and subscribers <em>B_X, C_X, D_X</em> sent to topic <em>T</em>.
Published by node <em>A</em> and forwarded to node <em>B</em> and <em>C</em>, then from node <em>B</em> to node <em>D</em>.
Multicast messages are sent along edges labeled <em>T</em>,
while <em>B, C, D</em> are unicast messages between PubSub engine instances.

</figcaption>
</figure>
<h2 id="network-architecture">Network architecture<a class="headerlink" href="#network-architecture" title="Permanent link">&para;</a></h2>
<p>The network consists of several sovereign domains with heterogenous protocols,
where each domain maintains its own peer-to-peer overlay topology,
manages its own membership,
and determines the set of protocols that run inside the domain.
A set of inter_domain protocols are responsible for
clustering nodes based on domain membership
and routing anycast messages to domains.</p>
<h3 id="intra-domain-protocols">Intra-domain protocols<a class="headerlink" href="#intra-domain-protocols" title="Permanent link">&para;</a></h3>
<div class="v2">
<p>Inside each domain, a <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/domain.html#domain">Domain</a> membership and an overlay <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/topology.html#topology">Topology</a> maintenance protocol
are responsible for responding to membership decisions,
as well as keeping the overlay connected and keeping track of a partial view of online members.</p>
</div>
<p>The P2P <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/pubsub/index.html#pubsub">PubSub</a> (publish-subscribe) protocol is responsible for event dissemination
from authorized publishers to subscribers,
while the P2P <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/storage/index.html#storage">Storage</a> protocol offers block storage and retrieval.</p>
<div class="v2">
<h3 id="inter-domain-protocols">Inter-domain protocols<a class="headerlink" href="#inter-domain-protocols" title="Permanent link">&para;</a></h3>
<p>Two inter_domain gossip protocol run in parallel: a Trust-Aware <a href="https://anoma.github.io/nspec/main/arch/node/networking/inter_domain/peer_sampling.html#peer-sampling">Peer Sampling</a> (TAPS) and a Trust-Aware <a href="https://anoma.github.io/nspec/main/arch/node/networking/inter_domain/clustering.html#clustering">Clustering</a> (TAC) protocol.
The two protocols together construct a small world network, where TAPS provides continuously changing long-range routing links,
while TAC discovers nodes with similar domain membership.
Using trust information in these protocols aids in making these protocols more resilient against eclipse and hub attacks.
TAPS is further enhanced by Uniform Peer Sampling (URPS) that uses statistical analysis to filter out peers over-represented in the peer sampling stream.
Domain membership privacy in TAC is achieved by using the Bloom-and-Flip (BLIP) algorithm that calculates similarity between randomized Bloom filters (see BLIP),
and then calculating the exact overlap using a Private Set Intersection (PSI) protocol.
Participation in the inter_domain protocols is optional: nodes that do not wish to be discovered outside of their domains and have fixed domain membership
may opt out of participating in inter_domain protocols, in order to decrease load, increase security, and thwart potential attacks coming from outsiders (e.g. DDoS).
This allows domains to have internal-only and external-facing members.</p>
<p>There are two ways to interact with a <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/domain.html#domain">Domain</a>:
either by sending external requests to any available domain member that may return a reply,
or by joining the domain and participating in the intra-domain protocols.
For both type of requests, a node needs to know about one or more domain members to send the request to,
which can be discovered either via the <a href="https://anoma.github.io/nspec/main/arch/node/networking/inter_domain/clustering.html#clustering">Clustering</a> protocol,
or via a lookup request that is routed in the inter_domain overlay using a greedy routing algorithm by the <a href="https://anoma.github.io/nspec/main/arch/node/networking/inter_domain/domain_routing.html#domain-routing">Domain Routing</a> protocol.
Both methods use domain membership similarity as a distance metric.</p>
</div>
<h2 id="software-architecture">Software architecture<a class="headerlink" href="#software-architecture" title="Permanent link">&para;</a></h2>
<figure class="invertable wide">

<a class="glightbox" href="https://anoma.github.io/nspec/main/images/engines.dot.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Engines of the Networking Machine" src="https://anoma.github.io/nspec/main/images/engines.dot.svg" width="450" /></a>

<figcaption>

<strong>Engines of the Networking Machine.</strong>
Octagons are engines with a single instance per node.
Double octagons are engines with multiple instances.
Solid arrows mark unicast message flow directions.
Dashed arrows mark multicast notifications.
Dotted arrows mark messages sent via the Router.

</figcaption>
</figure>
<h3 id="engines">Engines<a class="headerlink" href="#engines" title="Permanent link">&para;</a></h3>
<p>Engines are grouped based on their scope in the network architecture.</p>
<h4 id="intra-node-and-inter-node-protocols">Intra-node and inter-node protocols<a class="headerlink" href="#intra-node-and-inter-node-protocols" title="Permanent link">&para;</a></h4>
<p>This group of engines are responsible for facilitating communication
between local engines (intra-node),
and between engines of two directly connected remote nodes (inter-node).</p>
<p>These engines provide message routing and network transport functionality,
and store information about network identities:
advertisements received from the network and associated local metadata.</p>
<h5 id="router">Router<a class="headerlink" href="#router" title="Permanent link">&para;</a></h5>
<p>The <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/index.html#router">Router</a> engine is responsible for <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/engine_message.html#enginemessage">message</a> routing
and handles both inter-node and intra-node messages.
It authenticates received messages by verifying the signature of the <em>source</em> identity,
and makes routing decisions based on the <em>destination</em> identity.</p>
<p>It also provides topic-based pub/sub functionality for local engines and performs local multicast message routing.</p>
<p>It can also relay messages between two remote nodes,
in which case the <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/engine_message.html#enginemessage">EngineMessage</a> is encrypted and wrapped in a <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/relay_message.html#relaymessage">RelayMessage</a>.</p>
<p>The message routing algorithm is described in the <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/engine_message.html#enginemessage">EngineMessage</a> section.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An implementation may optimize intra-node messaging between local engine instances, such that they communicate directly instead of via the router.</p>
</div>
<h5 id="transport">Transport<a class="headerlink" href="#transport" title="Permanent link">&para;</a></h5>
<p>The <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/transport/index.html#transport">Transport</a> engine is responsible for establishing and maintaining encrypted transport connections between peers.
It supports various network transport protocols that are chosen according to transport preferences
set by locally on a per-message or per-node basis, and defaults to the remote node's preferences specified in a <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_advert_v1.html#nodeadvert">NodeAdvert</a> message.</p>
<h5 id="network-identity-store">Network Identity Store<a class="headerlink" href="#network-identity-store" title="Permanent link">&para;</a></h5>
<p>The <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/id_store/index.html#network-identity-store">Network Identity Store</a> engine maintains a <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/id_store/types/identity_store.html#identitystore">data store</a> with <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/id_store/types/identity_record.html#identityrecord">records</a>
that contain information associated with identities of engines, nodes, pub/sub topics, and domains.</p>
<p>The source of this information can be either local configuration
or advertisements received from other nodes via P2P protocols.</p>
<p>For each <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/engine_identity.html#engineidentity">EngineIdentity</a> it stores its local engine address, if applicable to the implementation.</p>
<p>For each <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_identity.html#nodeidentity">NodeIdentity</a>, it stores transport addresses in order of preference, measurements, trust value, and reputation value.</p>
<p>For each <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/topic_identity.html#topicidentity">TopicIdentity</a>, it stores the <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/pubsub/index.html#pubsub">PubSub</a> <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/pubsub/messages/topic_advert.html#topicadvert">TopicAdvert</a>.</p>
<div class="v2">
<p>For each <a href="https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/domain_identity.html#domainidentity">DomainIdentity</a>, it stores the <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/domain/types/domain_advert_v1.html#domainadvert">DomainAdvert</a>.</p>
</div>
<h4 id="intra-domain-protocols_1">Intra-domain protocols<a class="headerlink" href="#intra-domain-protocols_1" title="Permanent link">&para;</a></h4>
<p>This engine group implements intra-domain P2P protocols that run and offer services inside a domain.</p>
<p>Each domain has determines the set of protocols it runs
and the authentication mechanism it uses.</p>
<h4 id="pubsub">PubSub<a class="headerlink" href="#pubsub" title="Permanent link">&para;</a></h4>
<p>The <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/pubsub/index.html#pubsub">PubSub</a> engine implements a P2P topic-based pub/sub protocol and performs inter-node multicast message routing within a domain.</p>
<h4 id="storage">Storage<a class="headerlink" href="#storage" title="Permanent link">&para;</a></h4>
<p>The <a href="https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/storage/index.html#storage">Storage</a> engine implements a P2P block storage protocol.</p>
<details class='quote'><summary>(Wiki) links on this page</summary><ul><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_advert_v1.html' alt='arch/node/networking/node/router/types/node_advert_v1.md'>NodeAdvert</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/index.html' alt='arch/node/networking/node/router/index.md'>Router</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/transport/index.html' alt='arch/node/networking/node/transport/index.md'>Transport</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_identity.html' alt='arch/node/networking/node/router/types/node_identity.md'>NodeIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/engine_identity.html' alt='arch/node/networking/node/router/types/engine_identity.md'>EngineIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/index.html' alt='arch/node/networking/node/router/index.md'>Router</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/engine_message.html' alt='arch/node/networking/node/router/messages/engine_message.md'>EngineMessage</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/engine_identity.html' alt='arch/node/networking/node/router/types/engine_identity.md'>EngineIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_identity.html' alt='arch/node/networking/node/router/types/node_identity.md'>NodeIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/engine_identity.html' alt='arch/node/networking/node/router/types/engine_identity.md'>EngineIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/topic_identity.html' alt='arch/node/networking/node/router/types/topic_identity.md'>TopicIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/domain_identity.html' alt='arch/node/networking/node/router/types/domain_identity.md'>DomainIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/index.html' alt='arch/node/networking/node/router/index.md'>Router</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/pubsub/index.html' alt='arch/node/networking/intra_domain/pubsub/index.md'>PubSub</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/storage/index.html' alt='arch/node/networking/intra_domain/storage/index.md'>Storage</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/index.html' alt='arch/node/networking/node/router/index.md'>Router</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/engine_message.html' alt='arch/node/networking/node/router/messages/engine_message.md'>EngineMessage</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/engine_message.html' alt='arch/node/networking/node/router/messages/engine_message.md'>EngineMessage</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/relay_message.html' alt='arch/node/networking/node/router/messages/relay_message.md'>RelayMessage</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/messages/engine_message.html' alt='arch/node/networking/node/router/messages/engine_message.md'>EngineMessage</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/transport/index.html' alt='arch/node/networking/node/transport/index.md'>Transport</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_advert_v1.html' alt='arch/node/networking/node/router/types/node_advert_v1.md'>NodeAdvert</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/id_store/index.html' alt='arch/node/networking/node/id_store/index.md'>Network Identity Store</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/id_store/types/identity_store.html' alt='arch/node/networking/node/id_store/types/identity_store.md'>IdentityStore</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/id_store/types/identity_record.html' alt='arch/node/networking/node/id_store/types/identity_record.md'>IdentityRecord</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/engine_identity.html' alt='arch/node/networking/node/router/types/engine_identity.md'>EngineIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/node_identity.html' alt='arch/node/networking/node/router/types/node_identity.md'>NodeIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/topic_identity.html' alt='arch/node/networking/node/router/types/topic_identity.md'>TopicIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/pubsub/index.html' alt='arch/node/networking/intra_domain/pubsub/index.md'>PubSub</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/pubsub/messages/topic_advert.html' alt='arch/node/networking/intra_domain/pubsub/messages/topic_advert.md'>TopicAdvert</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/node/router/types/domain_identity.html' alt='arch/node/networking/node/router/types/domain_identity.md'>DomainIdentity</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/pubsub/index.html' alt='arch/node/networking/intra_domain/pubsub/index.md'>PubSub</a></li><li><a href='https://anoma.github.io/nspec/main/arch/node/networking/intra_domain/storage/index.html' alt='arch/node/networking/intra_domain/storage/index.md'>Storage</a></li></ul></details>

<!-- mermaid_wikilinks -->







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-11-01T02:52:42+01:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-11-01</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-03-24T00:41:13+01:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-03-24</span>
  </span>

    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.08C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12 21.35-1.45-1.32C5.4 15.36 2 12.27 2 8.5 2 5.41 4.42 3 7.5 3c.67 0 1.32.12 1.94.33L13 9.35l-4 5zM16.5 3C19.58 3 22 5.41 22 8.5c0 3.77-3.4 6.86-8.55 11.53L12 21.35l-1-7 4.5-5-2.65-5.08C13.87 3.47 15.17 3 16.5 3"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! We'll try to improve this page in the future.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  <div class="md-copyright__highlight">
    Powered by Mkdocs, Material 9.5.37-insiders-4.53.13 and Juvix v0.6.8 - Last updated: November 26, 2024 at 03:25 AM UTC
  </div>
  

  <ul>
    <li><a href="https://anoma.net/" target="_blank">Anoma Official Website</a> </li>
    <li><a href="https://art.anoma.net" target="_blank">Anoma Research Topics (ART)</a></li>
    <li><a href="https://anoma.net/blog" target="_blank">Anoma Blog</a></li>
    <li><a href="https://anoma.net/talks" target="_blank">Anoma Talks</a></li>
  </ul>
  <ul>
    <span class="md-copyright__highlight">Extra resources for Anoma
      Specification collaborators</span>
      
      <li><a href="https://anoma.github.io/nspec/main/indexes/links.html">Quick links</a></li>
      <li><a href="https://anoma.github.io/nspec/main/indexes/juvix_modules.html">Juvix modules</a></li>
      <li><a href="https://anoma.github.io/nspec/main/tutorial/index.html">Markdown tutorials for writing Anoma
          Specification</a></li>
      <li><a href="https://anoma.github.io/nspec/main/tutorial/engines/index.html">On engines in Anoma</a></li>
  </ul>
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://x.com/anoma" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9zm-24.8 373.8h39.1L151.1 88h-42z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/anoma" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://anoma.net/blog" target="_blank" rel="noopener" title="anoma.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M192 32c0 17.7 14.3 32 32 32 123.7 0 224 100.3 224 224 0 17.7 14.3 32 32 32s32-14.3 32-32C512 128.9 383.1 0 224 0c-17.7 0-32 14.3-32 32m0 96c0 17.7 14.3 32 32 32 70.7 0 128 57.3 128 128 0 17.7 14.3 32 32 32s32-14.3 32-32c0-106-86-192-192-192-17.7 0-32 14.3-32 32m-96 16c0-26.5-21.5-48-48-48S0 117.5 0 144v224c0 79.5 64.5 144 144 144s144-64.5 144-144-64.5-144-144-144h-16v96h16c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://research.anoma.net" target="_blank" rel="noopener" title="research.anoma.net" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9S348.6 32 225.9 32M224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://youtube.com/anoma" target="_blank" rel="noopener" title="youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:arts@heliax.dev" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.code.annotate", "content.code.copy", "content.tooltips", "search.highlight", "search.suggest", "search.sharing", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.instant.preview", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.prune", "navigation.indexes", "navigation.top", "toc.follow", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d6f25eb3.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../../assets/js/extra.js"></script>
      
        <script src="../../../assets/js/highlight.js"></script>
      
        <script src="../../../assets/js/mathjax.js"></script>
      
        <script src="../../../assets/js/tex-svg-full.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>