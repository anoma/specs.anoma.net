<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"><meta charset="UTF-8"><link href="https://anoma.github.io/nspec/main/assets/css/juvix-catppuchin.css" rel="stylesheet" type="text/css"><link href="https://anoma.github.io/nspec/main/assets/css/latte.css" rel="stylesheet" type="text/css"><link href="https://anoma.github.io/nspec/main/assets/css/juvix-source.css" rel="stylesheet" type="text/css"><script src="https://anoma.github.io/nspec/main/assets/js/highlight.js" type="text/javascript"></script><div id="package-header"><span class="caption"></span></div><pre id="src-content"><span class="ju-keyword">module</span> <span id="arch.system.identity.index:0"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:0" class="ju-code-link ju-module"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.identity.index</span></span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="prelude:0"><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:1"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:1" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:1" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:29"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:29" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:29" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:2"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:2" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:2" class="ju-code-link ju-constructor"><span class="ju-constructor">mkOrdkey</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:30" class="ju-code-link ju-var"><span class="ju-var">compare</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:29" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:29" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Ordering</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:3"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span></a></span></span> <span id="arch.system.identity.index:31"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:31" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:31" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.index:32"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:32" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:32" class="ju-code-link ju-var"><span class="ju-var">Hashable</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:4"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:4" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:4" class="ju-code-link ju-constructor"><span class="ju-constructor">mkHASH</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:33" class="ju-code-link ju-var"><span class="ju-var">ordKey</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:1" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:31" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:34" class="ju-code-link ju-var"><span class="ju-var">hash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:32" class="ju-code-link ju-var"><span class="ju-var">Hashable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:31" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-comment">-- Note: instance of this with Data.Map should be made</span>
<span class="ju-keyword">type</span> <span id="arch.system.identity.index:5"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:5" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span></a></span></span> <span id="arch.system.identity.index:35"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:35" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:35" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:36"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:6"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:6" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:6" class="ju-code-link ju-constructor"><span class="ju-constructor">mkOrdMap</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:37" class="ju-code-link ju-var"><span class="ju-var">ordKey</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:1" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:35" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:39" class="ju-code-link ju-var"><span class="ju-var">empty</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.index:38"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:38" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:38" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:38" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:42" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.index:40"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:40" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:40" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span id="arch.system.identity.index:41"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:41" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:41" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:40" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:41" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:40" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:41" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:44" class="ju-code-link ju-var"><span class="ju-var">insert</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.index:43"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:43" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:43" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:43" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:35" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:43" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:43" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:47" class="ju-code-link ju-var"><span class="ju-var">foldl</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.index:45"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:45" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:45" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span id="arch.system.identity.index:46"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:46" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:45" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:45" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:51" class="ju-code-link ju-var"><span class="ju-var">intersectWith</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.index:48"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:48" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:48" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span id="arch.system.identity.index:49"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:49" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:49" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span id="arch.system.identity.index:50"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:50" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:50" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:48" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:49" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:50" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:48" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:49" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:50" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:53" class="ju-code-link ju-var"><span class="ju-var">all</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.index:52"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:52" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:52" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:52" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:52" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-comment">-- Bunch of stuff, see https://www.smlnj.org/doc/smlnj-lib/Util/sig-OrdMap.html</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:7"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:7" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span></a></span></span> <span id="arch.system.identity.index:54"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:54" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:54" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>SignerType</span></a></span></a></span></span> <span id="arch.system.identity.index:55"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:55" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:55" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.index:56"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:56" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:56" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:8"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:8" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:8" class="ju-code-link ju-constructor"><span class="ju-constructor">mkSigner</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:57" class="ju-code-link ju-var"><span class="ju-var">sign</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:54" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:55" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:56" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:9"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:9" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:9" class="ju-code-link ju-inductive"><span class="ju-inductive">Decryptor</span></a></span></a></span></span> <span id="arch.system.identity.index:58"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:58" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:58" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>DecryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:59"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:59" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:59" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:60"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:60" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:60" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:10"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:10" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:10" class="ju-code-link ju-constructor"><span class="ju-constructor">mkDecryptor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:61" class="ju-code-link ju-var"><span class="ju-var">decrypt</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:58" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:60" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:24" class="ju-code-link ju-var"><span class="ju-inductive">Option</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:59" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:11"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:11" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:11" class="ju-code-link ju-inductive"><span class="ju-inductive">InternalIdentity</span></a></span></a></span></span> <span id="arch.system.identity.index:62"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:62" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:62" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>SignerType</span></a></span></a></span></span> <span id="arch.system.identity.index:63"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:63" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:63" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.index:64"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:64" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:64" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.index:65"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:65" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:65" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:66"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:66" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:66" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:67"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:67" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:67" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:12"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:12" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:12" class="ju-code-link ju-constructor"><span class="ju-constructor">mkInternalIdentity</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:68" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:62" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:63" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:64" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:69" class="ju-code-link ju-var"><span class="ju-var">decryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:9" class="ju-code-link ju-inductive"><span class="ju-inductive">Decryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:65" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:66" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:67" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:13"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span></a></span></span> <span id="arch.system.identity.index:70"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:70" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:70" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:71"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:71" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:71" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.index:72"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:72" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:72" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.index:73"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:73" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:73" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:14"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:14" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:14" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifier</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:74" class="ju-code-link ju-var"><span class="ju-var">verify</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:71" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:72" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:73" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:75" class="ju-code-link ju-var"><span class="ju-var">verifierHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:70" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:71" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:15"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:15" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span></a></span></span> <span id="arch.system.identity.index:76"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:76" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:76" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:77"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:77" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:77" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:78"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:78" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:78" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:79"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:79" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:79" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:16"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:16" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:16" class="ju-code-link ju-constructor"><span class="ju-constructor">mkEncryptor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:80" class="ju-code-link ju-var"><span class="ju-var">encrypt</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:77" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:78" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:79" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:81" class="ju-code-link ju-var"><span class="ju-var">encryptorHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:76" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:77" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:17"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:17" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:17" class="ju-code-link ju-inductive"><span class="ju-inductive">ExternalIdentity</span></a></span></a></span></span> <span id="arch.system.identity.index:82"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:82" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:82" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>VerifierOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.index:83"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:83" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:83" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.index:84"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:84" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:84" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.index:85"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:85" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:85" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.index:86"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:86" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:86" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.index:87"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:87" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:87" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:88"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:88" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:88" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:89"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:89" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:89" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:18"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:18" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:18" class="ju-code-link ju-constructor"><span class="ju-constructor">mkExternalIdentity</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:90" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:82" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:83" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:84" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:85" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:91" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:86" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:87" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:88" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:89" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:19"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:19" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:19" class="ju-code-link ju-inductive"><span class="ju-inductive">Identity</span></a></span></a></span></span> <span id="arch.system.identity.index:92"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:92" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:92" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>SignerType</span></a></span></a></span></span> <span id="arch.system.identity.index:93"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:93" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:93" class="ju-code-link ju-var"><span class="ju-var">InternalSignable</span></a></span></a></span></span> <span id="arch.system.identity.index:94"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:94" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:94" class="ju-code-link ju-var"><span class="ju-var">InternalCommitment</span></a></span></a></span></span> <span id="arch.system.identity.index:95"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:95" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:95" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:96"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:96" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:96" class="ju-code-link ju-var"><span class="ju-var">InternalCiphertext</span></a></span></a></span></span> <span id="arch.system.identity.index:97"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:97" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:97" class="ju-code-link ju-var"><span class="ju-var">InternalPlaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:98"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:98" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:98" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.index:99"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:99" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:99" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.index:100"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:100" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:100" class="ju-code-link ju-var"><span class="ju-var">ExternalSignable</span></a></span></a></span></span> <span id="arch.system.identity.index:101"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:101" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:101" class="ju-code-link ju-var"><span class="ju-var">ExternalCommitment</span></a></span></a></span></span> <span id="arch.system.identity.index:102"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:102" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:102" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.index:103"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:103" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:103" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:104"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:104" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:104" class="ju-code-link ju-var"><span class="ju-var">ExternalPlaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:105"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:105" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:105" class="ju-code-link ju-var"><span class="ju-var">ExternalCiphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:20"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:20" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:20" class="ju-code-link ju-constructor"><span class="ju-constructor">mkIdentity</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:106" class="ju-code-link ju-var"><span class="ju-var">internalIdentity</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:11" class="ju-code-link ju-inductive"><span class="ju-inductive">InternalIdentity</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:92" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:93" class="ju-code-link ju-var"><span class="ju-var">InternalSignable</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:94" class="ju-code-link ju-var"><span class="ju-var">InternalCommitment</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:95" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:97" class="ju-code-link ju-var"><span class="ju-var">InternalPlaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:96" class="ju-code-link ju-var"><span class="ju-var">InternalCiphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:107" class="ju-code-link ju-var"><span class="ju-var">externalIdentity</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:17" class="ju-code-link ju-inductive"><span class="ju-inductive">ExternalIdentity</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:98" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:99" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:100" class="ju-code-link ju-var"><span class="ju-var">ExternalSignable</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:101" class="ju-code-link ju-var"><span class="ju-var">ExternalCommitment</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:102" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:103" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:104" class="ju-code-link ju-var"><span class="ju-var">ExternalPlaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:105" class="ju-code-link ju-var"><span class="ju-var">ExternalCiphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:21"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:21" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:21" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span></a></span></span> <span id="arch.system.identity.index:108"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:108" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:108" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:109"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:109" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:109" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.index:110"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:110" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:110" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.index:111"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:111" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:111" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.index:112"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:112" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:112" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:22"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:22" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:22" class="ju-code-link ju-constructor"><span class="ju-constructor">mkSignsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:113" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:108" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:109" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:110" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:111" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:114" class="ju-code-link ju-var"><span class="ju-var">signsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:112" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:109" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:109" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:23"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:23" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:23" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span></a></span></span> <span id="arch.system.identity.index:115"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:115" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:115" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:116"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:116" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:116" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:117"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:117" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:117" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:118"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:118" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:118" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span id="arch.system.identity.index:119"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:119" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:119" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:24"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:24" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:24" class="ju-code-link ju-constructor"><span class="ju-constructor">mkReadsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:120" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:115" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:116" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:117" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:118" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:121" class="ju-code-link ju-var"><span class="ju-var">readsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:119" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:116" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:116" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:25"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span></a></span></span> <span id="arch.system.identity.index:122"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:122" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:122" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>VerifierType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:123"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:123" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:123" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:26"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:26" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:26" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComposeHashable</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:124" class="ju-code-link ju-var"><span class="ju-var">threshold</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:125" class="ju-code-link ju-var"><span class="ju-var">weights</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:123" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:122" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:27"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:27" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:27" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span></a></span></span> <span id="arch.system.identity.index:126"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:126" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:126" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:127"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:128"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.index:129"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:129" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.index:130"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:130" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.index:131"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:131" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span></a></span></span> <span id="arch.system.identity.index:132"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:132" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:132" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:28"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:28" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:28" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdCompose</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:133" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:126" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:134" class="ju-code-link ju-var"><span class="ju-var">underlyingVerifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:126" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:135" class="ju-code-link ju-var"><span class="ju-var">underlyingSigner</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:136" class="ju-code-link ju-var"><span class="ju-var">verifierHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:132" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:137" class="ju-code-link ju-var"><span class="ju-var">
    sign</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:138" class="ju-code-link ju-var"><span class="ju-var">verify</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:139" class="ju-code-link ju-var"><span class="ju-var">signerCompose</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:140" class="ju-code-link ju-var"><span class="ju-var">verifierCompose</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:141" class="ju-code-link ju-var"><span class="ju-var">verifierAnd</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:142" class="ju-code-link ju-var"><span class="ju-var">verifierOr</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.index:195"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:195" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:195" class="ju-code-link ju-function"><span class="ju-function">
projectVerifier</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:199" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:200" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:201" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:202" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:203" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:204" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:205" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:206" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:27" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:200" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:199" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:201" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:202" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:203" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:204" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:205" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:205" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:201" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:199" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:202" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:199" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:203" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:14" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifier</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.index:207"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:207" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:207" class="ju-code-link ju-function"><span class="ju-function">verify</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:189" class="ju-code-link ju-function"><span class="ju-function">ThresholdCompose<span class="ju-delimiter">.</span>verify</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:206" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:208"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:208" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:208" class="ju-code-link ju-function"><span class="ju-function">verifierHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:187" class="ju-code-link ju-function"><span class="ju-function">ThresholdCompose<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:206" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.index:196"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:196" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:196" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:209" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:210" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:211" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:212" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:213" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:214" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:215" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:216" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:210" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:211" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:212" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:213" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:217" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:214" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:212" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:213" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:218" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:210" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:209" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:219" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:215" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:211" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:209" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:27" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:210" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:209" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:211" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:212" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:213" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:214" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:215" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:28" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdCompose</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.index:220"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:220" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:218" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:221"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:221" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:221" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:216" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:222"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:222" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:222" class="ju-code-link ju-function"><span class="ju-function">underlyingSigner</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:217" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:223"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:223" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:223" class="ju-code-link ju-function"><span class="ju-function">verifierHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:219" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:227"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:227" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:227" class="ju-code-link ju-function"><span class="ju-function">sign</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:224"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:224" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:224" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span> <span id="arch.system.identity.index:225"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:225" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:225" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:150" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>map</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:226"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:226" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:226" class="ju-code-link ju-var"><span class="ju-var">i</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:156" class="ju-code-link ju-function"><span class="ju-function">Signer<span class="ju-delimiter">.</span>sign</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:222" class="ju-code-link ju-function"><span class="ju-function">underlyingSigner</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:226" class="ju-code-link ju-var"><span class="ju-var">i</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:225" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span><span class="ju-delimiter">}</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:224" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:237"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:237" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:237" class="ju-code-link ju-function"><span class="ju-function">verify</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="ju-keyword">|</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.index:228"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:228" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:228" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span></a></span></span> <span id="arch.system.identity.index:229"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:229" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:229" class="ju-code-link ju-var"><span class="ju-var">ws</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:230"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:230" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:230" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span> <span id="arch.system.identity.index:231"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:231" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:231" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:228" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:22" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:152" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>foldl</span></a></span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
            <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:232"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:232" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:232" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.index:233"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:233" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:233" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:232" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:233" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-delimiter">}</span>
            <span class="ju-number">0</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:153" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>intersectWith</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
              <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="ju-keyword">|</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:234"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:234" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:234" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.index:235"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:235" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:235" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:236"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:236" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:236" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Bool/Base-src.html#Stdlib.Data.Bool.Base:4" class="ju-code-link ju-function"><span class="ju-function">ite</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:163" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verify</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:221" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:235" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:230" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:236" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:234" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="ju-number">0</span><span class="ju-delimiter">}</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:229" class="ju-code-link ju-var"><span class="ju-var">ws</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:231" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:242"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:242" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:242" class="ju-code-link ju-function"><span class="ju-function">
    signerCompose</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:238"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:238" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:238" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Trait/Foldable/Monomorphic-src.html#Stdlib.Trait.Foldable.Monomorphic:13" class="ju-code-link ju-function"><span class="ju-function">foldl</span></a></span>
          <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:239"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:239" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:239" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:240"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:240" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:240" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span> <span id="arch.system.identity.index:241"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:241" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:241" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:151" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>insert</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:239" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:221" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:240" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span><span class="ju-delimiter">)</span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:241" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:149" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>empty</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span><span class="ju-delimiter">)</span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:238" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:248"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:248" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:248" class="ju-code-link ju-function"><span class="ju-function">
    verifierCompose</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:243"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:243" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:243" class="ju-code-link ju-var"><span class="ju-var">threshold</span></a></span></a></span></span> <span id="arch.system.identity.index:244"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:244" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:244" class="ju-code-link ju-var"><span class="ju-var">weights</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:26" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComposeHashable</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:243" class="ju-code-link ju-var"><span class="ju-var">threshold</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Trait/Foldable/Monomorphic-src.html#Stdlib.Trait.Foldable.Monomorphic:13" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>foldl</span></a></span>
            <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:245"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:245" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:245" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:246"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:246" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:246" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.index:247"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:247" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:247" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:151" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>insert</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:245" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:221" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:247" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span><span class="ju-delimiter">)</span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:246" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:247" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:149" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>empty</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span><span class="ju-delimiter">)</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:244" class="ju-code-link ju-var"><span class="ju-var">weights</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:251"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:251" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:251" class="ju-code-link ju-function"><span class="ju-function">
    verifierAnd</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:249"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:249" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:249" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.index:250"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:250" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:250" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:248" class="ju-code-link ju-function"><span class="ju-function">verifierCompose</span></a></span> <span class="ju-number">2</span> <span class="ju-keyword">[</span><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:249" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:250" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-keyword">]</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:254"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:254" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:254" class="ju-code-link ju-function"><span class="ju-function">verifierOr</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:252"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:252" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:252" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.index:253"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:253" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:253" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:248" class="ju-code-link ju-function"><span class="ju-function">verifierCompose</span></a></span> <span class="ju-number">1</span> <span class="ju-keyword">[</span><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:252" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:253" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-keyword">]</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:197"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:197" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:197" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeSignsFor</span></a></span></a></span></span> <span id="arch.system.identity.index:255"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:255" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:255" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:256"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:256" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.index:257"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:257" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:257" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.index:258"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:258" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:258" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.index:259"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:259" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:259" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:260"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:260" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:260" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:261"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:261" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:261" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:198"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:198" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:198" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeSignsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:262" class="ju-code-link ju-var"><span class="ju-var">underlyingSignsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:21" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:255" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:257" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:258" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:259" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:263" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:27" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:255" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:260" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:257" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:258" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:261" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:264" class="ju-code-link ju-var"><span class="ju-var">signsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:259" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:260" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:260" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.index:269"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:269" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:269" class="ju-code-link ju-function"><span class="ju-function">
projectSignsFor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:273" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:274" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:275" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:276" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:277" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:278" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:279" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:280" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:197" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeSignsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:273" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:274" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:275" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:276" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:277" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:278" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:279" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:21" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:279" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:274" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:278" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:275" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:278" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:276" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:277" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:22" class="ju-code-link ju-constructor"><span class="ju-constructor">mkSignsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.index:281"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:281" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:281" class="ju-code-link ju-function"><span class="ju-function">verifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:195" class="ju-code-link ju-function"><span class="ju-function">projectVerifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:266" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ThresholdComposeSignsFor<span class="ju-delimiter">.</span>verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:280" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:282"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:282" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:282" class="ju-code-link ju-function"><span class="ju-function">signsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:267" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeSignsFor<span class="ju-delimiter">.</span>signsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:280" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.index:270"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:270" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:270" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeSignsForFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:283" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:285" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:286" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:287" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:288" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:289" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:290" class="ju-code-link ju-var"><span class="ju-var">S</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:21" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:283" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:285" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:286" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:287" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:291" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:285" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:286" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:292" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:283" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:288" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:293" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:289" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:288" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:197" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeSignsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:283" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:285" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:286" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:287" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:288" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:289" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:198" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeSignsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.index:294"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:294" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:294" class="ju-code-link ju-function"><span class="ju-function">underlyingSignsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:290" class="ju-code-link ju-var"><span class="ju-var">S</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:295"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:295" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:295" class="ju-code-link ju-function"><span class="ju-function">verifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:196" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeFunctor</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:175" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>SignsFor<span class="ju-delimiter">.</span>verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:294" class="ju-code-link ju-function"><span class="ju-function">underlyingSignsFor</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:291" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:292" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:293" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:306"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:306" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:306" class="ju-code-link ju-function"><span class="ju-function">signsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:296"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:296" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:296" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.index:297"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:297" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:297" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span></a></span></span> <span id="arch.system.identity.index:298"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:298" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:298" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.index:299"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:299" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:299" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span></a></span></span> <span id="arch.system.identity.index:300"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:300" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:300" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:154" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>all</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:292" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
          <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:301"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:301" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:301" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.index:302"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:302" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:302" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:301" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:299" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:22" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:152" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>foldl</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:292" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
                  <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:303"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:303" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:303" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.index:304"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:304" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:304" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:305"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:305" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:305" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Bool/Base-src.html#Stdlib.Data.Bool.Base:4" class="ju-code-link ju-function"><span class="ju-function">ite</span></a></span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:176" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>SignsFor<span class="ju-delimiter">.</span>signsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:294" class="ju-code-link ju-function"><span class="ju-function">underlyingSignsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:296" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:302" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:304" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:303" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:305" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:305" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">}</span>
                  <span class="ju-number">0</span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:300" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:297" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span><span class="ju-delimiter">}</span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:298" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:271"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:271" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:271" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span></a></span></span> <span id="arch.system.identity.index:307"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:307" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:307" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:308"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:308" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:309"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:309" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:309" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:310"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:310" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:310" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:311"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:311" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:311" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:312"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:312" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:312" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>EncryptorHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:272"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:272" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:272" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeEncryptor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:313" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:307" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:311" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:314" class="ju-code-link ju-var"><span class="ju-var">underlyingEncryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:307" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:309" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:310" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:315" class="ju-code-link ju-var"><span class="ju-var">encryptorHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:312" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:311" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:316" class="ju-code-link ju-var"><span class="ju-var">compose</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:311" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:317" class="ju-code-link ju-var"><span class="ju-var">encrypt</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:311" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:309" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:310" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.index:324"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:324" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:324" class="ju-code-link ju-function"><span class="ju-function">
projectEncryptor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:329" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:330" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:331" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:332" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:333" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:334" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:335" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:271" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:329" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:330" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:331" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:332" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:333" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:334" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:334" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:330" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:333" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:331" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:332" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:16" class="ju-code-link ju-constructor"><span class="ju-constructor">mkEncryptor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.index:336"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:336" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:336" class="ju-code-link ju-function"><span class="ju-function">encrypt</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:322" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeEncryptor<span class="ju-delimiter">.</span>encrypt</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:335" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:337"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:337" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:337" class="ju-code-link ju-function"><span class="ju-function">encryptorHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:320" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeEncryptor<span class="ju-delimiter">.</span>encryptorHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:335" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">axiom</span> <span id="arch.system.identity.index:325"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:325" class="ju-code-link ju-axiom"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:325" class="ju-code-link ju-axiom"><span class="ju-axiom">encrypt_DUMMY</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.index:338"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:338" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:338" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:339"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:339" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:339" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:340"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:340" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:340" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.index:341"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:341" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:341" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:338" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:341" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
  <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:339" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
  <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:340" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.index:326"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:326" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:326" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeEncryptorFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:342" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:343" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:344" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:345" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:346" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:347" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:348" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:342" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:343" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:344" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:345" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:349" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:342" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:346" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:350" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:347" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:343" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:346" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:271" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:342" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:343" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:344" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:345" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:346" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:347" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:272" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeEncryptor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.index:351"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:351" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:351" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:349" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:352"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:352" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:352" class="ju-code-link ju-function"><span class="ju-function">underlyingEncryptor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:348" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:353"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:353" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:353" class="ju-code-link ju-function"><span class="ju-function">encryptorHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:350" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:361"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:361" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:361" class="ju-code-link ju-function"><span class="ju-function">compose</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:354"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:354" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:354" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span></a></span></span> <span id="arch.system.identity.index:355"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:355" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:355" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:26" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComposeHashable</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
          <span id="arch.system.identity.index:356"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:356" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:356" class="ju-code-link ju-function"><span class="ju-function">threshold</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:354" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span><span class="ju-delimiter">;</span>
          <span id="arch.system.identity.index:360"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:360" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:360" class="ju-code-link ju-function"><span class="ju-function">weights</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Trait/Foldable/Monomorphic-src.html#Stdlib.Trait.Foldable.Monomorphic:13" class="ju-code-link ju-function"><span class="ju-function">foldl</span></a></span>
              <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:357"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:357" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:357" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:358"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:358" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:358" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.index:359"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:359" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:359" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:151" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>insert</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:351" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:357" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span>
                        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:167" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Encryptor<span class="ju-delimiter">.</span>encryptorHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:352" class="ju-code-link ju-function"><span class="ju-function">underlyingEncryptor</span></a></span><span class="ju-delimiter">)</span>
                        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:359" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:358" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:359" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:149" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>empty</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:351" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span><span class="ju-delimiter">)</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:355" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span><span class="ju-delimiter">;</span>
        <span class="ju-delimiter">}</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:362"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:362" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:362" class="ju-code-link ju-function"><span class="ju-function">encrypt</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:325" class="ju-code-link ju-axiom"><span class="ju-axiom">encrypt_DUMMY</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:327"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:327" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:327" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeReadsFor</span></a></span></a></span></span> <span id="arch.system.identity.index:363"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:363" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:363" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:364"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:364" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:365"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:365" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:365" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:366"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:366" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:366" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span id="arch.system.identity.index:367"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:367" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:367" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:368"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:368" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:368" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:369"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:369" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:369" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>EncryptorHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:328"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:328" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:328" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeReadsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:370" class="ju-code-link ju-var"><span class="ju-var">underlyingReadsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:23" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:363" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:365" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:366" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:367" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:371" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:271" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:363" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:365" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:366" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:368" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:369" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:372" class="ju-code-link ju-var"><span class="ju-var">readsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:367" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:368" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:368" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.index:377"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:377" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:377" class="ju-code-link ju-function"><span class="ju-function">
projectReadsFor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:383" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:384" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:385" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:386" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:387" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:388" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:389" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:390" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:327" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeReadsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:383" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:384" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:385" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:386" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:387" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:388" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:389" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:23" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:389" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:384" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:388" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:385" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:386" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:387" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:24" class="ju-code-link ju-constructor"><span class="ju-constructor">mkReadsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.index:391"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:391" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:391" class="ju-code-link ju-function"><span class="ju-function">encryptor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:324" class="ju-code-link ju-function"><span class="ju-function">projectEncryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:374" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ThresholdComposeReadsFor<span class="ju-delimiter">.</span>encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:390" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:392"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:392" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:392" class="ju-code-link ju-function"><span class="ju-function">readsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:375" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeReadsFor<span class="ju-delimiter">.</span>readsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:390" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.index:378"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:378" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:378" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeReadsForFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:393" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:394" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:395" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:396" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:397" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:398" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:399" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:400" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:23" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:393" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:394" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:395" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:396" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:397" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:401" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:393" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:398" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:402" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:399" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:394" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:398" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:327" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeReadsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:393" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:394" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:395" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:396" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:397" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:398" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:399" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:328" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeReadsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.index:403"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:403" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:403" class="ju-code-link ju-function"><span class="ju-function">underlyingReadsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:400" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:404"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:404" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:404" class="ju-code-link ju-function"><span class="ju-function">encryptor</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:326" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeEncryptorFunctor</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:178" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ReadsFor<span class="ju-delimiter">.</span>encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:403" class="ju-code-link ju-function"><span class="ju-function">underlyingReadsFor</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:401" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:402" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:415"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:415" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:415" class="ju-code-link ju-function"><span class="ju-function">readsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.index:405"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:405" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:405" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.index:406"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:406" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:406" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span></a></span></span> <span id="arch.system.identity.index:407"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:407" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:407" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.index:408"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:408" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:408" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span></a></span></span> <span id="arch.system.identity.index:409"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:409" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:409" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:154" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>all</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:401" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
          <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:410"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:410" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:410" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.index:411"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:411" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:411" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:410" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:408" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:22" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:152" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>foldl</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:401" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
                  <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:412"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:412" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:412" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.index:413"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:413" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:413" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:414"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:414" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:414" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Bool/Base-src.html#Stdlib.Data.Bool.Base:4" class="ju-code-link ju-function"><span class="ju-function">ite</span></a></span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:179" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ReadsFor<span class="ju-delimiter">.</span>readsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:403" class="ju-code-link ju-function"><span class="ju-function">underlyingReadsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:405" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:411" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:413" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:412" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:414" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:414" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">}</span>
                  <span class="ju-number">0</span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:409" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:406" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span><span class="ju-delimiter">}</span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:407" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:379"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:379" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:379" class="ju-code-link ju-inductive"><span class="ju-inductive">VerifierName</span></a></span></a></span></span> <span id="arch.system.identity.index:416"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:416" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:416" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:417"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:417" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:417" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.index:418"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:418" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:418" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.index:419"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:419" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:419" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.index:420"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:420" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:420" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span id="arch.system.identity.index:421"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:421" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:421" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span></a></span></span> <span id="arch.system.identity.index:422"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:422" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:422" class="ju-code-link ju-var"><span class="ju-var">VerifierNameHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:380"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:380" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:380" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifierName</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:423" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:416" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:417" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:418" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:419" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:424" class="ju-code-link ju-var"><span class="ju-var">checkVerifierName</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:421" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:417" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:420" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:425" class="ju-code-link ju-var"><span class="ju-var">verifierNameHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:422" class="ju-code-link ju-var"><span class="ju-var">VerifierNameHashOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:421" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.index:381"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:381" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:381" class="ju-code-link ju-inductive"><span class="ju-inductive">EncryptorName</span></a></span></a></span></span> <span id="arch.system.identity.index:426"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:426" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:426" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.index:427"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:427" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:427" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.index:428"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:428" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:428" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.index:429"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:429" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:429" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span id="arch.system.identity.index:430"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:430" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:430" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span id="arch.system.identity.index:431"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:431" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:431" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span></a></span></span> <span id="arch.system.identity.index:432"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:432" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:432" class="ju-code-link ju-var"><span class="ju-var">EncryptorNameHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.index:382"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:382" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:382" class="ju-code-link ju-constructor"><span class="ju-constructor">mkEncryptorName</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:433" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:426" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:427" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:428" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:429" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:434" class="ju-code-link ju-var"><span class="ju-var">checkEncryptorName</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:431" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:427" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:430" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:435" class="ju-code-link ju-var"><span class="ju-var">encryptorNameHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:432" class="ju-code-link ju-var"><span class="ju-var">EncryptorNameHashOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:431" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.index:444"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:444" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:444" class="ju-code-link ju-function"><span class="ju-function">
SubVerifierFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:445" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:447" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:449" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:451" class="ju-code-link ju-var"><span class="ju-var">child</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:445" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:447" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:452" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Juvix/Builtin/V1/String-src.html#Juvix.Builtin.V1.String:1" class="ju-code-link ju-inductive"><span class="ju-axiom">String</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:449" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:445" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:453" class="ju-code-link ju-var"><span class="ju-var">hash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:449" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:379" class="ju-code-link ju-inductive"><span class="ju-inductive">VerifierName</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:445" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:447" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:449" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:380" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifierName</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.index:454"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:454" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:454" class="ju-code-link ju-function"><span class="ju-function">verifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:451" class="ju-code-link ju-var"><span class="ju-var">child</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:460"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:460" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:460" class="ju-code-link ju-function"><span class="ju-function">checkVerifierName</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:455"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:455" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:455" class="ju-code-link ju-var"><span class="ju-var">ph</span></a></span></a></span></span> <span id="arch.system.identity.index:456"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:456" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:456" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.index:457"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:457" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:457" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.index:458"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:458" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:458" class="ju-code-link ju-var"><span class="ju-var">pv</span></a></span></a></span></span> <span id="arch.system.identity.index:459"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:459" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:459" class="ju-code-link ju-var"><span class="ju-var">pc</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:163" class="ju-code-link ju-function"><span class="ju-function">Verifier<span class="ju-delimiter">.</span>verify</span></a></span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:452" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:458" class="ju-code-link ju-var"><span class="ju-var">pv</span></a></span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
              <span class="ju-string">&quot;I identify this verifier with this name : &quot;</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:456" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:451" class="ju-code-link ju-var"><span class="ju-var">child</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:457" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:459" class="ju-code-link ju-var"><span class="ju-var">pc</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Data/Bool/Base-src.html#Stdlib.Data.Bool.Base:3" class="ju-code-link ju-function"><span class="ju-function">&amp;&amp;</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:143" class="ju-code-link ju-function"><span class="ju-function">OrdKey<span class="ju-delimiter">.</span>compare</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:145" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>ordKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:452" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:455" class="ju-code-link ju-var"><span class="ju-var">ph</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:452" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:458" class="ju-code-link ju-var"><span class="ju-var">pv</span></a></span><span class="ju-delimiter">)</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Trait/Eq-src.html#Stdlib.Trait.Eq:7" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/main/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:3" class="ju-code-link ju-constructor"><span class="ju-constructor">Equal</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.index:461"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:461" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:461" class="ju-code-link ju-function"><span class="ju-function">verifierNameHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/main/arch/system/identity/index-src.html#arch.system.identity.index:453" class="ju-code-link ju-var"><span class="ju-var">hash</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
</pre><footer><pre>Powered by <a href="https://juvix.org">Juvix </a><a href="https://github.com/anoma/juvix/commit/bebe3d1">0.6.8-bebe3d1</a></pre></footer><footer><pre>Last modified on 2024-11-26 2:51 UTC</pre></footer></html>