<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"><meta charset="UTF-8"><link href="https://specs.anoma.net/main/assets/css/juvix-catppuchin.css" rel="stylesheet" type="text/css"><link href="https://specs.anoma.net/main/assets/css/latte-light.css" rel="stylesheet" type="text/css"><link href="https://specs.anoma.net/main/assets/css/juvix-source.css" rel="stylesheet" type="text/css"><script src="https://specs.anoma.net/main/assets/js/highlight.js" type="text/javascript"></script><div id="package-header"><span class="caption"></span></div><pre id="src-content"><span class="ju-keyword">module</span> <span id="arch.system.identity.identity"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.identity.identity</span></span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="prelude"><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#prelude" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#prelude" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="OrdKey"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdKey" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdKey" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:123"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:123" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:123" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="OrdKey.mkOrdKey"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdKey.mkOrdKey" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdKey.mkOrdKey" class="ju-code-link ju-constructor"><span class="ju-constructor">mkOrdKey</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:125" class="ju-code-link ju-var"><span class="ju-var">compare</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:123" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:123" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Ordering-src.html#Ordering" class="ju-code-link ju-inductive"><span class="ju-inductive">Ordering</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="HASH"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span></a></span></span> <span id="arch.system.identity.identity:128"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:129"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:129" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:129" class="ju-code-link ju-var"><span class="ju-var">Hashable</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="HASH.mkHASH"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH.mkHASH" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH.mkHASH" class="ju-code-link ju-constructor"><span class="ju-constructor">mkHASH</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:132" class="ju-code-link ju-var"><span class="ju-var">ordKey</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdKey" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:133" class="ju-code-link ju-var"><span class="ju-var">hash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:129" class="ju-code-link ju-var"><span class="ju-var">Hashable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-comment">-- Note: instance of this with Data.Map should be made</span>
<span class="ju-keyword">type</span> <span id="OrdMap"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span></a></span></span> <span id="arch.system.identity.identity:140"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:140" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:140" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:141"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="OrdMap.mkMap"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.mkMap" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.mkMap" class="ju-code-link ju-constructor"><span class="ju-constructor">mkMap</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:149" class="ju-code-link ju-var"><span class="ju-var">ordKey</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdKey" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:140" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:152" class="ju-code-link ju-var"><span class="ju-var">empty</span></a></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:151" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:151" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:157" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:155" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:156" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:155" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:156" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:155" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:156" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:160" class="ju-code-link ju-var"><span class="ju-var">insert</span></a></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:159" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:159" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:140" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:159" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:159" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:165" class="ju-code-link ju-var"><span class="ju-var">foldl</span></a></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:163" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:163" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:163" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:172" class="ju-code-link ju-var"><span class="ju-var">intersectWith</span></a></span>
      <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:169" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:170" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:171" class="ju-code-link ju-var"><span class="ju-var">C</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:169" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:170" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:171" class="ju-code-link ju-var"><span class="ju-var">C</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:169" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:170" class="ju-code-link ju-var"><span class="ju-var">B</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:171" class="ju-code-link ju-var"><span class="ju-var">C</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:175" class="ju-code-link ju-var"><span class="ju-var">all</span></a></span> <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:174" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:174" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:174" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-comment">-- Bunch of stuff, see https://www.smlnj.org/doc/smlnj-lib/Util/sig-OrdMap.html</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Signer"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Signer" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Signer" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span></a></span></span> <span id="arch.system.identity.identity:207"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:207" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:207" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span></a></span></span> <span id="arch.system.identity.identity:208"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:208" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:208" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:209"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:209" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:209" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="Signer.mkSigner"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Signer.mkSigner" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Signer.mkSigner" class="ju-code-link ju-constructor"><span class="ju-constructor">mkSigner</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:211" class="ju-code-link ju-var"><span class="ju-var">sign</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:207" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:208" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:209" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Decryptor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Decryptor" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Decryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">Decryptor</span></a></span></a></span></span> <span id="arch.system.identity.identity:216"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:216" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:216" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:217"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:217" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:217" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:218"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:218" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:218" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="Decryptor.mkDecryptor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Decryptor.mkDecryptor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Decryptor.mkDecryptor" class="ju-code-link ju-constructor"><span class="ju-constructor">mkDecryptor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-var"><span class="ju-var">decrypt</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:216" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:218" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#Option" class="ju-code-link ju-var"><span class="ju-inductive">Option</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:217" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="InternalIdentity"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#InternalIdentity" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#InternalIdentity" class="ju-code-link ju-inductive"><span class="ju-inductive">InternalIdentity</span></a></span></a></span></span> <span id="arch.system.identity.identity:225"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:225" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:225" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span></a></span></span> <span id="arch.system.identity.identity:226"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:226" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:226" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:227"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:227" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:227" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:228"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:228" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:228" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:229"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:229" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:229" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:230"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:230" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:230" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="InternalIdentity.mkInternalIdentity"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#InternalIdentity.mkInternalIdentity" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#InternalIdentity.mkInternalIdentity" class="ju-code-link ju-constructor"><span class="ju-constructor">mkInternalIdentity</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:233" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Signer" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:225" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:226" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:227" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:234" class="ju-code-link ju-var"><span class="ju-var">decryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Decryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">Decryptor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:228" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:229" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:230" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Verifier"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span></a></span></span> <span id="arch.system.identity.identity:249"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:249" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:249" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:250"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:250" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:250" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:251"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:251" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:251" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:252"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:252" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:252" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="Verifier.mkVerifier"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.mkVerifier" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.mkVerifier" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifier</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:255" class="ju-code-link ju-var"><span class="ju-var">verify</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:250" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:251" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:252" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:256" class="ju-code-link ju-var"><span class="ju-var">verifierHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:249" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:250" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Encryptor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span></a></span></span> <span id="arch.system.identity.identity:267"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:267" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:267" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:268"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:268" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:268" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:269"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:269" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:269" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:270"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:270" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:270" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="Encryptor.mkEncryptor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor.mkEncryptor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor.mkEncryptor" class="ju-code-link ju-constructor"><span class="ju-constructor">mkEncryptor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:273" class="ju-code-link ju-var"><span class="ju-var">encrypt</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:268" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:269" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:270" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:274" class="ju-code-link ju-var"><span class="ju-var">encryptorHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:267" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:268" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="ExternalIdentity"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ExternalIdentity" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ExternalIdentity" class="ju-code-link ju-inductive"><span class="ju-inductive">ExternalIdentity</span></a></span></a></span></span> <span id="arch.system.identity.identity:285"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:285" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:285" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:286"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:286" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:286" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:287"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:287" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:287" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:288"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:288" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:288" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:289"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:289" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:289" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:290"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:290" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:290" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:291"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:291" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:291" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:292"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:292" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:292" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="ExternalIdentity.mkExternalIdentity"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ExternalIdentity.mkExternalIdentity" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ExternalIdentity.mkExternalIdentity" class="ju-code-link ju-constructor"><span class="ju-constructor">mkExternalIdentity</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:295" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:285" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:286" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:287" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:288" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:296" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:289" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:290" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:291" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:292" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="Identity"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Identity" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Identity" class="ju-code-link ju-inductive"><span class="ju-inductive">Identity</span></a></span></a></span></span> <span id="arch.system.identity.identity:315"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:315" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:315" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span></a></span></span> <span id="arch.system.identity.identity:316"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:316" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:316" class="ju-code-link ju-var"><span class="ju-var">InternalSignable</span></a></span></a></span></span> <span id="arch.system.identity.identity:317"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:317" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:317" class="ju-code-link ju-var"><span class="ju-var">InternalCommitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:318"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:318" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:318" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:319"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:319" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:319" class="ju-code-link ju-var"><span class="ju-var">InternalCiphertext</span></a></span></a></span></span> <span id="arch.system.identity.identity:320"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:320" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:320" class="ju-code-link ju-var"><span class="ju-var">InternalPlaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:321"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:321" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:321" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:322"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:322" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:322" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:323"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:323" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:323" class="ju-code-link ju-var"><span class="ju-var">ExternalSignable</span></a></span></a></span></span> <span id="arch.system.identity.identity:324"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:324" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:324" class="ju-code-link ju-var"><span class="ju-var">ExternalCommitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:325"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:325" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:325" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:326"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:326" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:326" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:327"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:327" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:327" class="ju-code-link ju-var"><span class="ju-var">ExternalPlaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:328"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:328" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:328" class="ju-code-link ju-var"><span class="ju-var">ExternalCiphertext</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="Identity.mkIdentity"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Identity.mkIdentity" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Identity.mkIdentity" class="ju-code-link ju-constructor"><span class="ju-constructor">mkIdentity</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:331" class="ju-code-link ju-var"><span class="ju-var">internalIdentity</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#InternalIdentity" class="ju-code-link ju-inductive"><span class="ju-inductive">InternalIdentity</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:315" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:316" class="ju-code-link ju-var"><span class="ju-var">InternalSignable</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:317" class="ju-code-link ju-var"><span class="ju-var">InternalCommitment</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:318" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:320" class="ju-code-link ju-var"><span class="ju-var">InternalPlaintext</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:319" class="ju-code-link ju-var"><span class="ju-var">InternalCiphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:332" class="ju-code-link ju-var"><span class="ju-var">externalIdentity</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ExternalIdentity" class="ju-code-link ju-inductive"><span class="ju-inductive">ExternalIdentity</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:321" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:322" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:323" class="ju-code-link ju-var"><span class="ju-var">ExternalSignable</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:324" class="ju-code-link ju-var"><span class="ju-var">ExternalCommitment</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:325" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:326" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:327" class="ju-code-link ju-var"><span class="ju-var">ExternalPlaintext</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:328" class="ju-code-link ju-var"><span class="ju-var">ExternalCiphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="SignsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span></a></span></span> <span id="arch.system.identity.identity:363"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:363" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:363" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:364"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:365"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:365" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:365" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:366"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:366" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:366" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:367"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:367" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:367" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="SignsFor.mkSignsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor.mkSignsFor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor.mkSignsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">mkSignsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:370" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:363" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:365" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:366" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:371" class="ju-code-link ju-var"><span class="ju-var">signsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:367" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="ReadsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span></a></span></span> <span id="arch.system.identity.identity:384"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:384" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:384" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:385"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:385" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:385" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:386"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:386" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:386" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:387"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:387" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:387" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span id="arch.system.identity.identity:388"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:388" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:388" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="ReadsFor.mkReadsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor.mkReadsFor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor.mkReadsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">mkReadsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:391" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:384" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:385" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:386" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:387" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:392" class="ju-code-link ju-var"><span class="ju-var">readsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:388" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:385" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:385" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="ComposeHashable"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span></a></span></span> <span id="arch.system.identity.identity:405"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:405" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:405" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>VerifierType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:406"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:406" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:406" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="ComposeHashable.mkComposeHashable"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable.mkComposeHashable" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable.mkComposeHashable" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComposeHashable</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:409" class="ju-code-link ju-var"><span class="ju-var">threshold</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Nat/Base-src.html#Nat" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:410" class="ju-code-link ju-var"><span class="ju-var">weights</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:406" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Nat/Base-src.html#Nat" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:405" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="ThresholdCompose"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span></a></span></span> <span id="arch.system.identity.identity:417"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:417" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:417" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:418"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:419"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:420"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:420" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:420" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:421"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:422"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:422" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:422" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span></a></span></span> <span id="arch.system.identity.identity:423"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:423" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:423" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="ThresholdCompose.mkThresholdCompose"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose.mkThresholdCompose" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose.mkThresholdCompose" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdCompose</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:434" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:417" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:435" class="ju-code-link ju-var"><span class="ju-var">underlyingVerifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:417" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:420" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:436" class="ju-code-link ju-var"><span class="ju-var">underlyingSigner</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Signer" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:422" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:420" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:437" class="ju-code-link ju-var"><span class="ju-var">verifierHash</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:423" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:438" class="ju-code-link ju-var"><span class="ju-var">
    sign</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:422" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:420" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:439" class="ju-code-link ju-var"><span class="ju-var">verify</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:420" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:440" class="ju-code-link ju-var"><span class="ju-var">signerCompose</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/List-src.html#List" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:422" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:422" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:441" class="ju-code-link ju-var"><span class="ju-var">verifierCompose</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Nat/Base-src.html#Nat" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/List-src.html#List" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Nat/Base-src.html#Nat" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span><span class="ju-delimiter">)</span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:442" class="ju-code-link ju-var"><span class="ju-var">verifierAnd</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:443" class="ju-code-link ju-var"><span class="ju-var">verifierOr</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="projectVerifier"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectVerifier" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectVerifier" class="ju-code-link ju-function"><span class="ju-function">
projectVerifier</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:524" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:525" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:526" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:527" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:528" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:529" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:530" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:531" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:525" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:524" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:526" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:527" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:528" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:529" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:530" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:530" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:526" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:524" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:527" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:524" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:528" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.mkVerifier" class="ju-code-link ju-constructor"><span class="ju-constructor">Verifier<span class="ju-delimiter">.</span>mkVerifier</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:532"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:532" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:532" class="ju-code-link ju-function"><span class="ju-function">verify</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose.verify" class="ju-code-link ju-function"><span class="ju-function">ThresholdCompose<span class="ju-delimiter">.</span>verify</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:531" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:533"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:533" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:533" class="ju-code-link ju-function"><span class="ju-function">verifierHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose.verifierHash" class="ju-code-link ju-function"><span class="ju-function">ThresholdCompose<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:531" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="ThresholdComposeFunctor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeFunctor" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeFunctor" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:534" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:535" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:536" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:537" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:538" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:539" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:540" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:541" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:535" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:536" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:537" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:538" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:542" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Signer" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:539" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:537" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:538" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:543" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:535" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:534" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:544" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:540" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:536" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:534" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:535" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:534" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:536" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:537" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:538" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:539" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:540" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose.mkThresholdCompose" class="ju-code-link ju-constructor"><span class="ju-constructor">ThresholdCompose<span class="ju-delimiter">.</span>mkThresholdCompose</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:545"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:545" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:545" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:543" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:546"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:546" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:546" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:541" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:547"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:547" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:547" class="ju-code-link ju-function"><span class="ju-function">underlyingSigner</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:542" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:548"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:548" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:548" class="ju-code-link ju-function"><span class="ju-function">verifierHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:544" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:552"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:552" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:552" class="ju-code-link ju-function"><span class="ju-function">sign</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:549"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:549" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:549" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span> <span id="arch.system.identity.identity:550"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:550" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:550" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.map" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>map</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:545" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:551"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:551" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:551" class="ju-code-link ju-var"><span class="ju-var">i</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Signer.sign" class="ju-code-link ju-function"><span class="ju-function">Signer<span class="ju-delimiter">.</span>sign</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:547" class="ju-code-link ju-function"><span class="ju-function">underlyingSigner</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:551" class="ju-code-link ju-var"><span class="ju-var">i</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:550" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span><span class="ju-delimiter">}</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:549" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:562"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:562" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:562" class="ju-code-link ju-function"><span class="ju-function">verify</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable.mkComposeHashable" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>ComposeHashable<span class="ju-delimiter">.</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:553"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:553" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:553" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span></a></span></span> <span id="arch.system.identity.identity:554"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:554" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:554" class="ju-code-link ju-var"><span class="ju-var">ws</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:555"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:555" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:555" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span> <span id="arch.system.identity.identity:556"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:556" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:556" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:553" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span>
          <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Trait/Ord-src.html#&lt;=" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.foldl" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>foldl</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:545" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
            <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:557"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:557" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:557" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:558"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:558" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:558" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:557" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Trait/Natural-src.html#Natural.+" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:558" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-delimiter">}</span>
            <span class="ju-number">0</span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.intersectWith" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>intersectWith</span></a></span>
              <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:545" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
              <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:559"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:559" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:559" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:560"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:560" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:560" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:561"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:561" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:561" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                <span class="ju-keyword">if</span> 
                  <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.verify" class="ju-code-link ju-function"><span class="ju-function">Verifier<span class="ju-delimiter">.</span>verify</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:546" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:560" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:555" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:561" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:559" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span>
                  <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span> <span class="ju-number">0</span><span class="ju-delimiter">}</span>
              <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:554" class="ju-code-link ju-var"><span class="ju-var">ws</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:556" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:567"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:567" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:567" class="ju-code-link ju-function"><span class="ju-function">
    signerCompose</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:563"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:563" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:563" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Trait/Foldable/Monomorphic-src.html#foldl" class="ju-code-link ju-function"><span class="ju-function">foldl</span></a></span>
          <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:564"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:564" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:564" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:565"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:565" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:565" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span> <span id="arch.system.identity.identity:566"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:566" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:566" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.insert" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>insert</span></a></span>
              <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:545" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
              <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:564" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span>
                <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH.hash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.verifierHash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:546" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:565" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span><span class="ju-delimiter">)</span>
                  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:566" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.empty" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>empty</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:545" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span><span class="ju-delimiter">)</span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:563" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:573"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:573" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:573" class="ju-code-link ju-function"><span class="ju-function">
    verifierCompose</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:568"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:568" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:568" class="ju-code-link ju-var"><span class="ju-var">threshold</span></a></span></a></span></span> <span id="arch.system.identity.identity:569"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:569" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:569" class="ju-code-link ju-var"><span class="ju-var">weights</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable.mkComposeHashable" class="ju-code-link ju-constructor"><span class="ju-constructor">ComposeHashable<span class="ju-delimiter">.</span>mkComposeHashable</span></a></span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:568" class="ju-code-link ju-var"><span class="ju-var">threshold</span></a></span>
          <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Trait/Foldable/Monomorphic-src.html#foldl" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>foldl</span></a></span>
            <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:570"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:570" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:570" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:571"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:571" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:571" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:572"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:572" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:572" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
              <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.insert" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>insert</span></a></span>
                <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:545" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
                <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:570" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span>
                  <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH.hash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.verifierHash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:546" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:572" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span><span class="ju-delimiter">)</span>
                    <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:571" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:572" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.empty" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>empty</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:545" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span><span class="ju-delimiter">)</span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:569" class="ju-code-link ju-var"><span class="ju-var">weights</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:576"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:576" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:576" class="ju-code-link ju-function"><span class="ju-function">
    verifierAnd</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:574"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:574" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:574" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:575"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:575" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:575" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:573" class="ju-code-link ju-function"><span class="ju-function">verifierCompose</span></a></span> <span class="ju-number">2</span> <span class="ju-delimiter">[</span><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:574" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:575" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-delimiter">]</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:579"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:579" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:579" class="ju-code-link ju-function"><span class="ju-function">verifierOr</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:577"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:577" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:577" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:578"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:578" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:578" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:573" class="ju-code-link ju-function"><span class="ju-function">verifierCompose</span></a></span> <span class="ju-number">1</span> <span class="ju-delimiter">[</span><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:577" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:578" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-delimiter">]</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="ThresholdComposeSignsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsFor" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeSignsFor</span></a></span></a></span></span> <span id="arch.system.identity.identity:580"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:580" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:580" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:581"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:581" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:581" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:582"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:582" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:582" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:583"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:583" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:583" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:584"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:584" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:584" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:585"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:585" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:585" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:586"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:586" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:586" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="ThresholdComposeSignsFor.mkThresholdComposeSignsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsFor.mkThresholdComposeSignsFor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsFor.mkThresholdComposeSignsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeSignsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:590" class="ju-code-link ju-var"><span class="ju-var">underlyingSignsFor</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:580" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:581" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:582" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:583" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:584" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:591" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdCompose" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:580" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:585" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:581" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:582" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:583" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:581" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:586" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:592" class="ju-code-link ju-var"><span class="ju-var">signsFor</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:584" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:581" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:585" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:581" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:585" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="projectSignsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectSignsFor" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectSignsFor" class="ju-code-link ju-function"><span class="ju-function">
projectSignsFor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:617" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:618" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:619" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:620" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:621" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:622" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:623" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:624" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeSignsFor</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:617" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:618" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:619" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:620" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:621" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:622" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:623" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:623" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:618" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:622" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:619" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:622" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:620" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:621" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor.mkSignsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">SignsFor<span class="ju-delimiter">.</span>mkSignsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:625"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:625" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:625" class="ju-code-link ju-function"><span class="ju-function">verifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectVerifier" class="ju-code-link ju-function"><span class="ju-function">projectVerifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsFor.verifier" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ThresholdComposeSignsFor<span class="ju-delimiter">.</span>verifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:624" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:626"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:626" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:626" class="ju-code-link ju-function"><span class="ju-function">signsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsFor.signsFor" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeSignsFor<span class="ju-delimiter">.</span>signsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:624" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="ThresholdComposeSignsForFunctor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsForFunctor" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsForFunctor" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeSignsForFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:627" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:628" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:629" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:630" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:631" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:632" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:633" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:634" class="ju-code-link ju-var"><span class="ju-var">S</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:627" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:628" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:629" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:630" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:631" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:635" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Signer" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:628" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:629" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:630" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:636" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:627" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:632" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:637" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:633" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:628" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:632" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeSignsFor</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:627" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:628" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:629" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:630" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:631" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:632" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:633" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeSignsFor.mkThresholdComposeSignsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">ThresholdComposeSignsFor<span class="ju-delimiter">.</span>mkThresholdComposeSignsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:638"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:638" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:638" class="ju-code-link ju-function"><span class="ju-function">underlyingSignsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:634" class="ju-code-link ju-var"><span class="ju-var">S</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:639"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:639" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:639" class="ju-code-link ju-function"><span class="ju-function">verifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeFunctor" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeFunctor</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor.verifier" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>SignsFor<span class="ju-delimiter">.</span>verifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:638" class="ju-code-link ju-function"><span class="ju-function">underlyingSignsFor</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:635" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:636" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:637" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:650"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:650" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:650" class="ju-code-link ju-function"><span class="ju-function">signsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:640"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:640" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:640" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable.mkComposeHashable" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>ComposeHashable<span class="ju-delimiter">.</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:641"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:641" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:641" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span></a></span></span> <span id="arch.system.identity.identity:642"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:642" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:642" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable.mkComposeHashable" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>ComposeHashable<span class="ju-delimiter">.</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:643"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:643" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:643" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span></a></span></span> <span id="arch.system.identity.identity:644"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:644" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:644" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.all" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>all</span></a></span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:636" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
          <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:645"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:645" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:645" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:646"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:646" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:646" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:645" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Trait/Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:643" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span>
              <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Trait/Ord-src.html#&lt;=" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.foldl" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>foldl</span></a></span>
                  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:636" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
                  <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:647"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:647" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:647" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:648"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:648" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:648" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:649"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:649" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:649" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                    <span class="ju-keyword">if</span> 
                      <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SignsFor.signsFor" class="ju-code-link ju-function"><span class="ju-function">SignsFor<span class="ju-delimiter">.</span>signsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:638" class="ju-code-link ju-function"><span class="ju-function">underlyingSignsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:640" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:646" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:648" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:647" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Trait/Natural-src.html#Natural.+" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:649" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span>
                      <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:649" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">}</span>
                  <span class="ju-number">0</span>
                  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:644" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span>
                <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Trait/Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:641" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span><span class="ju-delimiter">}</span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:642" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="ThresholdComposeEncryptor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span></a></span></span> <span id="arch.system.identity.identity:651"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:651" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:651" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:652"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:652" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:652" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:653"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:653" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:653" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:654"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:654" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:654" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:655"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:655" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:655" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:656"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:656" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:656" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>EncryptorHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="ThresholdComposeEncryptor.mkThresholdComposeEncryptor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor.mkThresholdComposeEncryptor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor.mkThresholdComposeEncryptor" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeEncryptor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:662" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:651" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:655" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:663" class="ju-code-link ju-var"><span class="ju-var">underlyingEncryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:651" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:652" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:653" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:654" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:664" class="ju-code-link ju-var"><span class="ju-var">encryptorHash</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:656" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:652" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:655" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:665" class="ju-code-link ju-var"><span class="ju-var">compose</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Nat/Base-src.html#Nat" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/List-src.html#List" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Nat/Base-src.html#Nat" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:652" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span><span class="ju-delimiter">)</span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:652" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:655" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:666" class="ju-code-link ju-var"><span class="ju-var">encrypt</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:652" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:655" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:653" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:654" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="projectEncryptor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectEncryptor" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectEncryptor" class="ju-code-link ju-function"><span class="ju-function">
projectEncryptor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:702" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:703" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:704" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:705" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:706" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:707" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:708" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:702" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:703" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:704" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:705" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:706" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:707" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:707" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:703" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:706" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:704" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:705" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor.mkEncryptor" class="ju-code-link ju-constructor"><span class="ju-constructor">Encryptor<span class="ju-delimiter">.</span>mkEncryptor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:709"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:709" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:709" class="ju-code-link ju-function"><span class="ju-function">encrypt</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor.encrypt" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeEncryptor<span class="ju-delimiter">.</span>encrypt</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:708" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:710"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:710" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:710" class="ju-code-link ju-function"><span class="ju-function">encryptorHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor.encryptorHash" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeEncryptor<span class="ju-delimiter">.</span>encryptorHash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:708" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">axiom</span> <span id="encrypt_DUMMY"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#encrypt_DUMMY" class="ju-code-link ju-axiom"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#encrypt_DUMMY" class="ju-code-link ju-axiom"><span class="ju-axiom">encrypt_DUMMY</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:711" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:712" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:713" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:714" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:711" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:714" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:712" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:713" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
<span id="ThresholdComposeEncryptorFunctor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptorFunctor" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptorFunctor" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeEncryptorFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:715" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:716" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:717" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:718" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:719" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:720" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:721" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:715" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:716" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:717" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:718" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:722" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:715" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:719" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:723" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:720" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:716" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:719" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:715" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:716" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:717" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:718" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:719" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:720" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor.mkThresholdComposeEncryptor" class="ju-code-link ju-constructor"><span class="ju-constructor">ThresholdComposeEncryptor<span class="ju-delimiter">.</span>mkThresholdComposeEncryptor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:724"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:724" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:724" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:722" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:725"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:725" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:725" class="ju-code-link ju-function"><span class="ju-function">underlyingEncryptor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:721" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:726"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:726" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:726" class="ju-code-link ju-function"><span class="ju-function">encryptorHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:723" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:734"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:734" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:734" class="ju-code-link ju-function"><span class="ju-function">compose</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:727"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:727" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:727" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span></a></span></span> <span id="arch.system.identity.identity:728"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:728" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:728" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable.mkComposeHashable" class="ju-code-link ju-constructor"><span class="ju-constructor">ComposeHashable<span class="ju-delimiter">.</span>mkComposeHashable</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
          <span id="arch.system.identity.identity:729"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:729" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:729" class="ju-code-link ju-function"><span class="ju-function">threshold</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:727" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span><span class="ju-delimiter">;</span>
          <span id="arch.system.identity.identity:733"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:733" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:733" class="ju-code-link ju-function"><span class="ju-function">weights</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Trait/Foldable/Monomorphic-src.html#foldl" class="ju-code-link ju-function"><span class="ju-function">foldl</span></a></span>
              <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:730"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:730" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:730" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:731"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:731" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:731" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:732"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:732" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:732" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.insert" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>insert</span></a></span>
                  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:724" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
                  <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:730" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span>
                    <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                      <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH.hash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span>
                        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor.encryptorHash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Encryptor<span class="ju-delimiter">.</span>encryptorHash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:725" class="ju-code-link ju-function"><span class="ju-function">underlyingEncryptor</span></a></span><span class="ju-delimiter">)</span>
                        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:732" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:731" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:732" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span>
              <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.empty" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>empty</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:724" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span><span class="ju-delimiter">)</span>
              <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:728" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span><span class="ju-delimiter">;</span>
        <span class="ju-delimiter">}</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:735"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:735" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:735" class="ju-code-link ju-function"><span class="ju-function">encrypt</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#encrypt_DUMMY" class="ju-code-link ju-axiom"><span class="ju-axiom">encrypt_DUMMY</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="ThresholdComposeReadsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsFor" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeReadsFor</span></a></span></a></span></span> <span id="arch.system.identity.identity:736"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:736" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:736" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:737"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:737" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:737" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:738"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:738" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:738" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:739"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:739" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:739" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span id="arch.system.identity.identity:740"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:740" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:740" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:741"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:741" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:741" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:742"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:742" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:742" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>EncryptorHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="ThresholdComposeReadsFor.mkThresholdComposeReadsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsFor.mkThresholdComposeReadsFor" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsFor.mkThresholdComposeReadsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeReadsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:746" class="ju-code-link ju-var"><span class="ju-var">underlyingReadsFor</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:736" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:737" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:738" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:739" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:740" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:747" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:736" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:737" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:738" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:739" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:741" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:742" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:748" class="ju-code-link ju-var"><span class="ju-var">readsFor</span></a></span>
      <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:740" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:737" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:741" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:737" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:741" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
        <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="projectReadsFor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectReadsFor" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectReadsFor" class="ju-code-link ju-function"><span class="ju-function">
projectReadsFor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:773" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:774" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:775" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:776" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:777" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:778" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:779" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:780" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeReadsFor</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:773" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:774" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:775" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:776" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:777" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:778" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:779" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:779" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:774" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:778" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:775" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:776" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:777" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor.mkReadsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">ReadsFor<span class="ju-delimiter">.</span>mkReadsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:781"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:781" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:781" class="ju-code-link ju-function"><span class="ju-function">encryptor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#projectEncryptor" class="ju-code-link ju-function"><span class="ju-function">projectEncryptor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsFor.encryptor" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ThresholdComposeReadsFor<span class="ju-delimiter">.</span>encryptor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:780" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:782"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:782" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:782" class="ju-code-link ju-function"><span class="ju-function">readsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsFor.readsFor" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeReadsFor<span class="ju-delimiter">.</span>readsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:780" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="ThresholdComposeReadsForFunctor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsForFunctor" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsForFunctor" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeReadsForFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:783" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:784" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:785" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:786" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:787" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:788" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:789" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:790" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:783" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:784" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:785" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:786" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:787" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:791" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:783" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:788" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:792" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:789" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:784" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:788" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsFor" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeReadsFor</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:783" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:784" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:785" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:786" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:787" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:788" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:789" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeReadsFor.mkThresholdComposeReadsFor" class="ju-code-link ju-constructor"><span class="ju-constructor">ThresholdComposeReadsFor<span class="ju-delimiter">.</span>mkThresholdComposeReadsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:793"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:793" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:793" class="ju-code-link ju-function"><span class="ju-function">underlyingReadsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:790" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:794"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:794" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:794" class="ju-code-link ju-function"><span class="ju-function">encryptor</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ThresholdComposeEncryptorFunctor" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeEncryptorFunctor</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor.encryptor" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ReadsFor<span class="ju-delimiter">.</span>encryptor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:793" class="ju-code-link ju-function"><span class="ju-function">underlyingReadsFor</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:791" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:792" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:805"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:805" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:805" class="ju-code-link ju-function"><span class="ju-function">readsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:795"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:795" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:795" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable.mkComposeHashable" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>ComposeHashable<span class="ju-delimiter">.</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:796"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:796" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:796" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span></a></span></span> <span id="arch.system.identity.identity:797"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:797" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:797" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ComposeHashable.mkComposeHashable" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>ComposeHashable<span class="ju-delimiter">.</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:798"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:798" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:798" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span></a></span></span> <span id="arch.system.identity.identity:799"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:799" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:799" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.all" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>all</span></a></span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:791" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
          <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:800"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:800" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:800" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:801"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:801" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:801" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:800" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Trait/Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:798" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span>
              <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Trait/Ord-src.html#&lt;=" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdMap.foldl" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>foldl</span></a></span>
                  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:791" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
                  <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:802"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:802" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:802" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:803"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:803" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:803" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:804"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:804" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:804" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                    <span class="ju-keyword">if</span> 
                      <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#ReadsFor.readsFor" class="ju-code-link ju-function"><span class="ju-function">ReadsFor<span class="ju-delimiter">.</span>readsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:793" class="ju-code-link ju-function"><span class="ju-function">underlyingReadsFor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:795" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:801" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:803" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:802" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Trait/Natural-src.html#Natural.+" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:804" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span>
                      <span class="ju-keyword">|</span> <span class="ju-keyword">else</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:804" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">}</span>
                  <span class="ju-number">0</span>
                  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:799" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span>
                <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Trait/Natural-src.html#Natural.*" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:796" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span><span class="ju-delimiter">}</span>
          <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:797" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="VerifierName"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#VerifierName" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#VerifierName" class="ju-code-link ju-inductive"><span class="ju-inductive">VerifierName</span></a></span></a></span></span> <span id="arch.system.identity.identity:806"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:806" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:806" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:807"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:807" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:807" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:808"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:808" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:808" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:809"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:809" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:809" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:810"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:810" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:810" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span id="arch.system.identity.identity:811"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:811" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:811" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span></a></span></span> <span id="arch.system.identity.identity:812"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:812" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:812" class="ju-code-link ju-var"><span class="ju-var">VerifierNameHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="VerifierName.mkVerifierName"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#VerifierName.mkVerifierName" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#VerifierName.mkVerifierName" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifierName</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:816" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:806" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:807" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:808" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:809" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:817" class="ju-code-link ju-var"><span class="ju-var">checkVerifierName</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:811" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:807" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:810" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:818" class="ju-code-link ju-var"><span class="ju-var">verifierNameHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:812" class="ju-code-link ju-var"><span class="ju-var">VerifierNameHashOrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:811" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="EncryptorName"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#EncryptorName" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#EncryptorName" class="ju-code-link ju-inductive"><span class="ju-inductive">EncryptorName</span></a></span></a></span></span> <span id="arch.system.identity.identity:843"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:843" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:843" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:844"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:844" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:844" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:845"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:845" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:845" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:846"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:846" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:846" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span id="arch.system.identity.identity:847"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:847" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:847" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span id="arch.system.identity.identity:848"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:848" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:848" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span></a></span></span> <span id="arch.system.identity.identity:849"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:849" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:849" class="ju-code-link ju-var"><span class="ju-var">EncryptorNameHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="EncryptorName.mkEncryptorName"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#EncryptorName.mkEncryptorName" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#EncryptorName.mkEncryptorName" class="ju-code-link ju-constructor"><span class="ju-constructor">mkEncryptorName</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:853" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Encryptor" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:843" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:844" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:845" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:846" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:854" class="ju-code-link ju-var"><span class="ju-var">checkEncryptorName</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:848" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:844" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:847" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/Bool-src.html#Bool" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:855" class="ju-code-link ju-var"><span class="ju-var">encryptorNameHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:849" class="ju-code-link ju-var"><span class="ju-var">EncryptorNameHashOrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:848" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="SubVerifierFunctor"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SubVerifierFunctor" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#SubVerifierFunctor" class="ju-code-link ju-function"><span class="ju-function">
SubVerifierFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:880" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:881" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:882" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:883" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:884" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:885" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:886" class="ju-code-link ju-var"><span class="ju-var">child</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:880" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:881" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:882" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:883" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:887" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:885" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:881" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Juvix/Builtin/V1/String-src.html#String" class="ju-code-link ju-inductive"><span class="ju-axiom">String</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:884" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:880" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:883" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:888" class="ju-code-link ju-var"><span class="ju-var">hash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:885" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:885" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:884" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#VerifierName" class="ju-code-link ju-inductive"><span class="ju-inductive">VerifierName</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:880" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:881" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:882" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:883" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:881" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:883" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Pair/Base-src.html#Pair" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:885" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:884" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:885" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#VerifierName.mkVerifierName" class="ju-code-link ju-constructor"><span class="ju-constructor">VerifierName<span class="ju-delimiter">.</span>mkVerifierName</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:889"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:889" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:889" class="ju-code-link ju-function"><span class="ju-function">verifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:886" class="ju-code-link ju-var"><span class="ju-var">child</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:895"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:895" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:895" class="ju-code-link ju-function"><span class="ju-function">checkVerifierName</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:890"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:890" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:890" class="ju-code-link ju-var"><span class="ju-var">ph</span></a></span></a></span></span> <span id="arch.system.identity.identity:891"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:891" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:891" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:892"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:892" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:892" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:893"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:893" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:893" class="ju-code-link ju-var"><span class="ju-var">pv</span></a></span></a></span></span> <span id="arch.system.identity.identity:894"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:894" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:894" class="ju-code-link ju-var"><span class="ju-var">pc</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.verify" class="ju-code-link ju-function"><span class="ju-function">Verifier<span class="ju-delimiter">.</span>verify</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:887" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:893" class="ju-code-link ju-var"><span class="ju-var">pv</span></a></span>
            <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
              <span class="ju-string">&quot;I identify this verifier with this name : &quot;</span>
              <span class="annot"><a href="https://specs.anoma.net/main/prelude-src.html#mkPair" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:891" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH.hash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.verifierHash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:886" class="ju-code-link ju-var"><span class="ju-var">child</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:892" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
            <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:894" class="ju-code-link ju-var"><span class="ju-var">pc</span></a></span>
          <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Bool/Base-src.html#&amp;&amp;" class="ju-code-link ju-function"><span class="ju-function">&amp;&amp;</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#OrdKey.compare" class="ju-code-link ju-function"><span class="ju-function">OrdKey<span class="ju-delimiter">.</span>compare</span></a></span>
              <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH.ordKey" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>ordKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.verifierHash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:887" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
              <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:890" class="ju-code-link ju-var"><span class="ju-var">ph</span></a></span>
              <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#HASH.hash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#Verifier.verifierHash" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:887" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:893" class="ju-code-link ju-var"><span class="ju-var">pv</span></a></span><span class="ju-delimiter">)</span>
            <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Trait/Eq-src.html#==" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="annot"><a href="https://specs.anoma.net/main/Stdlib/Data/Ordering-src.html#Ordering.Equal" class="ju-code-link ju-constructor"><span class="ju-constructor">Equal</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:896"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:896" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:896" class="ju-code-link ju-function"><span class="ju-function">verifierNameHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/main/arch/system/identity/identity-src.html#arch.system.identity.identity:888" class="ju-code-link ju-var"><span class="ju-var">hash</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
</pre><footer><pre>Powered by <a href="https://juvix.org">Juvix </a><a href="https://github.com/anoma/juvix/commit/b935467">0.6.10-b935467</a></pre></footer><footer><pre>Last modified on 2025-04-24 5:14 UTC</pre></footer></html>