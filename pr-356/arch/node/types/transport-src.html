<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"><meta charset="UTF-8"><link href="https://specs.anoma.net/pr-356/assets/css/juvix-catppuchin.css" rel="stylesheet" type="text/css"><link href="https://specs.anoma.net/pr-356/assets/css/latte-light.css" rel="stylesheet" type="text/css"><link href="https://specs.anoma.net/pr-356/assets/css/juvix-source.css" rel="stylesheet" type="text/css"><script src="https://specs.anoma.net/pr-356/assets/js/highlight.js" type="text/javascript"></script><div id="package-header"><span class="caption"></span></div><pre id="src-content"><span class="ju-keyword">module</span> <span id="arch.node.types.transport"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#arch.node.types.transport" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#arch.node.types.transport" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.transport</span></span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="arch.node.types.basics"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/basics-src.html#arch.node.types.basics" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/basics-src.html#arch.node.types.basics" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.basics</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.crypto"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/crypto-src.html#arch.node.types.crypto" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/crypto-src.html#arch.node.types.crypto" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.crypto</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.node.types.identities"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/identities-src.html#arch.node.types.identities" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/identities-src.html#arch.node.types.identities" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.node.types.identities</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">syntax</span> <span class="ju-keyword">alias</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#IPv4Address" class="ju-code-link ju-inductive"><span class="ju-inductive">IPv4Address</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/Juvix/Builtin/V1/Nat/Base-src.html#Nat" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span>
<span class="ju-keyword">syntax</span> <span class="ju-keyword">alias</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#IPv6Address" class="ju-code-link ju-inductive"><span class="ju-inductive">IPv6Address</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/Juvix/Builtin/V1/Nat/Base-src.html#Nat" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span>
<span id="IPAddress"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#IPAddress" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#IPAddress" class="ju-code-link ju-function"><span class="ju-function">
IPAddress</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/prelude-src.html#Either" class="ju-code-link ju-var"><span class="ju-inductive">Either</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#IPv4Address" class="ju-code-link ju-var"><span class="ju-inductive">IPv4Address</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#IPv6Address" class="ju-code-link ju-var"><span class="ju-inductive">IPv6Address</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="TransportProtocol"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol" class="ju-code-link ju-inductive"><span class="ju-inductive">TransportProtocol</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">|</span> <span id="TransportProtocol.QUIC"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.QUIC" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.QUIC" class="ju-code-link ju-constructor"><span class="ju-constructor">QUIC</span></a></span></a></span></span>
  <span class="ju-keyword">|</span> <span id="TransportProtocol.TLS"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.TLS" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.TLS" class="ju-code-link ju-constructor"><span class="ju-constructor">TLS</span></a></span></a></span></span>
  <span class="ju-keyword">|</span> <span id="TransportProtocol.WebTransport"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.WebTransport" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.WebTransport" class="ju-code-link ju-constructor"><span class="ju-constructor">WebTransport</span></a></span></a></span></span>
  <span class="ju-keyword">|</span> <span id="TransportProtocol.WebSocket"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.WebSocket" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.WebSocket" class="ju-code-link ju-constructor"><span class="ju-constructor">WebSocket</span></a></span></a></span></span>
  <span class="ju-keyword">|</span> <span id="TransportProtocol.TCP"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.TCP" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.TCP" class="ju-code-link ju-constructor"><span class="ju-constructor">TCP</span></a></span></a></span></span>
  <span class="ju-keyword">|</span> <span id="TransportProtocol.UDP"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.UDP" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportProtocol.UDP" class="ju-code-link ju-constructor"><span class="ju-constructor">UDP</span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="TLSAddress"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TLSAddress" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TLSAddress" class="ju-code-link ju-inductive"><span class="ju-inductive">TLSAddress</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="TLSAddress.mkTLSAddress"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TLSAddress.mkTLSAddress" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TLSAddress.mkTLSAddress" class="ju-code-link ju-constructor"><span class="ju-constructor">mkTLSAddress</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#arch.node.types.transport:49" class="ju-code-link ju-var"><span class="ju-var">ip</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#IPAddress" class="ju-code-link ju-function"><span class="ju-function">IPAddress</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#arch.node.types.transport:50" class="ju-code-link ju-var"><span class="ju-var">port</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/Juvix/Builtin/V1/Nat/Base-src.html#Nat" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#arch.node.types.transport:51" class="ju-code-link ju-var"><span class="ju-var">cert_issuer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/Juvix/Builtin/V1/String-src.html#String" class="ju-code-link ju-inductive"><span class="ju-axiom">String</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="TransportAddress"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportAddress" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportAddress" class="ju-code-link ju-inductive"><span class="ju-inductive">TransportAddress</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">|</span> <span id="TransportAddress.QUICAddr"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportAddress.QUICAddr" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportAddress.QUICAddr" class="ju-code-link ju-constructor"><span class="ju-constructor">QUICAddr</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TLSAddress" class="ju-code-link ju-inductive"><span class="ju-inductive">TLSAddress</span></a></span>
  <span class="ju-keyword">|</span> <span id="TransportAddress.TLSAddr"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportAddress.TLSAddr" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportAddress.TLSAddr" class="ju-code-link ju-constructor"><span class="ju-constructor">TLSAddr</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TLSAddress" class="ju-code-link ju-inductive"><span class="ju-inductive">TLSAddress</span></a></span>
  <span class="ju-keyword">|</span> <span id="TransportAddress.IPAddr"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportAddress.IPAddr" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportAddress.IPAddr" class="ju-code-link ju-constructor"><span class="ju-constructor">IPAddr</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#IPAddress" class="ju-code-link ju-function"><span class="ju-function">IPAddress</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="TransportOrderingPrefs"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportOrderingPrefs" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportOrderingPrefs" class="ju-code-link ju-inductive"><span class="ju-inductive">TransportOrderingPrefs</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">|</span> <span id="TransportOrderingPrefs.TransportOrdered"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportOrderingPrefs.TransportOrdered" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportOrderingPrefs.TransportOrdered" class="ju-code-link ju-constructor"><span class="ju-constructor">TransportOrdered</span></a></span></a></span></span>
  <span class="ju-keyword">|</span> <span id="TransportOrderingPrefs.TransportUnordered"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportOrderingPrefs.TransportUnordered" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportOrderingPrefs.TransportUnordered" class="ju-code-link ju-constructor"><span class="ju-constructor">TransportUnordered</span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="TransportReliabilityPrefs"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportReliabilityPrefs" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportReliabilityPrefs" class="ju-code-link ju-inductive"><span class="ju-inductive">TransportReliabilityPrefs</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">|</span> <span id="TransportReliabilityPrefs.TransportReliable"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportReliabilityPrefs.TransportReliable" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportReliabilityPrefs.TransportReliable" class="ju-code-link ju-constructor"><span class="ju-constructor">TransportReliable</span></a></span></a></span></span>
  <span class="ju-keyword">|</span> <span id="TransportReliabilityPrefs.TransportUnreliable"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportReliabilityPrefs.TransportUnreliable" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportReliabilityPrefs.TransportUnreliable" class="ju-code-link ju-constructor"><span class="ju-constructor">TransportUnreliable</span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="TransportSecurityPrefs"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportSecurityPrefs" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportSecurityPrefs" class="ju-code-link ju-inductive"><span class="ju-inductive">TransportSecurityPrefs</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">|</span> <span id="TransportSecurityPrefs.TransportDirect"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportSecurityPrefs.TransportDirect" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportSecurityPrefs.TransportDirect" class="ju-code-link ju-constructor"><span class="ju-constructor">TransportDirect</span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="TransportPrefs"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportPrefs" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportPrefs" class="ju-code-link ju-inductive"><span class="ju-inductive">TransportPrefs</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="TransportPrefs.mkTransportPrefs"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportPrefs.mkTransportPrefs" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportPrefs.mkTransportPrefs" class="ju-code-link ju-constructor"><span class="ju-constructor">mkTransportPrefs</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#arch.node.types.transport:58" class="ju-code-link ju-var"><span class="ju-var">ordering</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportOrderingPrefs" class="ju-code-link ju-inductive"><span class="ju-inductive">TransportOrderingPrefs</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#arch.node.types.transport:59" class="ju-code-link ju-var"><span class="ju-var">reliability</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportReliabilityPrefs" class="ju-code-link ju-inductive"><span class="ju-inductive">TransportReliabilityPrefs</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#arch.node.types.transport:60" class="ju-code-link ju-var"><span class="ju-var">security</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#TransportSecurityPrefs" class="ju-code-link ju-inductive"><span class="ju-inductive">TransportSecurityPrefs</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="SerializedMsg"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#SerializedMsg" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#SerializedMsg" class="ju-code-link ju-inductive"><span class="ju-inductive">SerializedMsg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">|</span> <span id="SerializedMsg.BARE"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#SerializedMsg.BARE" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#SerializedMsg.BARE" class="ju-code-link ju-constructor"><span class="ju-constructor">BARE</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/pr-356/prelude-src.html#ByteString" class="ju-code-link ju-function"><span class="ju-function">ByteString</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="EncryptedMsg"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#EncryptedMsg" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#EncryptedMsg" class="ju-code-link ju-inductive"><span class="ju-inductive">EncryptedMsg</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">|</span> <span id="EncryptedMsg.EncryptedMsgNull"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#EncryptedMsg.EncryptedMsgNull" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-356/arch/node/types/transport-src.html#EncryptedMsg.EncryptedMsgNull" class="ju-code-link ju-constructor"><span class="ju-constructor">EncryptedMsgNull</span></a></span></a></span></span> <span class="annot"><a href="https://specs.anoma.net/pr-356/prelude-src.html#ByteString" class="ju-code-link ju-function"><span class="ju-function">ByteString</span></a></span><span class="ju-delimiter">;</span>
</pre><footer><pre>Powered by <a href="https://juvix.org">Juvix </a><a href="https://github.com/anoma/juvix/commit/b935467">0.6.10-b935467</a></pre></footer><footer><pre>Last modified on 2025-05-06 6:10 UTC</pre></footer></html>