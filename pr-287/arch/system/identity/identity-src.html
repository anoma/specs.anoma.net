<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"><meta charset="UTF-8"><link href="https://anoma.github.io/nspec/pr-287/assets/css/juvix-catppuchin.css" rel="stylesheet" type="text/css"><link href="https://anoma.github.io/nspec/pr-287/assets/css/latte.css" rel="stylesheet" type="text/css"><link href="https://anoma.github.io/nspec/pr-287/assets/css/juvix-source.css" rel="stylesheet" type="text/css"><script src="https://anoma.github.io/nspec/pr-287/assets/js/highlight.js" type="text/javascript"></script><div id="package-header"><span class="caption"></span></div><pre id="src-content"><span class="ju-keyword">module</span> <span id="arch.system.identity.identity:0"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:0" class="ju-code-link ju-module"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.identity.identity</span></span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="prelude:0"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:1"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:1" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:1" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:29"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:29" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:29" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:2"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:2" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:2" class="ju-code-link ju-constructor"><span class="ju-constructor">mkOrdkey</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:30" class="ju-code-link ju-var"><span class="ju-var">compare</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:29" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:29" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Ordering</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:3"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span></a></span></span> <span id="arch.system.identity.identity:31"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:31" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:31" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:32"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:32" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:32" class="ju-code-link ju-var"><span class="ju-var">Hashable</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:4"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:4" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:4" class="ju-code-link ju-constructor"><span class="ju-constructor">mkHASH</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:33" class="ju-code-link ju-var"><span class="ju-var">ordKey</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:1" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:31" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:34" class="ju-code-link ju-var"><span class="ju-var">hash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:32" class="ju-code-link ju-var"><span class="ju-var">Hashable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:31" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-comment">-- Note: instance of this with Data.Map should be made</span>
<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:5"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:5" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span></a></span></span> <span id="arch.system.identity.identity:35"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:35" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:35" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:36"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:6"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:6" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:6" class="ju-code-link ju-constructor"><span class="ju-constructor">mkOrdMap</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:37" class="ju-code-link ju-var"><span class="ju-var">ordKey</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:1" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:35" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:39" class="ju-code-link ju-var"><span class="ju-var">empty</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.identity:38"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:38" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:38" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:38" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:42" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.identity:40"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:40" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:40" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span id="arch.system.identity.identity:41"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:41" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:41" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:40" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:41" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:40" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:41" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:44" class="ju-code-link ju-var"><span class="ju-var">insert</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.identity:43"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:43" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:43" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:43" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:35" class="ju-code-link ju-var"><span class="ju-var">OrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:43" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:43" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:47" class="ju-code-link ju-var"><span class="ju-var">foldl</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.identity:45"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:45" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:45" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span id="arch.system.identity.identity:46"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:46" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:45" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:45" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:46" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:51" class="ju-code-link ju-var"><span class="ju-var">intersectWith</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.identity:48"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:48" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:48" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span id="arch.system.identity.identity:49"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:49" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:49" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span></a></span></span> <span id="arch.system.identity.identity:50"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:50" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:50" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:48" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:49" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:50" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:48" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:49" class="ju-code-link ju-var"><span class="ju-var">b</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:50" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:53" class="ju-code-link ju-var"><span class="ju-var">all</span></a></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.identity:52"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:52" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:52" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:52" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:36" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:52" class="ju-code-link ju-var"><span class="ju-var">a</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-comment">-- Bunch of stuff, see https://www.smlnj.org/doc/smlnj-lib/Util/sig-OrdMap.html</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:7"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:7" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span></a></span></span> <span id="arch.system.identity.identity:54"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:54" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:54" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>SignerType</span></a></span></a></span></span> <span id="arch.system.identity.identity:55"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:55" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:55" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:56"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:56" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:56" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:8"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:8" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:8" class="ju-code-link ju-constructor"><span class="ju-constructor">mkSigner</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:57" class="ju-code-link ju-var"><span class="ju-var">sign</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:54" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:55" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:56" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:9"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:9" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:9" class="ju-code-link ju-inductive"><span class="ju-inductive">Decryptor</span></a></span></a></span></span> <span id="arch.system.identity.identity:58"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:58" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:58" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>DecryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:59"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:59" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:59" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:60"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:60" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:60" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:10"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:10" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:10" class="ju-code-link ju-constructor"><span class="ju-constructor">mkDecryptor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:61" class="ju-code-link ju-var"><span class="ju-var">decrypt</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:58" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:60" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:24" class="ju-code-link ju-var"><span class="ju-inductive">Option</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:59" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:11"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:11" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:11" class="ju-code-link ju-inductive"><span class="ju-inductive">InternalIdentity</span></a></span></a></span></span> <span id="arch.system.identity.identity:62"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:62" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:62" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>SignerType</span></a></span></a></span></span> <span id="arch.system.identity.identity:63"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:63" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:63" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:64"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:64" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:64" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:65"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:65" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:65" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:66"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:66" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:66" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:67"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:67" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:67" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:12"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:12" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:12" class="ju-code-link ju-constructor"><span class="ju-constructor">mkInternalIdentity</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:68" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:62" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:63" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:64" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:69" class="ju-code-link ju-var"><span class="ju-var">decryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:9" class="ju-code-link ju-inductive"><span class="ju-inductive">Decryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:65" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:66" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:67" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:13"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span></a></span></span> <span id="arch.system.identity.identity:70"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:70" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:70" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:71"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:71" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:71" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:72"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:72" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:72" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:73"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:73" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:73" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:14"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:14" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:14" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifier</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:74" class="ju-code-link ju-var"><span class="ju-var">verify</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:71" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:72" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:73" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:75" class="ju-code-link ju-var"><span class="ju-var">verifierHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:70" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:71" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:15"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:15" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span></a></span></span> <span id="arch.system.identity.identity:76"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:76" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:76" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:77"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:77" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:77" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:78"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:78" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:78" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:79"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:79" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:79" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:16"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:16" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:16" class="ju-code-link ju-constructor"><span class="ju-constructor">mkEncryptor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:80" class="ju-code-link ju-var"><span class="ju-var">encrypt</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:77" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:78" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:79" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:81" class="ju-code-link ju-var"><span class="ju-var">encryptorHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:76" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:77" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:17"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:17" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:17" class="ju-code-link ju-inductive"><span class="ju-inductive">ExternalIdentity</span></a></span></a></span></span> <span id="arch.system.identity.identity:82"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:82" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:82" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>VerifierOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:83"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:83" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:83" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:84"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:84" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:84" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:85"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:85" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:85" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:86"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:86" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:86" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:87"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:87" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:87" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:88"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:88" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:88" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:89"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:89" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:89" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:18"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:18" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:18" class="ju-code-link ju-constructor"><span class="ju-constructor">mkExternalIdentity</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:90" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:82" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:83" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:84" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:85" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:91" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:86" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:87" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:88" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:89" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:19"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:19" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:19" class="ju-code-link ju-inductive"><span class="ju-inductive">Identity</span></a></span></a></span></span> <span id="arch.system.identity.identity:92"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:92" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:92" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>SignerType</span></a></span></a></span></span> <span id="arch.system.identity.identity:93"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:93" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:93" class="ju-code-link ju-var"><span class="ju-var">InternalSignable</span></a></span></a></span></span> <span id="arch.system.identity.identity:94"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:94" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:94" class="ju-code-link ju-var"><span class="ju-var">InternalCommitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:95"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:95" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:95" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:96"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:96" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:96" class="ju-code-link ju-var"><span class="ju-var">InternalCiphertext</span></a></span></a></span></span> <span id="arch.system.identity.identity:97"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:97" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:97" class="ju-code-link ju-var"><span class="ju-var">InternalPlaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:98"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:98" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:98" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:99"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:99" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:99" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:100"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:100" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:100" class="ju-code-link ju-var"><span class="ju-var">ExternalSignable</span></a></span></a></span></span> <span id="arch.system.identity.identity:101"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:101" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:101" class="ju-code-link ju-var"><span class="ju-var">ExternalCommitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:102"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:102" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:102" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span></a></span></span> <span id="arch.system.identity.identity:103"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:103" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:103" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:104"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:104" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:104" class="ju-code-link ju-var"><span class="ju-var">ExternalPlaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:105"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:105" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:105" class="ju-code-link ju-var"><span class="ju-var">ExternalCiphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:20"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:20" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:20" class="ju-code-link ju-constructor"><span class="ju-constructor">mkIdentity</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:106" class="ju-code-link ju-var"><span class="ju-var">internalIdentity</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:11" class="ju-code-link ju-inductive"><span class="ju-inductive">InternalIdentity</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:92" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:93" class="ju-code-link ju-var"><span class="ju-var">InternalSignable</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:94" class="ju-code-link ju-var"><span class="ju-var">InternalCommitment</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:95" class="ju-code-link ju-var"><span class="ju-var">DecryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:97" class="ju-code-link ju-var"><span class="ju-var">InternalPlaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:96" class="ju-code-link ju-var"><span class="ju-var">InternalCiphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:107" class="ju-code-link ju-var"><span class="ju-var">externalIdentity</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:17" class="ju-code-link ju-inductive"><span class="ju-inductive">ExternalIdentity</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:98" class="ju-code-link ju-var"><span class="ju-var">VerifierOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:99" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:100" class="ju-code-link ju-var"><span class="ju-var">ExternalSignable</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:101" class="ju-code-link ju-var"><span class="ju-var">ExternalCommitment</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:102" class="ju-code-link ju-var"><span class="ju-var">EncryptorOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:103" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:104" class="ju-code-link ju-var"><span class="ju-var">ExternalPlaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:105" class="ju-code-link ju-var"><span class="ju-var">ExternalCiphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:21"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:21" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:21" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span></a></span></span> <span id="arch.system.identity.identity:108"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:108" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:108" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:109"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:109" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:109" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:110"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:110" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:110" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:111"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:111" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:111" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:112"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:112" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:112" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:22"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:22" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:22" class="ju-code-link ju-constructor"><span class="ju-constructor">mkSignsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:113" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:108" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:109" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:110" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:111" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:114" class="ju-code-link ju-var"><span class="ju-var">signsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:112" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:109" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:109" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:23"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:23" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:23" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span></a></span></span> <span id="arch.system.identity.identity:115"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:115" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:115" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:116"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:116" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:116" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:117"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:117" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:117" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:118"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:118" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:118" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span id="arch.system.identity.identity:119"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:119" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:119" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:24"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:24" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:24" class="ju-code-link ju-constructor"><span class="ju-constructor">mkReadsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:120" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:115" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:116" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:117" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:118" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:121" class="ju-code-link ju-var"><span class="ju-var">readsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:119" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:116" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:116" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:25"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span></a></span></span> <span id="arch.system.identity.identity:122"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:122" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:122" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>VerifierType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:123"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:123" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:123" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:26"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:26" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:26" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComposeHashable</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:124" class="ju-code-link ju-var"><span class="ju-var">threshold</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:125" class="ju-code-link ju-var"><span class="ju-var">weights</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:123" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:122" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:27"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:27" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:27" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span></a></span></span> <span id="arch.system.identity.identity:126"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:126" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:126" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:127"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:128"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:129"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:129" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:130"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:130" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:131"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:131" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span></a></span></span> <span id="arch.system.identity.identity:132"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:132" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:132" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:28"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:28" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:28" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdCompose</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:133" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:126" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:134" class="ju-code-link ju-var"><span class="ju-var">underlyingVerifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:126" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:135" class="ju-code-link ju-var"><span class="ju-var">underlyingSigner</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:136" class="ju-code-link ju-var"><span class="ju-var">verifierHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:132" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:137" class="ju-code-link ju-var"><span class="ju-var">
    sign</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:138" class="ju-code-link ju-var"><span class="ju-var">verify</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:129" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:130" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:139" class="ju-code-link ju-var"><span class="ju-var">signerCompose</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:131" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:140" class="ju-code-link ju-var"><span class="ju-var">verifierCompose</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:141" class="ju-code-link ju-var"><span class="ju-var">verifierAnd</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:142" class="ju-code-link ju-var"><span class="ju-var">verifierOr</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:128" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:127" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.identity:195"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:195" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:195" class="ju-code-link ju-function"><span class="ju-function">
projectVerifier</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:199" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:200" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:201" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:202" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:203" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:204" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:205" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:206" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:27" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:200" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:199" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:201" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:202" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:203" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:204" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:205" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:205" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:201" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:199" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:202" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:199" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:203" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:14" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifier</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:207"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:207" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:207" class="ju-code-link ju-function"><span class="ju-function">verify</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:189" class="ju-code-link ju-function"><span class="ju-function">ThresholdCompose<span class="ju-delimiter">.</span>verify</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:206" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:208"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:208" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:208" class="ju-code-link ju-function"><span class="ju-function">verifierHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:187" class="ju-code-link ju-function"><span class="ju-function">ThresholdCompose<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:206" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.identity:196"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:196" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:196" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:209" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:210" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:211" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:212" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:213" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:214" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:215" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:216" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:210" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:211" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:212" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:213" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:217" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:214" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:212" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:213" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:218" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:210" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:209" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:219" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:215" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:211" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:209" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:27" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:210" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:209" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:211" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:212" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:213" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:214" class="ju-code-link ju-var"><span class="ju-var">SignerType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:215" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:28" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdCompose</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:220"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:218" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:221"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:221" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:221" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:216" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:222"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:222" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:222" class="ju-code-link ju-function"><span class="ju-function">underlyingSigner</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:217" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:223"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:223" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:223" class="ju-code-link ju-function"><span class="ju-function">verifierHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:219" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:227"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:227" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:227" class="ju-code-link ju-function"><span class="ju-function">sign</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:224"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:224" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:224" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span> <span id="arch.system.identity.identity:225"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:225" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:225" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:150" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>map</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:226"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:226" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:226" class="ju-code-link ju-var"><span class="ju-var">i</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:156" class="ju-code-link ju-function"><span class="ju-function">Signer<span class="ju-delimiter">.</span>sign</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:222" class="ju-code-link ju-function"><span class="ju-function">underlyingSigner</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:226" class="ju-code-link ju-var"><span class="ju-var">i</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:225" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span><span class="ju-delimiter">}</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:224" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:237"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:237" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:237" class="ju-code-link ju-function"><span class="ju-function">verify</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="ju-keyword">|</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:228"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:228" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:228" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span></a></span></span> <span id="arch.system.identity.identity:229"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:229" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:229" class="ju-code-link ju-var"><span class="ju-var">ws</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:230"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:230" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:230" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span> <span id="arch.system.identity.identity:231"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:231" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:231" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:228" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:22" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:152" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>foldl</span></a></span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
            <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:232"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:232" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:232" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:233"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:233" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:233" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:232" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:233" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-delimiter">}</span>
            <span class="ju-number">0</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:153" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>intersectWith</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
              <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="ju-keyword">|</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:234"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:234" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:234" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:235"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:235" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:235" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:236"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:236" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:236" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Bool/Base-src.html#Stdlib.Data.Bool.Base:4" class="ju-code-link ju-function"><span class="ju-function">ite</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:163" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verify</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:221" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:235" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:230" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:236" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:234" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="ju-number">0</span><span class="ju-delimiter">}</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:229" class="ju-code-link ju-var"><span class="ju-var">ws</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:231" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:242"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:242" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:242" class="ju-code-link ju-function"><span class="ju-function">
    signerCompose</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:238"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:238" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:238" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Trait/Foldable/Monomorphic-src.html#Stdlib.Trait.Foldable.Monomorphic:13" class="ju-code-link ju-function"><span class="ju-function">foldl</span></a></span>
          <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:239"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:239" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:239" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:240"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:240" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:240" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span> <span id="arch.system.identity.identity:241"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:241" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:241" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:151" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>insert</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:239" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:221" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:240" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span><span class="ju-delimiter">)</span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:241" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:149" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>empty</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span><span class="ju-delimiter">)</span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:238" class="ju-code-link ju-var"><span class="ju-var">l</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:248"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:248" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:248" class="ju-code-link ju-function"><span class="ju-function">
    verifierCompose</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:243"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:243" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:243" class="ju-code-link ju-var"><span class="ju-var">threshold</span></a></span></a></span></span> <span id="arch.system.identity.identity:244"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:244" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:244" class="ju-code-link ju-var"><span class="ju-var">weights</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:26" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComposeHashable</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:243" class="ju-code-link ju-var"><span class="ju-var">threshold</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Trait/Foldable/Monomorphic-src.html#Stdlib.Trait.Foldable.Monomorphic:13" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>foldl</span></a></span>
            <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:245"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:245" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:245" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:246"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:246" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:246" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:247"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:247" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:247" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:151" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>insert</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:245" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:221" class="ju-code-link ju-function"><span class="ju-function">underlyingVerifier</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:247" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span><span class="ju-delimiter">)</span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:246" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:247" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:149" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>empty</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:220" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span><span class="ju-delimiter">)</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:244" class="ju-code-link ju-var"><span class="ju-var">weights</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:251"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:251" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:251" class="ju-code-link ju-function"><span class="ju-function">
    verifierAnd</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:249"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:249" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:249" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:250"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:250" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:250" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:248" class="ju-code-link ju-function"><span class="ju-function">verifierCompose</span></a></span> <span class="ju-number">2</span> <span class="ju-keyword">[</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:249" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:250" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-keyword">]</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:254"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:254" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:254" class="ju-code-link ju-function"><span class="ju-function">verifierOr</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:252"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:252" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:252" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:253"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:253" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:253" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:248" class="ju-code-link ju-function"><span class="ju-function">verifierCompose</span></a></span> <span class="ju-number">1</span> <span class="ju-keyword">[</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:252" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span><span class="ju-delimiter">;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor">mkPair</span></a></span> <span class="ju-number">1</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:253" class="ju-code-link ju-var"><span class="ju-var">y</span></a></span><span class="ju-keyword">]</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:197"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:197" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:197" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeSignsFor</span></a></span></a></span></span> <span id="arch.system.identity.identity:255"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:255" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:255" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:256"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:256" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:257"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:257" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:257" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:258"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:258" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:258" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:259"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:259" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:259" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:260"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:260" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:260" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:261"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:261" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:261" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:198"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:198" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:198" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeSignsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:262" class="ju-code-link ju-var"><span class="ju-var">underlyingSignsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:21" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:255" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:257" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:258" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:259" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:263" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:27" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdCompose</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:255" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:260" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:257" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:258" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:261" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:264" class="ju-code-link ju-var"><span class="ju-var">signsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:259" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:260" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:256" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:260" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.identity:269"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:269" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:269" class="ju-code-link ju-function"><span class="ju-function">
projectSignsFor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:273" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:274" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:275" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:276" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:277" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:278" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:279" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:280" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:197" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeSignsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:273" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:274" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:275" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:276" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:277" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:278" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:279" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:21" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:279" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:274" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:278" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:275" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:278" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:276" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:277" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:22" class="ju-code-link ju-constructor"><span class="ju-constructor">mkSignsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:281"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:281" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:281" class="ju-code-link ju-function"><span class="ju-function">verifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:195" class="ju-code-link ju-function"><span class="ju-function">projectVerifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:266" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ThresholdComposeSignsFor<span class="ju-delimiter">.</span>verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:280" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:282"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:282" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:282" class="ju-code-link ju-function"><span class="ju-function">signsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:267" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeSignsFor<span class="ju-delimiter">.</span>signsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:280" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.identity:270"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:270" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:270" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeSignsForFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:283" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:285" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:286" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:287" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:288" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:289" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:290" class="ju-code-link ju-var"><span class="ju-var">S</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:21" class="ju-code-link ju-inductive"><span class="ju-inductive">SignsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:283" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:285" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:286" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:287" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:291" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:7" class="ju-code-link ju-inductive"><span class="ju-inductive">Signer</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:285" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:286" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:292" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:283" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:288" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:293" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:289" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:288" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:197" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeSignsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:283" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:284" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:285" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:286" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:287" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:288" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:289" class="ju-code-link ju-var"><span class="ju-var">VerifierHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:198" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeSignsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:294"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:294" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:294" class="ju-code-link ju-function"><span class="ju-function">underlyingSignsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:290" class="ju-code-link ju-var"><span class="ju-var">S</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:295"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:295" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:295" class="ju-code-link ju-function"><span class="ju-function">verifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:196" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeFunctor</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:175" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>SignsFor<span class="ju-delimiter">.</span>verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:294" class="ju-code-link ju-function"><span class="ju-function">underlyingSignsFor</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:291" class="ju-code-link ju-var"><span class="ju-var">signer</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:292" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:293" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:306"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:306" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:306" class="ju-code-link ju-function"><span class="ju-function">signsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:296"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:296" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:296" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:297"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:297" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:297" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span></a></span></span> <span id="arch.system.identity.identity:298"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:298" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:298" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:299"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:299" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:299" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span></a></span></span> <span id="arch.system.identity.identity:300"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:300" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:300" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:154" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>all</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:292" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
          <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:301"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:301" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:301" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:302"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:302" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:302" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:301" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:299" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:22" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:152" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>foldl</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:292" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
                  <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:303"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:303" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:303" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:304"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:304" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:304" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:305"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:305" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:305" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Bool/Base-src.html#Stdlib.Data.Bool.Base:4" class="ju-code-link ju-function"><span class="ju-function">ite</span></a></span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:176" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>SignsFor<span class="ju-delimiter">.</span>signsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:294" class="ju-code-link ju-function"><span class="ju-function">underlyingSignsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:296" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:302" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:304" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:303" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:305" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:305" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">}</span>
                  <span class="ju-number">0</span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:300" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:297" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span><span class="ju-delimiter">}</span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:298" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:271"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:271" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:271" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span></a></span></span> <span id="arch.system.identity.identity:307"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:307" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:307" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:308"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:308" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:309"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:309" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:309" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:310"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:310" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:310" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:311"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:311" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:311" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:312"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:312" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:312" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>EncryptorHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:272"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:272" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:272" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeEncryptor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:313" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:307" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:311" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:314" class="ju-code-link ju-var"><span class="ju-var">underlyingEncryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:307" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:309" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:310" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:315" class="ju-code-link ju-var"><span class="ju-var">encryptorHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:312" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:311" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:316" class="ju-code-link ju-var"><span class="ju-var">compose</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Nat/Base-src.html#Juvix.Builtin.V1.Nat.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nat</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:311" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:317" class="ju-code-link ju-var"><span class="ju-var">encrypt</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:308" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:311" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:309" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:310" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.identity:324"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:324" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:324" class="ju-code-link ju-function"><span class="ju-function">
projectEncryptor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:329" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:330" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:331" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:332" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:333" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:334" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:335" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:271" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:329" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:330" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:331" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:332" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:333" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:334" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:334" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:330" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:333" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:331" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:332" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:16" class="ju-code-link ju-constructor"><span class="ju-constructor">mkEncryptor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:336"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:336" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:336" class="ju-code-link ju-function"><span class="ju-function">encrypt</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:322" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeEncryptor<span class="ju-delimiter">.</span>encrypt</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:335" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:337"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:337" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:337" class="ju-code-link ju-function"><span class="ju-function">encryptorHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:320" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeEncryptor<span class="ju-delimiter">.</span>encryptorHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:335" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">axiom</span> <span id="arch.system.identity.identity:325"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:325" class="ju-code-link ju-axiom"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:325" class="ju-code-link ju-axiom"><span class="ju-axiom">encrypt_DUMMY</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.identity:338"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:338" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:338" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:339"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:339" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:339" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:340"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:340" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:340" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-delimiter">{</span><span id="arch.system.identity.identity:341"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:341" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:341" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive">ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:338" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:341" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
  <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:339" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
  <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:340" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.identity:326"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:326" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:326" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeEncryptorFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:342" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:343" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:344" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:345" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:346" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:347" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:348" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:342" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:343" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:344" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:345" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:349" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:342" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:346" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:350" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:347" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:343" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:346" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:271" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:342" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:343" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:344" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:345" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:346" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:347" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:272" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeEncryptor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:351"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:351" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:351" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:349" class="ju-code-link ju-var"><span class="ju-var">mapIn</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:352"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:352" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:352" class="ju-code-link ju-function"><span class="ju-function">underlyingEncryptor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:348" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:353"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:353" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:353" class="ju-code-link ju-function"><span class="ju-function">encryptorHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:350" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:361"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:361" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:361" class="ju-code-link ju-function"><span class="ju-function">compose</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:354"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:354" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:354" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span></a></span></span> <span id="arch.system.identity.identity:355"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:355" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:355" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:26" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComposeHashable</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
          <span id="arch.system.identity.identity:356"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:356" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:356" class="ju-code-link ju-function"><span class="ju-function">threshold</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:354" class="ju-code-link ju-var"><span class="ju-var">t</span></a></span><span class="ju-delimiter">;</span>
          <span id="arch.system.identity.identity:360"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:360" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:360" class="ju-code-link ju-function"><span class="ju-function">weights</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Trait/Foldable/Monomorphic-src.html#Stdlib.Trait.Foldable.Monomorphic:13" class="ju-code-link ju-function"><span class="ju-function">foldl</span></a></span>
              <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:357"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:357" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:357" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:358"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:358" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:358" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:359"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:359" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:359" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:151" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>insert</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:351" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:357" class="ju-code-link ju-var"><span class="ju-var">m</span></a></span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span>
                        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:167" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Encryptor<span class="ju-delimiter">.</span>encryptorHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:352" class="ju-code-link ju-function"><span class="ju-function">underlyingEncryptor</span></a></span><span class="ju-delimiter">)</span>
                        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:359" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:358" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:359" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:149" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>OrdMap<span class="ju-delimiter">.</span>empty</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:351" class="ju-code-link ju-function"><span class="ju-function">map</span></a></span><span class="ju-delimiter">)</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:355" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span><span class="ju-delimiter">;</span>
        <span class="ju-delimiter">}</span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:362"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:362" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:362" class="ju-code-link ju-function"><span class="ju-function">encrypt</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:325" class="ju-code-link ju-axiom"><span class="ju-axiom">encrypt_DUMMY</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:327"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:327" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:327" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeReadsFor</span></a></span></a></span></span> <span id="arch.system.identity.identity:363"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:363" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:363" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:364"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:365"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:365" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:365" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:366"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:366" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:366" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span id="arch.system.identity.identity:367"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:367" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:367" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:368"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:368" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:368" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>MapCon</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span>
  <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:369"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:369" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:369" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>EncryptorHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:328"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:328" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:328" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeReadsFor</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:370" class="ju-code-link ju-var"><span class="ju-var">underlyingReadsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:23" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:363" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:365" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:366" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:367" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:371" class="ju-code-link ju-var"><span class="ju-var">encryptor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:271" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeEncryptor</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:363" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:365" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:366" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:368" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:369" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:372" class="ju-code-link ju-var"><span class="ju-var">readsFor</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:367" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Pair</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:368" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:364" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:368" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
      <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.identity:377"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:377" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:377" class="ju-code-link ju-function"><span class="ju-function">
projectReadsFor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:383" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:384" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:385" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:386" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:387" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:388" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:389" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:390" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:327" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeReadsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:383" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:384" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:385" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:386" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:387" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:388" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:389" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:23" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:389" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:384" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:388" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:385" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:386" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:387" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:24" class="ju-code-link ju-constructor"><span class="ju-constructor">mkReadsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:391"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:391" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:391" class="ju-code-link ju-function"><span class="ju-function">encryptor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:324" class="ju-code-link ju-function"><span class="ju-function">projectEncryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:374" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ThresholdComposeReadsFor<span class="ju-delimiter">.</span>encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:390" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:392"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:392" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:392" class="ju-code-link ju-function"><span class="ju-function">readsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:375" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeReadsFor<span class="ju-delimiter">.</span>readsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:390" class="ju-code-link ju-var"><span class="ju-var">tc</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.identity:378"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:378" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:378" class="ju-code-link ju-function"><span class="ju-function">
ThresholdComposeReadsForFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:393" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:394" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:395" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:396" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:397" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:398" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span> <span class="ju-keyword">-&gt;</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:399" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:400" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:23" class="ju-code-link ju-inductive"><span class="ju-inductive">ReadsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:393" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:394" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:395" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:396" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:397" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:401" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:5" class="ju-code-link ju-inductive"><span class="ju-inductive">OrdMap</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:393" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:398" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:402" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:399" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:25" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComposeHashable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:394" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:398" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:327" class="ju-code-link ju-inductive"><span class="ju-inductive">ThresholdComposeReadsFor</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:393" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:394" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:395" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:396" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:397" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:398" class="ju-code-link ju-var"><span class="ju-var">MapCon</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:399" class="ju-code-link ju-var"><span class="ju-var">EncryptorHashOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:328" class="ju-code-link ju-constructor"><span class="ju-constructor">mkThresholdComposeReadsFor</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:403"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:403" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:403" class="ju-code-link ju-function"><span class="ju-function">underlyingReadsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:400" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:404"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:404" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:404" class="ju-code-link ju-function"><span class="ju-function">encryptor</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:326" class="ju-code-link ju-function"><span class="ju-function">ThresholdComposeEncryptorFunctor</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:178" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ReadsFor<span class="ju-delimiter">.</span>encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:403" class="ju-code-link ju-function"><span class="ju-function">underlyingReadsFor</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:401" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:402" class="ju-code-link ju-var"><span class="ju-var">thresholdComposeHash</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:415"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:415" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:415" class="ju-code-link ju-function"><span class="ju-function">readsFor</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.identity.identity:405"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:405" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:405" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:406"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:406" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:406" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span></a></span></span> <span id="arch.system.identity.identity:407"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:407" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:407" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:26" class="ju-code-link ju-constructor"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkComposeHashable</span></a></span> <span id="arch.system.identity.identity:408"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:408" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:408" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span></a></span></span> <span id="arch.system.identity.identity:409"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:409" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:409" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span></a></span></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:154" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>all</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:401" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
          <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:410"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:410" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:410" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span></a></span></span> <span id="arch.system.identity.identity:411"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:411" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:411" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:410" class="ju-code-link ju-var"><span class="ju-var">w</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:408" class="ju-code-link ju-var"><span class="ju-var">t1</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:22" class="ju-code-link ju-function"><span class="ju-function">&lt;=</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:152" class="ju-code-link ju-function"><span class="ju-function">OrdMap<span class="ju-delimiter">.</span>foldl</span></a></span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:401" class="ju-code-link ju-var"><span class="ju-var">map</span></a></span>
                  <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:412"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:412" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:412" class="ju-code-link ju-var"><span class="ju-var">x</span></a></span></a></span></span> <span id="arch.system.identity.identity:413"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:413" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:413" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:414"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:414" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:414" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
                    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Bool/Base-src.html#Stdlib.Data.Bool.Base:4" class="ju-code-link ju-function"><span class="ju-function">ite</span></a></span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:179" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ReadsFor<span class="ju-delimiter">.</span>readsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:403" class="ju-code-link ju-function"><span class="ju-function">underlyingReadsFor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:405" class="ju-code-link ju-var"><span class="ju-var">e</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:411" class="ju-code-link ju-var"><span class="ju-var">v</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:413" class="ju-code-link ju-var"><span class="ju-var">v1</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:412" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>x</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:8" class="ju-code-link ju-function"><span class="ju-function">+</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:414" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">)</span>
                      <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:414" class="ju-code-link ju-var"><span class="ju-var">s</span></a></span><span class="ju-delimiter">}</span>
                  <span class="ju-number">0</span>
                  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:409" class="ju-code-link ju-var"><span class="ju-var">w1</span></a></span>
                <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Trait/Natural-src.html#Juvix.Builtin.V1.Trait.Natural:9" class="ju-code-link ju-function"><span class="ju-function">*</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:406" class="ju-code-link ju-var"><span class="ju-var">t0</span></a></span><span class="ju-delimiter">}</span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:407" class="ju-code-link ju-var"><span class="ju-var">w0</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:379"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:379" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:379" class="ju-code-link ju-inductive"><span class="ju-inductive">VerifierName</span></a></span></a></span></span> <span id="arch.system.identity.identity:416"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:416" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:416" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:417"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:417" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:417" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span></a></span></span> <span id="arch.system.identity.identity:418"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span></a></span></span> <span id="arch.system.identity.identity:419"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span></a></span></span> <span id="arch.system.identity.identity:420"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:420" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:420" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span id="arch.system.identity.identity:421"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span></a></span></span> <span id="arch.system.identity.identity:422"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:422" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:422" class="ju-code-link ju-var"><span class="ju-var">VerifierNameHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:380"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:380" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:380" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifierName</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:423" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:416" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:417" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:418" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:419" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:424" class="ju-code-link ju-var"><span class="ju-var">checkVerifierName</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:417" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:420" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:425" class="ju-code-link ju-var"><span class="ju-var">verifierNameHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:422" class="ju-code-link ju-var"><span class="ju-var">VerifierNameHashOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:421" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.identity.identity:381"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:381" class="ju-code-link ju-inductive"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:381" class="ju-code-link ju-inductive"><span class="ju-inductive">EncryptorName</span></a></span></a></span></span> <span id="arch.system.identity.identity:426"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:426" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:426" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span></a></span></span> <span id="arch.system.identity.identity:427"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:427" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:427" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span></a></span></span> <span id="arch.system.identity.identity:428"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:428" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:428" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span></a></span></span> <span id="arch.system.identity.identity:429"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:429" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:429" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span></a></span></span> <span id="arch.system.identity.identity:430"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:430" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:430" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span></a></span></span> <span id="arch.system.identity.identity:431"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:431" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:431" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span></a></span></span> <span id="arch.system.identity.identity:432"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:432" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:432" class="ju-code-link ju-var"><span class="ju-var">EncryptorNameHashOrdKeyType</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
  <span id="arch.system.identity.identity:382"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:382" class="ju-code-link ju-constructor"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:382" class="ju-code-link ju-constructor"><span class="ju-constructor">mkEncryptorName</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:433" class="ju-code-link ju-var"><span class="ju-var">verifier</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:15" class="ju-code-link ju-inductive"><span class="ju-inductive">Encryptor</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:426" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:427" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:428" class="ju-code-link ju-var"><span class="ju-var">Plaintext</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:429" class="ju-code-link ju-var"><span class="ju-var">Ciphertext</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:434" class="ju-code-link ju-var"><span class="ju-var">checkEncryptorName</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:431" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:427" class="ju-code-link ju-var"><span class="ju-var">EncryptorType</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:430" class="ju-code-link ju-var"><span class="ju-var">Evidence</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:435" class="ju-code-link ju-var"><span class="ju-var">encryptorNameHash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:432" class="ju-code-link ju-var"><span class="ju-var">EncryptorNameHashOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:431" class="ju-code-link ju-var"><span class="ju-var">IdentityName</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.identity.identity:444"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:444" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:444" class="ju-code-link ju-function"><span class="ju-function">
SubVerifierFunctor</span></a></span></a></span></span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:445" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:447" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:449" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:451" class="ju-code-link ju-var"><span class="ju-var">child</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:445" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:447" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:452" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:13" class="ju-code-link ju-inductive"><span class="ju-inductive">Verifier</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Juvix/Builtin/V1/String-src.html#Juvix.Builtin.V1.String:1" class="ju-code-link ju-inductive"><span class="ju-axiom">String</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:449" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:445" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:453" class="ju-code-link ju-var"><span class="ju-var">hash</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:3" class="ju-code-link ju-inductive"><span class="ju-inductive">HASH</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:449" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:379" class="ju-code-link ju-inductive"><span class="ju-inductive">VerifierName</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:445" class="ju-code-link ju-var"><span class="ju-var">OrdKey</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:447" class="ju-code-link ju-var"><span class="ju-var">Signable</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:446" class="ju-code-link ju-var"><span class="ju-var">VerifierType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:448" class="ju-code-link ju-var"><span class="ju-var">Commitment</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Pair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:449" class="ju-code-link ju-var"><span class="ju-var">Name</span></a></span><span class="ju-delimiter">)</span>
    <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:450" class="ju-code-link ju-var"><span class="ju-var">ParentOrdKeyType</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:380" class="ju-code-link ju-constructor"><span class="ju-constructor">mkVerifierName</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.identity.identity:454"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:454" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:454" class="ju-code-link ju-function"><span class="ju-function">verifier</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:451" class="ju-code-link ju-var"><span class="ju-var">child</span></a></span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:460"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:460" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:460" class="ju-code-link ju-function"><span class="ju-function">checkVerifierName</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:455"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:455" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:455" class="ju-code-link ju-var"><span class="ju-var">ph</span></a></span></a></span></span> <span id="arch.system.identity.identity:456"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:456" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:456" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span id="arch.system.identity.identity:457"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:457" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:457" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span></a></span></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span id="arch.system.identity.identity:458"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:458" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:458" class="ju-code-link ju-var"><span class="ju-var">pv</span></a></span></a></span></span> <span id="arch.system.identity.identity:459"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:459" class="ju-code-link ju-var"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:459" class="ju-code-link ju-var"><span class="ju-var">pc</span></a></span></a></span></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
        <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:163" class="ju-code-link ju-function"><span class="ju-function">Verifier<span class="ju-delimiter">.</span>verify</span></a></span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:452" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:458" class="ju-code-link ju-var"><span class="ju-var">pv</span></a></span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span>
              <span class="ju-string">&quot;I identify this verifier with this name : &quot;</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/prelude-src.html#prelude:7" class="ju-code-link ju-var"><span class="ju-constructor"><span class="ju-delimiter">(</span>mkPair</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:456" class="ju-code-link ju-var"><span class="ju-var">n</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:451" class="ju-code-link ju-var"><span class="ju-var">child</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:457" class="ju-code-link ju-var"><span class="ju-var">c</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:459" class="ju-code-link ju-var"><span class="ju-var">pc</span></a></span>
          <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Data/Bool/Base-src.html#Stdlib.Data.Bool.Base:3" class="ju-code-link ju-function"><span class="ju-function">&amp;&amp;</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:143" class="ju-code-link ju-function"><span class="ju-function">OrdKey<span class="ju-delimiter">.</span>compare</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:145" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>ordKey</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:452" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:455" class="ju-code-link ju-var"><span class="ju-var">ph</span></a></span>
              <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:146" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HASH<span class="ju-delimiter">.</span>hash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:164" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>Verifier<span class="ju-delimiter">.</span>verifierHash</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:452" class="ju-code-link ju-var"><span class="ju-var">parent</span></a></span><span class="ju-delimiter">)</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:458" class="ju-code-link ju-var"><span class="ju-var">pv</span></a></span><span class="ju-delimiter">)</span>
            <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Trait/Eq-src.html#Stdlib.Trait.Eq:7" class="ju-code-link ju-function"><span class="ju-function">==</span></a></span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:3" class="ju-code-link ju-constructor"><span class="ju-constructor">Equal</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
    <span id="arch.system.identity.identity:461"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:461" class="ju-code-link ju-function"><span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:461" class="ju-code-link ju-function"><span class="ju-function">verifierNameHash</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://anoma.github.io/nspec/pr-287/arch/system/identity/identity-src.html#arch.system.identity.identity:453" class="ju-code-link ju-var"><span class="ju-var">hash</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
</pre><footer><pre>Powered by <a href="https://juvix.org">Juvix </a><a href="https://github.com/anoma/juvix/commit/bebe3d1">0.6.8-bebe3d1</a></pre></footer><footer><pre>Last modified on 2024-12-17 17:28 UTC</pre></footer></html>