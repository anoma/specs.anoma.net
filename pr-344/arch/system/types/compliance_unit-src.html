<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"><meta charset="UTF-8"><link href="https://specs.anoma.net/pr-344/assets/css/juvix-catppuchin.css" rel="stylesheet" type="text/css"><link href="https://specs.anoma.net/pr-344/assets/css/latte-light.css" rel="stylesheet" type="text/css"><link href="https://specs.anoma.net/pr-344/assets/css/juvix-source.css" rel="stylesheet" type="text/css"><script src="https://specs.anoma.net/pr-344/assets/js/highlight.js" type="text/javascript"></script><div id="package-header"><span class="caption"></span></div><pre id="src-content"><span class="ju-keyword">module</span> <span id="arch.system.types.compliance_unit:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.types.compliance_unit</span></span></a></span></a></span></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="prelude:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/prelude-src.html#prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/prelude-src.html#prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.system.state.resource_machine.prelude:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.state.resource_machine.prelude</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="Stdlib.Data.Fixity:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Fixity-src.html#Stdlib.Data.Fixity:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Fixity-src.html#Stdlib.Data.Fixity:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Fixity</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Stdlib.Data.List:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/List-src.html#Stdlib.Data.List:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/List-src.html#Stdlib.Data.List:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.List</span></span></a></span></a></span></span> <span class="ju-keyword">as</span> <span id="Stdlib.Data.List:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/List-src.html#Stdlib.Data.List:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/List-src.html#Stdlib.Data.List:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">List</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Stdlib.Data.Pair:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Pair-src.html#Stdlib.Data.Pair:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Pair-src.html#Stdlib.Data.Pair:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Pair</span></span></a></span></a></span></span> <span class="ju-keyword">as</span> <span id="Stdlib.Data.Pair:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Pair-src.html#Stdlib.Data.Pair:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Pair-src.html#Stdlib.Data.Pair:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Pair</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Stdlib.Data.Unit:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Unit-src.html#Stdlib.Data.Unit:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Unit-src.html#Stdlib.Data.Unit:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Unit</span></span></a></span></a></span></span> <span class="ju-keyword">as</span> <span id="Stdlib.Data.Unit:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Unit-src.html#Stdlib.Data.Unit:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Unit-src.html#Stdlib.Data.Unit:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Unit</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Stdlib.Data.Bool:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Bool-src.html#Stdlib.Data.Bool:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Bool-src.html#Stdlib.Data.Bool:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Bool</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Stdlib.Data.String:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/String-src.html#Stdlib.Data.String:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/String-src.html#Stdlib.Data.String:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.String</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Stdlib.Data.Nat:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Nat-src.html#Stdlib.Data.Nat:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Nat-src.html#Stdlib.Data.Nat:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Nat</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="Stdlib.Data.Maybe:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Maybe-src.html#Stdlib.Data.Maybe:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Maybe-src.html#Stdlib.Data.Maybe:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">Stdlib.Data.Maybe</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">import</span> <span id="arch.system.types.delta:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/delta-src.html#arch.system.types.delta:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/delta-src.html#arch.system.types.delta:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.types.delta</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.system.types.resource:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/resource-src.html#arch.system.types.resource:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/resource-src.html#arch.system.types.resource:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.types.resource</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.system.types.nullifier:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/nullifier-src.html#arch.system.types.nullifier:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/nullifier-src.html#arch.system.types.nullifier:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.types.nullifier</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.system.types.commitment:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/commitment-src.html#arch.system.types.commitment:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/commitment-src.html#arch.system.types.commitment:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.types.commitment</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.system.types.nullifierkey:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/nullifierkey-src.html#arch.system.types.nullifierkey:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/nullifierkey-src.html#arch.system.types.nullifierkey:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.types.nullifierkey</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.system.types.proving_system:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/proving_system-src.html#arch.system.types.proving_system:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/proving_system-src.html#arch.system.types.proving_system:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.types.proving_system</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>
<span class="ju-keyword">import</span> <span id="arch.system.types.compliance_proving_system:0"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:0" class="ju-code-link ju-module"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:0" class="ju-code-link ju-module"><span class="ju-module"><span class="ju-module">arch.system.types.compliance_proving_system</span></span></a></span></a></span></span> <span class="ju-keyword">open</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">axiom</span> <span id="arch.system.types.compliance_unit:1"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:1" class="ju-code-link ju-axiom"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:1" class="ju-code-link ju-axiom"><span class="ju-axiom">ReferenceInstance</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">axiom</span> <span id="arch.system.types.compliance_unit:2"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:2" class="ju-code-link ju-axiom"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:2" class="ju-code-link ju-axiom"><span class="ju-axiom">dereference</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:1" class="ju-code-link ju-axiom"><span class="ju-axiom">ReferenceInstance</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:7" class="ju-code-link ju-inductive"><span class="ju-inductive">ComplianceInstance</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">type</span> <span id="arch.system.types.compliance_unit:3"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:3" class="ju-code-link ju-inductive"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:3" class="ju-code-link ju-inductive"><span class="ju-inductive">ComplianceUnit</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:8"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:8" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:8" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:9"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:9" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:9" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>Proof</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.types.compliance_unit:10"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:10" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:10" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>VerifyingKey</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span id="arch.system.types.compliance_unit:11"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:11" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:11" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>ProvingKey</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span id="arch.system.types.compliance_unit:4"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:4" class="ju-code-link ju-constructor"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:4" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComplianceUnit</span></a></span></a></span></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:12" class="ju-code-link ju-var"><span class="ju-var">system</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:13" class="ju-code-link ju-inductive"><span class="ju-inductive">ComplianceProvingSystem</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:8" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:9" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:10" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:11" class="ju-code-link ju-var"><span class="ju-var">ProvingKey</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:13" class="ju-code-link ju-var"><span class="ju-var">vk</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:10" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:14" class="ju-code-link ju-var"><span class="ju-var">refInst</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:1" class="ju-code-link ju-axiom"><span class="ju-axiom">ReferenceInstance</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:15" class="ju-code-link ju-var"><span class="ju-var">delta</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:9" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHash</span></a></span><span class="ju-delimiter">;</span>
    <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:16" class="ju-code-link ju-var"><span class="ju-var">proof</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:9" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>

<span class="ju-keyword">syntax</span> <span class="ju-keyword">alias</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:17" class="ju-code-link ju-var"><span class="ju-var">DeltaHashGroup</span></a></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:9" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHash</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">axiom</span> <span id="arch.system.types.compliance_unit:5"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:5" class="ju-code-link ju-axiom"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:5" class="ju-code-link ju-axiom"><span class="ju-axiom">groupZero</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:17" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHashGroup</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">axiom</span> <span id="arch.system.types.compliance_unit:6"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:6" class="ju-code-link ju-axiom"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:6" class="ju-code-link ju-axiom"><span class="ju-axiom">groupAdd</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:17" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHashGroup</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:17" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHashGroup</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:17" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHashGroup</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">axiom</span> <span id="arch.system.types.compliance_unit:7"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:7" class="ju-code-link ju-axiom"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:7" class="ju-code-link ju-axiom"><span class="ju-axiom">groupSub</span></a></span></a></span></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:17" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHashGroup</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:17" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHashGroup</span></a></span> <span class="ju-keyword">-&gt;</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:17" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHashGroup</span></a></span><span class="ju-delimiter">;</span>
<span id="arch.system.types.compliance_unit:49"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:49" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:49" class="ju-code-link ju-function"><span class="ju-function">
sumOfResourceDeltas</span></a></span></a></span></span> <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:54" class="ju-code-link ju-var"><span class="ju-var">rList</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/Juvix/Builtin/V1/List-src.html#Juvix.Builtin.V1.List:1" class="ju-code-link ju-inductive"><span class="ju-inductive">List</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/resource-src.html#arch.system.types.resource:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Resource</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:17" class="ju-code-link ju-var"><span class="ju-inductive">DeltaHashGroup</span></a></span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/List/Base-src.html#Stdlib.Data.List.Base:5" class="ju-code-link ju-function"><span class="ju-function">listFoldl</span></a></span> <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.types.compliance_unit:55"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:55" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:55" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:56"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:56" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:56" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:6" class="ju-code-link ju-axiom"><span class="ju-axiom">groupAdd</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:55" class="ju-code-link ju-var"><span class="ju-var">acc</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/delta-src.html#arch.system.types.delta:5" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>HasDelta<span class="ju-delimiter">.</span>delta</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:56" class="ju-code-link ju-var"><span class="ju-var">r</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">}</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:5" class="ju-code-link ju-axiom"><span class="ju-axiom">groupZero</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:54" class="ju-code-link ju-var"><span class="ju-var">rList</span></a></span><span class="ju-delimiter">;</span>

<span class="ju-keyword">instance</span>
<span id="arch.system.types.compliance_unit:50"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:50" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:50" class="ju-code-link ju-function"><span class="ju-function">hasDeltaComplianceUnit</span></a></span></a></span></span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:57" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:58" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:59" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-delimiter">{</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:60" class="ju-code-link ju-var"><span class="ju-var">ProvingKey</span></a></span><span class="ju-delimiter">}</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/delta-src.html#arch.system.types.delta:1" class="ju-code-link ju-inductive"><span class="ju-inductive">HasDelta</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:3" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>ComplianceUnit</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:57" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:58" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:59" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:60" class="ju-code-link ju-var"><span class="ju-var">ProvingKey</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/delta-src.html#arch.system.types.delta:2" class="ju-code-link ju-constructor"><span class="ju-constructor">mkHasDelta</span></a></span><span class="ju-keyword">@</span><span class="ju-delimiter">{</span>
    <span id="arch.system.types.compliance_unit:70"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:70" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:70" class="ju-code-link ju-function"><span class="ju-function">delta</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.types.compliance_unit:61"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:61" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:61" class="ju-code-link ju-var"><span class="ju-var">u</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
        <span class="ju-keyword">case</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:61" class="ju-code-link ju-var"><span class="ju-var">u</span></a></span> <span class="ju-keyword">of</span>
          <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:4" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComplianceUnit</span></a></span> <span id="arch.system.types.compliance_unit:62"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:62" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:62" class="ju-code-link ju-var"><span class="ju-var">sys</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:63"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:63" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:63" class="ju-code-link ju-var"><span class="ju-var">vk</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:64"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:64" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:64" class="ju-code-link ju-var"><span class="ju-var">rInst</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:65"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:65" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:65" class="ju-code-link ju-var"><span class="ju-var">d</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:66"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:66" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:66" class="ju-code-link ju-var"><span class="ju-var">pf</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
            <span class="ju-keyword">let</span>
              <span id="arch.system.types.compliance_unit:67"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:67" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:67" class="ju-code-link ju-function"><span class="ju-function">cInst</span></a></span></a></span></span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:2" class="ju-code-link ju-axiom"><span class="ju-axiom">dereference</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:64" class="ju-code-link ju-var"><span class="ju-var">rInst</span></a></span><span class="ju-delimiter">;</span>
              <span id="arch.system.types.compliance_unit:68"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:68" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:68" class="ju-code-link ju-function"><span class="ju-function">consumedVal</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
                <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:49" class="ju-code-link ju-function"><span class="ju-function">sumOfResourceDeltas</span></a></span>
                  <span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Trait/Functor/Polymorphic-src.html#Stdlib.Trait.Functor.Polymorphic:9" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>map</span></a></span>
                    <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:11" class="ju-code-link ju-axiom"><span class="ju-axiom">dereferenceConsumed</span></a></span>
                    <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:161" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>orderedSetToList</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:29" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ComplianceInstance<span class="ju-delimiter">.</span>consumed</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:67" class="ju-code-link ju-function"><span class="ju-function">cInst</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
              <span id="arch.system.types.compliance_unit:69"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:69" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:69" class="ju-code-link ju-function"><span class="ju-function">createdVal</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
                <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:49" class="ju-code-link ju-function"><span class="ju-function">sumOfResourceDeltas</span></a></span>
                  <span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Trait/Functor/Polymorphic-src.html#Stdlib.Trait.Functor.Polymorphic:9" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>map</span></a></span>
                    <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:12" class="ju-code-link ju-axiom"><span class="ju-axiom">dereferenceCreated</span></a></span>
                    <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:161" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>orderedSetToList</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:30" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ComplianceInstance<span class="ju-delimiter">.</span>created</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:67" class="ju-code-link ju-function"><span class="ju-function">cInst</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
            <span class="ju-keyword">in</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:7" class="ju-code-link ju-axiom"><span class="ju-axiom">groupSub</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:68" class="ju-code-link ju-function"><span class="ju-function">consumedVal</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:69" class="ju-code-link ju-function"><span class="ju-function">createdVal</span></a></span><span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
  <span class="ju-delimiter">}</span><span class="ju-delimiter">;</span>
<span id="arch.system.types.compliance_unit:51"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:51" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:51" class="ju-code-link ju-function"><span class="ju-function">
verifyComplianceUnit</span></a></span></a></span></span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:71" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:72" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:73" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:74" class="ju-code-link ju-var"><span class="ju-var">ProvingKey</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:75" class="ju-code-link ju-var"><span class="ju-var">u</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:3" class="ju-code-link ju-inductive"><span class="ju-inductive">ComplianceUnit</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:71" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:72" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:73" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:74" class="ju-code-link ju-var"><span class="ju-var">ProvingKey</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/Juvix/Builtin/V1/Bool-src.html#Juvix.Builtin.V1.Bool:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Bool</span></a></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">case</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:75" class="ju-code-link ju-var"><span class="ju-var">u</span></a></span> <span class="ju-keyword">of</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:4" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComplianceUnit</span></a></span> <span id="arch.system.types.compliance_unit:76"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:76" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:76" class="ju-code-link ju-var"><span class="ju-var">sys</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:77"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:77" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:77" class="ju-code-link ju-var"><span class="ju-var">verK</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:78"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:78" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:78" class="ju-code-link ju-var"><span class="ju-var">rInst</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:79"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:79" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:79" class="ju-code-link ju-var"><span class="ju-var">delt</span></a></span></a></span></span> <span id="arch.system.types.compliance_unit:80"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:80" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:80" class="ju-code-link ju-var"><span class="ju-var">pr</span></a></span></a></span></span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/proving_system-src.html#arch.system.types.proving_system:11" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-comment">-- doc: returns sys.verify(verK, cInst, pr)</span>
        ProvingSystem<span class="ju-delimiter">.</span>verify</span></a></span>
        <span class="ju-delimiter">{{</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:36" class="ju-code-link ju-function"><span class="ju-function">ComplianceProvingSystem<span class="ju-delimiter">.</span>baseSystem</span></a></span> <span class="ju-delimiter">{{</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:76" class="ju-code-link ju-var"><span class="ju-var">sys</span></a></span><span class="ju-delimiter">}}</span><span class="ju-delimiter">}}</span>
        <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:77" class="ju-code-link ju-var"><span class="ju-var">verK</span></a></span>
        <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:2" class="ju-code-link ju-axiom"><span class="ju-axiom"><span class="ju-delimiter">(</span>dereference</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:78" class="ju-code-link ju-var"><span class="ju-var">rInst</span></a></span><span class="ju-delimiter">)</span>
        <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:80" class="ju-code-link ju-var"><span class="ju-var">pr</span></a></span><span class="ju-delimiter">;</span>
<span id="arch.system.types.compliance_unit:52"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:52" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:52" class="ju-code-link ju-function"><span class="ju-function">
consumed</span></a></span></a></span></span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:81" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:82" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:83" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:84" class="ju-code-link ju-var"><span class="ju-var">ProvingKey</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:85" class="ju-code-link ju-var"><span class="ju-var">u</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:3" class="ju-code-link ju-inductive"><span class="ju-inductive">ComplianceUnit</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:81" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:82" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:83" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:84" class="ju-code-link ju-var"><span class="ju-var">ProvingKey</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:122" class="ju-code-link ju-inductive"><span class="ju-inductive">OrderedSet</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/nullifier-src.html#arch.system.types.nullifier:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Nullifier</span></a></span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">case</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:85" class="ju-code-link ju-var"><span class="ju-var">u</span></a></span> <span class="ju-keyword">of</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:4" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComplianceUnit</span></a></span> <span class="ju-keyword">_</span> <span class="ju-keyword">_</span> <span id="arch.system.types.compliance_unit:86"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:86" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:86" class="ju-code-link ju-var"><span class="ju-var">rInst</span></a></span></a></span></span> <span class="ju-keyword">_</span> <span class="ju-keyword">_</span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:164" class="ju-code-link ju-function"><span class="ju-function">orderedSetMap</span></a></span>
        <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.types.compliance_unit:87"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:87" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:87" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>k</span></a></span></a></span></span><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">,</span></a></span> <span class="ju-keyword">_</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:9" class="ju-code-link ju-axiom"><span class="ju-axiom">dereferenceNullifier</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:87" class="ju-code-link ju-var"><span class="ju-var">k</span></a></span><span class="ju-delimiter">}</span>
        <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:29" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ComplianceInstance<span class="ju-delimiter">.</span>consumed</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:2" class="ju-code-link ju-axiom"><span class="ju-axiom"><span class="ju-delimiter">(</span>dereference</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:86" class="ju-code-link ju-var"><span class="ju-var">rInst</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
<span id="arch.system.types.compliance_unit:53"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:53" class="ju-code-link ju-function"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:53" class="ju-code-link ju-function"><span class="ju-function">
created</span></a></span></a></span></span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:88" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:89" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:90" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:91" class="ju-code-link ju-var"><span class="ju-var">ProvingKey</span></a></span> <span class="ju-keyword">:</span> <span class="ju-keyword">Type</span><span class="ju-delimiter">)</span>
  <span class="ju-delimiter">{{</span><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Trait/Ord-src.html#Stdlib.Trait.Ord:1" class="ju-code-link ju-inductive"><span class="ju-inductive">Ord</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:88" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">}}</span>
  <span class="ju-delimiter">(</span><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:92" class="ju-code-link ju-var"><span class="ju-var">u</span></a></span> <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:3" class="ju-code-link ju-inductive"><span class="ju-inductive">ComplianceUnit</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:88" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:89" class="ju-code-link ju-var"><span class="ju-var">Proof</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:90" class="ju-code-link ju-var"><span class="ju-var">VerifyingKey</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:91" class="ju-code-link ju-var"><span class="ju-var">ProvingKey</span></a></span><span class="ju-delimiter">)</span>
  <span class="ju-keyword">:</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:122" class="ju-code-link ju-inductive"><span class="ju-inductive">OrderedSet</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/commitment-src.html#arch.system.types.commitment:1" class="ju-code-link ju-inductive"><span class="ju-inductive"><span class="ju-delimiter">(</span>Commitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:88" class="ju-code-link ju-var"><span class="ju-var">A</span></a></span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span>
  <span class="ju-keyword">case</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:92" class="ju-code-link ju-var"><span class="ju-var">u</span></a></span> <span class="ju-keyword">of</span>
    <span class="ju-keyword">|</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:4" class="ju-code-link ju-constructor"><span class="ju-constructor">mkComplianceUnit</span></a></span> <span class="ju-keyword">_</span> <span class="ju-keyword">_</span> <span id="arch.system.types.compliance_unit:93"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:93" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:93" class="ju-code-link ju-var"><span class="ju-var">rInst</span></a></span></a></span></span> <span class="ju-keyword">_</span> <span class="ju-keyword">_</span> <span class="ju-keyword">:=</span>
      <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/state/resource_machine/prelude-src.html#arch.system.state.resource_machine.prelude:164" class="ju-code-link ju-function"><span class="ju-function">orderedSetMap</span></a></span>
        <span class="ju-keyword">\</span><span class="ju-delimiter">{</span><span id="arch.system.types.compliance_unit:94"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:94" class="ju-code-link ju-var"><span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:94" class="ju-code-link ju-var"><span class="ju-var"><span class="ju-delimiter">(</span>k</span></a></span></a></span></span><span class="annot"><a href="https://specs.anoma.net/pr-344/Stdlib/Data/Pair/Base-src.html#Stdlib.Data.Pair.Base:2" class="ju-code-link ju-constructor"><span class="ju-constructor">,</span></a></span> <span class="ju-keyword">_</span><span class="ju-delimiter">)</span> <span class="ju-keyword">:=</span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:10" class="ju-code-link ju-axiom"><span class="ju-axiom">dereferenceCommitment</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:94" class="ju-code-link ju-var"><span class="ju-var">k</span></a></span><span class="ju-delimiter">}</span>
        <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_proving_system-src.html#arch.system.types.compliance_proving_system:30" class="ju-code-link ju-function"><span class="ju-function"><span class="ju-delimiter">(</span>ComplianceInstance<span class="ju-delimiter">.</span>created</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:2" class="ju-code-link ju-axiom"><span class="ju-axiom"><span class="ju-delimiter">(</span>dereference</span></a></span> <span class="annot"><a href="https://specs.anoma.net/pr-344/arch/system/types/compliance_unit-src.html#arch.system.types.compliance_unit:93" class="ju-code-link ju-var"><span class="ju-var">rInst</span></a></span><span class="ju-delimiter">)</span><span class="ju-delimiter">)</span><span class="ju-delimiter">;</span>
</pre><footer><pre>Powered by <a href="https://juvix.org">Juvix </a><a href="https://github.com/anoma/juvix/commit/b954100">0.6.9-b954100</a></pre></footer><footer><pre>Last modified on 2025-03-24 19:32 UTC</pre></footer></html>